<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="DSA Interactive Learning Game - Master Data Structures & Algorithms through interactive quizzes, diagrams, and challenges" />
    <meta name="theme-color" content="#3b82f6" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
    <title>DSA Learning Game | CSC 731</title>
    <script type="module" crossorigin>var oS=Object.defineProperty;var lS=(t,e,r)=>e in t?oS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var jn=(t,e,r)=>lS(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var sx={exports:{}},gc={},ox={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jo=Symbol.for("react.element"),cS=Symbol.for("react.portal"),dS=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),vS=Symbol.for("react.provider"),pS=Symbol.for("react.context"),gS=Symbol.for("react.forward_ref"),mS=Symbol.for("react.suspense"),yS=Symbol.for("react.memo"),xS=Symbol.for("react.lazy"),hg=Symbol.iterator;function bS(t){return t===null||typeof t!="object"?null:(t=hg&&t[hg]||t["@@iterator"],typeof t=="function"?t:null)}var lx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ux=Object.assign,cx={};function ks(t,e,r){this.props=t,this.context=e,this.refs=cx,this.updater=r||lx}ks.prototype.isReactComponent={};ks.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ks.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dx(){}dx.prototype=ks.prototype;function _v(t,e,r){this.props=t,this.context=e,this.refs=cx,this.updater=r||lx}var Mv=_v.prototype=new dx;Mv.constructor=_v;ux(Mv,ks.prototype);Mv.isPureReactComponent=!0;var vg=Array.isArray,fx=Object.prototype.hasOwnProperty,Ov={current:null},hx={key:!0,ref:!0,__self:!0,__source:!0};function vx(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)fx.call(e,n)&&!hx.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];a.children=u}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Jo,type:t,key:i,ref:s,props:a,_owner:Ov.current}}function wS(t,e){return{$$typeof:Jo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jo}function SS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var pg=/\/+/g;function ld(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SS(""+t.key):e.toString(36)}function lu(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Jo:case cS:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+ld(s,0):n,vg(a)?(r="",t!=null&&(r=t.replace(pg,"$&/")+"/"),lu(a,e,r,"",function(l){return l})):a!=null&&(Iv(a)&&(a=wS(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(pg,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",vg(t))for(var o=0;o<t.length;o++){i=t[o];var u=n+ld(i,o);s+=lu(i,e,r,u,a)}else if(u=bS(t),typeof u=="function")for(t=u.call(t),o=0;!(i=t.next()).done;)i=i.value,u=n+ld(i,o++),s+=lu(i,e,r,u,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Pl(t,e,r){if(t==null)return t;var n=[],a=0;return lu(t,n,"","",function(i){return e.call(r,i,a++)}),n}function ES(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tr={current:null},uu={transition:null},CS={ReactCurrentDispatcher:Tr,ReactCurrentBatchConfig:uu,ReactCurrentOwner:Ov};function px(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Pl,forEach:function(t,e,r){Pl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Pl(t,function(){e++}),e},toArray:function(t){return Pl(t,function(e){return e})||[]},only:function(t){if(!Iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tt.Component=ks;tt.Fragment=dS;tt.Profiler=hS;tt.PureComponent=_v;tt.StrictMode=fS;tt.Suspense=mS;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CS;tt.act=px;tt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ux({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Ov.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)fx.call(e,u)&&!hx.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:Jo,type:t.type,key:a,ref:i,props:n,_owner:s}};tt.createContext=function(t){return t={$$typeof:pS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vS,_context:t},t.Consumer=t};tt.createElement=vx;tt.createFactory=function(t){var e=vx.bind(null,t);return e.type=t,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(t){return{$$typeof:gS,render:t}};tt.isValidElement=Iv;tt.lazy=function(t){return{$$typeof:xS,_payload:{_status:-1,_result:t},_init:ES}};tt.memo=function(t,e){return{$$typeof:yS,type:t,compare:e===void 0?null:e}};tt.startTransition=function(t){var e=uu.transition;uu.transition={};try{t()}finally{uu.transition=e}};tt.unstable_act=px;tt.useCallback=function(t,e){return Tr.current.useCallback(t,e)};tt.useContext=function(t){return Tr.current.useContext(t)};tt.useDebugValue=function(){};tt.useDeferredValue=function(t){return Tr.current.useDeferredValue(t)};tt.useEffect=function(t,e){return Tr.current.useEffect(t,e)};tt.useId=function(){return Tr.current.useId()};tt.useImperativeHandle=function(t,e,r){return Tr.current.useImperativeHandle(t,e,r)};tt.useInsertionEffect=function(t,e){return Tr.current.useInsertionEffect(t,e)};tt.useLayoutEffect=function(t,e){return Tr.current.useLayoutEffect(t,e)};tt.useMemo=function(t,e){return Tr.current.useMemo(t,e)};tt.useReducer=function(t,e,r){return Tr.current.useReducer(t,e,r)};tt.useRef=function(t){return Tr.current.useRef(t)};tt.useState=function(t){return Tr.current.useState(t)};tt.useSyncExternalStore=function(t,e,r){return Tr.current.useSyncExternalStore(t,e,r)};tt.useTransition=function(){return Tr.current.useTransition()};tt.version="18.3.1";ox.exports=tt;var ce=ox.exports;const kS=Lv(ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS=ce,NS=Symbol.for("react.element"),AS=Symbol.for("react.fragment"),PS=Object.prototype.hasOwnProperty,BS=TS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DS={key:!0,ref:!0,__self:!0,__source:!0};function gx(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)PS.call(e,n)&&!DS.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:NS,type:t,key:i,ref:s,props:a,_owner:BS.current}}gc.Fragment=AS;gc.jsx=gx;gc.jsxs=gx;sx.exports=gc;var x=sx.exports,mx={exports:{}},Hr={},yx={exports:{}},xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var $=O.length;O.push(V);e:for(;0<$;){var W=$-1>>>1,H=O[W];if(0<a(H,V))O[W]=V,O[$]=H,$=W;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var V=O[0],$=O.pop();if($!==V){O[0]=$;e:for(var W=0,H=O.length,ee=H>>>1;W<ee;){var re=2*(W+1)-1,te=O[re],le=re+1,fe=O[le];if(0>a(te,$))le<H&&0>a(fe,te)?(O[W]=fe,O[le]=$,W=le):(O[W]=te,O[re]=$,W=re);else if(le<H&&0>a(fe,$))O[W]=fe,O[le]=$,W=le;else break e}}return V}function a(O,V){var $=O.sortIndex-V.sortIndex;return $!==0?$:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],l=[],c=1,d=null,f=3,v=!1,h=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var V=r(l);V!==null;){if(V.callback===null)n(l);else if(V.startTime<=O)n(l),V.sortIndex=V.expirationTime,e(u,V);else break;V=r(l)}}function E(O){if(y=!1,w(O),!h)if(r(u)!==null)h=!0,F(k);else{var V=r(l);V!==null&&j(E,V.startTime-O)}}function k(O,V){h=!1,y&&(y=!1,g(A),A=-1),v=!0;var $=f;try{for(w(V),d=r(u);d!==null&&(!(d.expirationTime>V)||O&&!D());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var H=W(d.expirationTime<=V);V=t.unstable_now(),typeof H=="function"?d.callback=H:d===r(u)&&n(u),w(V)}else n(u);d=r(u)}if(d!==null)var ee=!0;else{var re=r(l);re!==null&&j(E,re.startTime-V),ee=!1}return ee}finally{d=null,f=$,v=!1}}var N=!1,C=null,A=-1,B=5,P=-1;function D(){return!(t.unstable_now()-P<B)}function M(){if(C!==null){var O=t.unstable_now();P=O;var V=!0;try{V=C(!0,O)}finally{V?L():(N=!1,C=null)}}else N=!1}var L;if(typeof p=="function")L=function(){p(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=M,L=function(){z.postMessage(null)}}else L=function(){b(M,0)};function F(O){C=O,N||(N=!0,L())}function j(O,V){A=b(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){h||v||(h=!0,F(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var $=f;f=V;try{return O()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=f;f=O;try{return V()}finally{f=$}},t.unstable_scheduleCallback=function(O,V,$){var W=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,O={id:c++,callback:V,priorityLevel:O,startTime:$,expirationTime:H,sortIndex:-1},$>W?(O.sortIndex=$,e(l,O),r(u)===null&&O===r(l)&&(y?(g(A),A=-1):y=!0,j(E,$-W))):(O.sortIndex=H,e(u,O),h||v||(h=!0,F(k))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var V=f;return function(){var $=f;f=V;try{return O.apply(this,arguments)}finally{f=$}}}})(xx);yx.exports=xx;var RS=yx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS=ce,Ur=RS;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bx=new Set,ko={};function wi(t,e){hs(t,e),hs(t+"Capture",e)}function hs(t,e){for(ko[t]=e,t=0;t<e.length;t++)bx.add(e[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bh=Object.prototype.hasOwnProperty,_S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gg={},mg={};function MS(t){return bh.call(mg,t)?!0:bh.call(gg,t)?!1:_S.test(t)?mg[t]=!0:(gg[t]=!0,!1)}function OS(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IS(t,e,r,n){if(e===null||typeof e>"u"||OS(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nr(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dr[t]=new Nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dr[e]=new Nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dr[t]=new Nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dr[t]=new Nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dr[t]=new Nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dr[t]=new Nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dr[t]=new Nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dr[t]=new Nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dr[t]=new Nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var jv=/[\-:]([a-z])/g;function zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jv,zv);dr[e]=new Nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jv,zv);dr[e]=new Nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jv,zv);dr[e]=new Nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dr[t]=new Nr(t,1,!1,t.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dr[t]=new Nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fv(t,e,r,n){var a=dr.hasOwnProperty(e)?dr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IS(e,r,a,n)&&(r=null),n||a===null?MS(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Jn=LS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),wx=Symbol.for("react.provider"),Sx=Symbol.for("react.context"),Vv=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Eh=Symbol.for("react.suspense_list"),Wv=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),Ex=Symbol.for("react.offscreen"),yg=Symbol.iterator;function $s(t){return t===null||typeof t!="object"?null:(t=yg&&t[yg]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,ud;function io(t){if(ud===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ud=e&&e[1]||""}return`
`+ud+t}var cd=!1;function dd(t,e){if(!t||cd)return"";cd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var a=l.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var u=`
`+a[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=o);break}}}finally{cd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?io(t):""}function jS(t){switch(t.tag){case 5:return io(t.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return t=dd(t.type,!1),t;case 11:return t=dd(t.type.render,!1),t;case 1:return t=dd(t.type,!0),t;default:return""}}function Ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wi:return"Fragment";case Vi:return"Portal";case wh:return"Profiler";case qv:return"StrictMode";case Sh:return"Suspense";case Eh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sx:return(t.displayName||"Context")+".Consumer";case wx:return(t._context.displayName||"Context")+".Provider";case Vv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wv:return e=t.displayName||null,e!==null?e:Ch(t.type)||"Memo";case la:e=t._payload,t=t._init;try{return Ch(t(e))}catch{}}return null}function zS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(e);case 8:return e===qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Aa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FS(t){var e=Cx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dl(t){t._valueTracker||(t._valueTracker=FS(t))}function kx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Cx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kh(t,e){var r=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function xg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Aa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tx(t,e){e=e.checked,e!=null&&Fv(t,"checked",e,!1)}function Th(t,e){Tx(t,e);var r=Aa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nh(t,e.type,r):e.hasOwnProperty("defaultValue")&&Nh(t,e.type,Aa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Nh(t,e,r){(e!=="number"||Ru(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var so=Array.isArray;function ns(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Aa(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Ah(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ve(92));if(so(r)){if(1<r.length)throw Error(ve(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Aa(r)}}function Nx(t,e){var r=Aa(e.value),n=Aa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Sg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ax(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ph(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ax(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,Px=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function To(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qS=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(t){qS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ho[e]=ho[t]})});function Bx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ho.hasOwnProperty(t)&&ho[t]?(""+e).trim():e+"px"}function Dx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Bx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var VS=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(t,e){if(e){if(VS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function Dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=null;function $v(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lh=null,as=null,is=null;function Eg(t){if(t=rl(t)){if(typeof Lh!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=wc(e),Lh(t.stateNode,t.type,e))}}function Rx(t){as?is?is.push(t):is=[t]:as=t}function Lx(){if(as){var t=as,e=is;if(is=as=null,Eg(t),e)for(t=0;t<e.length;t++)Eg(e[t])}}function _x(t,e){return t(e)}function Mx(){}var fd=!1;function Ox(t,e,r){if(fd)return t(e,r);fd=!0;try{return _x(t,e,r)}finally{fd=!1,(as!==null||is!==null)&&(Mx(),Lx())}}function No(t,e){var r=t.stateNode;if(r===null)return null;var n=wc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ve(231,e,typeof r));return r}var _h=!1;if(Gn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){_h=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{_h=!1}function WS(t,e,r,n,a,i,s,o,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var vo=!1,Lu=null,_u=!1,Mh=null,$S={onError:function(t){vo=!0,Lu=t}};function US(t,e,r,n,a,i,s,o,u){vo=!1,Lu=null,WS.apply($S,arguments)}function HS(t,e,r,n,a,i,s,o,u){if(US.apply(this,arguments),vo){if(vo){var l=Lu;vo=!1,Lu=null}else throw Error(ve(198));_u||(_u=!0,Mh=l)}}function Si(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Ix(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cg(t){if(Si(t)!==t)throw Error(ve(188))}function GS(t){var e=t.alternate;if(!e){if(e=Si(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Cg(a),t;if(i===n)return Cg(a),e;i=i.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?t:e}function jx(t){return t=GS(t),t!==null?zx(t):null}function zx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zx(t);if(e!==null)return e;t=t.sibling}return null}var Fx=Ur.unstable_scheduleCallback,kg=Ur.unstable_cancelCallback,KS=Ur.unstable_shouldYield,QS=Ur.unstable_requestPaint,It=Ur.unstable_now,YS=Ur.unstable_getCurrentPriorityLevel,Uv=Ur.unstable_ImmediatePriority,qx=Ur.unstable_UserBlockingPriority,Mu=Ur.unstable_NormalPriority,XS=Ur.unstable_LowPriority,Vx=Ur.unstable_IdlePriority,mc=null,Pn=null;function ZS(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(mc,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:tE,JS=Math.log,eE=Math.LN2;function tE(t){return t>>>=0,t===0?32:31-(JS(t)/eE|0)|0}var Ll=64,_l=4194304;function oo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ou(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=oo(o):(i&=s,i!==0&&(n=oo(i)))}else s=r&~a,s!==0?n=oo(s):i!==0&&(n=oo(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gn(e),a=1<<r,n|=t[r],e&=~a;return n}function rE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nE(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-gn(i),o=1<<s,u=a[s];u===-1?(!(o&r)||o&n)&&(a[s]=rE(o,e)):u<=e&&(t.expiredLanes|=o),i&=~o}}function Oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wx(){var t=Ll;return Ll<<=1,!(Ll&4194240)&&(Ll=64),t}function hd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function el(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=r}function aE(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-gn(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function Hv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gn(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var ht=0;function $x(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ux,Gv,Hx,Gx,Kx,Ih=!1,Ml=[],ya=null,xa=null,ba=null,Ao=new Map,Po=new Map,da=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tg(t,e){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Ao.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function Hs(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=rl(e),e!==null&&Gv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function sE(t,e,r,n,a){switch(e){case"focusin":return ya=Hs(ya,t,e,r,n,a),!0;case"dragenter":return xa=Hs(xa,t,e,r,n,a),!0;case"mouseover":return ba=Hs(ba,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ao.set(i,Hs(Ao.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Po.set(i,Hs(Po.get(i)||null,t,e,r,n,a)),!0}return!1}function Qx(t){var e=ni(t.target);if(e!==null){var r=Si(e);if(r!==null){if(e=r.tag,e===13){if(e=Ix(r),e!==null){t.blockedOn=e,Kx(t.priority,function(){Hx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=jh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Rh=n,r.target.dispatchEvent(n),Rh=null}else return e=rl(r),e!==null&&Gv(e),t.blockedOn=r,!1;e.shift()}return!0}function Ng(t,e,r){cu(t)&&r.delete(e)}function oE(){Ih=!1,ya!==null&&cu(ya)&&(ya=null),xa!==null&&cu(xa)&&(xa=null),ba!==null&&cu(ba)&&(ba=null),Ao.forEach(Ng),Po.forEach(Ng)}function Gs(t,e){t.blockedOn===e&&(t.blockedOn=null,Ih||(Ih=!0,Ur.unstable_scheduleCallback(Ur.unstable_NormalPriority,oE)))}function Bo(t){function e(a){return Gs(a,t)}if(0<Ml.length){Gs(Ml[0],t);for(var r=1;r<Ml.length;r++){var n=Ml[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ya!==null&&Gs(ya,t),xa!==null&&Gs(xa,t),ba!==null&&Gs(ba,t),Ao.forEach(e),Po.forEach(e),r=0;r<da.length;r++)n=da[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<da.length&&(r=da[0],r.blockedOn===null);)Qx(r),r.blockedOn===null&&da.shift()}var ss=Jn.ReactCurrentBatchConfig,Iu=!0;function lE(t,e,r,n){var a=ht,i=ss.transition;ss.transition=null;try{ht=1,Kv(t,e,r,n)}finally{ht=a,ss.transition=i}}function uE(t,e,r,n){var a=ht,i=ss.transition;ss.transition=null;try{ht=4,Kv(t,e,r,n)}finally{ht=a,ss.transition=i}}function Kv(t,e,r,n){if(Iu){var a=jh(t,e,r,n);if(a===null)Ed(t,e,n,ju,r),Tg(t,n);else if(sE(a,t,e,r,n))n.stopPropagation();else if(Tg(t,n),e&4&&-1<iE.indexOf(t)){for(;a!==null;){var i=rl(a);if(i!==null&&Ux(i),i=jh(t,e,r,n),i===null&&Ed(t,e,n,ju,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Ed(t,e,n,null,r)}}var ju=null;function jh(t,e,r,n){if(ju=null,t=$v(n),t=ni(t),t!==null)if(e=Si(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Ix(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ju=t,null}function Yx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YS()){case Uv:return 1;case qx:return 4;case Mu:case XS:return 16;case Vx:return 536870912;default:return 16}default:return 16}}var ha=null,Qv=null,du=null;function Xx(){if(du)return du;var t,e=Qv,r=e.length,n,a="value"in ha?ha.value:ha.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return du=a.slice(t,1<n?1-n:void 0)}function fu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ol(){return!0}function Ag(){return!1}function Gr(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ol:Ag,this.isPropagationStopped=Ag,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),e}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yv=Gr(Ts),tl=Dt({},Ts,{view:0,detail:0}),cE=Gr(tl),vd,pd,Ks,yc=Dt({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ks&&(Ks&&t.type==="mousemove"?(vd=t.screenX-Ks.screenX,pd=t.screenY-Ks.screenY):pd=vd=0,Ks=t),vd)},movementY:function(t){return"movementY"in t?t.movementY:pd}}),Pg=Gr(yc),dE=Dt({},yc,{dataTransfer:0}),fE=Gr(dE),hE=Dt({},tl,{relatedTarget:0}),gd=Gr(hE),vE=Dt({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),pE=Gr(vE),gE=Dt({},Ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mE=Gr(gE),yE=Dt({},Ts,{data:0}),Bg=Gr(yE),xE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wE[t])?!!e[t]:!1}function Xv(){return SE}var EE=Dt({},tl,{key:function(t){if(t.key){var e=xE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xv,charCode:function(t){return t.type==="keypress"?fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CE=Gr(EE),kE=Dt({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Gr(kE),TE=Dt({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xv}),NE=Gr(TE),AE=Dt({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),PE=Gr(AE),BE=Dt({},yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DE=Gr(BE),RE=[9,13,27,32],Zv=Gn&&"CompositionEvent"in window,po=null;Gn&&"documentMode"in document&&(po=document.documentMode);var LE=Gn&&"TextEvent"in window&&!po,Zx=Gn&&(!Zv||po&&8<po&&11>=po),Rg=" ",Lg=!1;function Jx(t,e){switch(t){case"keyup":return RE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $i=!1;function _E(t,e){switch(t){case"compositionend":return e1(e);case"keypress":return e.which!==32?null:(Lg=!0,Rg);case"textInput":return t=e.data,t===Rg&&Lg?null:t;default:return null}}function ME(t,e){if($i)return t==="compositionend"||!Zv&&Jx(t,e)?(t=Xx(),du=Qv=ha=null,$i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zx&&e.locale!=="ko"?null:e.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OE[t.type]:e==="textarea"}function t1(t,e,r,n){Rx(n),e=zu(e,"onChange"),0<e.length&&(r=new Yv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var go=null,Do=null;function IE(t){f1(t,0)}function xc(t){var e=Gi(t);if(kx(e))return t}function jE(t,e){if(t==="change")return e}var r1=!1;if(Gn){var md;if(Gn){var yd="oninput"in document;if(!yd){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),yd=typeof Mg.oninput=="function"}md=yd}else md=!1;r1=md&&(!document.documentMode||9<document.documentMode)}function Og(){go&&(go.detachEvent("onpropertychange",n1),Do=go=null)}function n1(t){if(t.propertyName==="value"&&xc(Do)){var e=[];t1(e,Do,t,$v(t)),Ox(IE,e)}}function zE(t,e,r){t==="focusin"?(Og(),go=e,Do=r,go.attachEvent("onpropertychange",n1)):t==="focusout"&&Og()}function FE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xc(Do)}function qE(t,e){if(t==="click")return xc(e)}function VE(t,e){if(t==="input"||t==="change")return xc(e)}function WE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:WE;function Ro(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!bh.call(e,a)||!xn(t[a],e[a]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,e){var r=Ig(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ig(r)}}function a1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?a1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i1(){for(var t=window,e=Ru();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ru(t.document)}return e}function Jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $E(t){var e=i1(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&a1(r.ownerDocument.documentElement,r)){if(n!==null&&Jv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=jg(r,i);var s=jg(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UE=Gn&&"documentMode"in document&&11>=document.documentMode,Ui=null,zh=null,mo=null,Fh=!1;function zg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||Ui==null||Ui!==Ru(n)||(n=Ui,"selectionStart"in n&&Jv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mo&&Ro(mo,n)||(mo=n,n=zu(zh,"onSelect"),0<n.length&&(e=new Yv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ui)))}function Il(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hi={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionend:Il("Transition","TransitionEnd")},xd={},s1={};Gn&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function bc(t){if(xd[t])return xd[t];if(!Hi[t])return t;var e=Hi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in s1)return xd[t]=e[r];return t}var o1=bc("animationend"),l1=bc("animationiteration"),u1=bc("animationstart"),c1=bc("transitionend"),d1=new Map,Fg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(t,e){d1.set(t,e),wi(e,[t])}for(var bd=0;bd<Fg.length;bd++){var wd=Fg[bd],HE=wd.toLowerCase(),GE=wd[0].toUpperCase()+wd.slice(1);Oa(HE,"on"+GE)}Oa(o1,"onAnimationEnd");Oa(l1,"onAnimationIteration");Oa(u1,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(c1,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KE=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function qg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,HS(n,e,void 0,t),t.currentTarget=null}function f1(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==i&&a.isPropagationStopped())break e;qg(a,o,l),i=u}else for(s=0;s<n.length;s++){if(o=n[s],u=o.instance,l=o.currentTarget,o=o.listener,u!==i&&a.isPropagationStopped())break e;qg(a,o,l),i=u}}}if(_u)throw t=Mh,_u=!1,Mh=null,t}function wt(t,e){var r=e[Uh];r===void 0&&(r=e[Uh]=new Set);var n=t+"__bubble";r.has(n)||(h1(e,t,2,!1),r.add(n))}function Sd(t,e,r){var n=0;e&&(n|=4),h1(r,t,n,e)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Lo(t){if(!t[jl]){t[jl]=!0,bx.forEach(function(r){r!=="selectionchange"&&(KE.has(r)||Sd(r,!1,t),Sd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jl]||(e[jl]=!0,Sd("selectionchange",!1,e))}}function h1(t,e,r,n){switch(Yx(e)){case 1:var a=lE;break;case 4:a=uE;break;default:a=Kv}r=a.bind(null,e,r,t),a=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Ed(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;s=s.return}for(;o!==null;){if(s=ni(o),s===null)return;if(u=s.tag,u===5||u===6){n=i=s;continue e}o=o.parentNode}}n=n.return}Ox(function(){var l=i,c=$v(r),d=[];e:{var f=d1.get(t);if(f!==void 0){var v=Yv,h=t;switch(t){case"keypress":if(fu(r)===0)break e;case"keydown":case"keyup":v=CE;break;case"focusin":h="focus",v=gd;break;case"focusout":h="blur",v=gd;break;case"beforeblur":case"afterblur":v=gd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=NE;break;case o1:case l1:case u1:v=pE;break;case c1:v=PE;break;case"scroll":v=cE;break;case"wheel":v=DE;break;case"copy":case"cut":case"paste":v=mE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Dg}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var p=l,w;p!==null;){w=p;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=No(p,g),E!=null&&y.push(_o(p,E,w)))),b)break;p=p.return}0<y.length&&(f=new v(f,h,null,r,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==Rh&&(h=r.relatedTarget||r.fromElement)&&(ni(h)||h[Kn]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(h=r.relatedTarget||r.toElement,v=l,h=h?ni(h):null,h!==null&&(b=Si(h),h!==b||h.tag!==5&&h.tag!==6)&&(h=null)):(v=null,h=l),v!==h)){if(y=Pg,E="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Dg,E="onPointerLeave",g="onPointerEnter",p="pointer"),b=v==null?f:Gi(v),w=h==null?f:Gi(h),f=new y(E,p+"leave",v,r,c),f.target=b,f.relatedTarget=w,E=null,ni(c)===l&&(y=new y(g,p+"enter",h,r,c),y.target=w,y.relatedTarget=b,E=y),b=E,v&&h)t:{for(y=v,g=h,p=0,w=y;w;w=Ri(w))p++;for(w=0,E=g;E;E=Ri(E))w++;for(;0<p-w;)y=Ri(y),p--;for(;0<w-p;)g=Ri(g),w--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ri(y),g=Ri(g)}y=null}else y=null;v!==null&&Vg(d,f,v,y,!1),h!==null&&b!==null&&Vg(d,b,h,y,!0)}}e:{if(f=l?Gi(l):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var k=jE;else if(_g(f))if(r1)k=VE;else{k=FE;var N=zE}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=qE);if(k&&(k=k(t,l))){t1(d,k,r,c);break e}N&&N(t,f,l),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Nh(f,"number",f.value)}switch(N=l?Gi(l):window,t){case"focusin":(_g(N)||N.contentEditable==="true")&&(Ui=N,zh=l,mo=null);break;case"focusout":mo=zh=Ui=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,zg(d,r,c);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":zg(d,r,c)}var C;if(Zv)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else $i?Jx(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Zx&&r.locale!=="ko"&&($i||A!=="onCompositionStart"?A==="onCompositionEnd"&&$i&&(C=Xx()):(ha=c,Qv="value"in ha?ha.value:ha.textContent,$i=!0)),N=zu(l,A),0<N.length&&(A=new Bg(A,t,null,r,c),d.push({event:A,listeners:N}),C?A.data=C:(C=e1(r),C!==null&&(A.data=C)))),(C=LE?_E(t,r):ME(t,r))&&(l=zu(l,"onBeforeInput"),0<l.length&&(c=new Bg("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=C))}f1(d,e)})}function _o(t,e,r){return{instance:t,listener:e,currentTarget:r}}function zu(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=No(t,r),i!=null&&n.unshift(_o(t,i,a)),i=No(t,e),i!=null&&n.push(_o(t,i,a))),t=t.return}return n}function Ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vg(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,u=o.alternate,l=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&l!==null&&(o=l,a?(u=No(r,i),u!=null&&s.unshift(_o(r,u,o))):a||(u=No(r,i),u!=null&&s.push(_o(r,u,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var QE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Wg(t){return(typeof t=="string"?t:""+t).replace(QE,`
`).replace(YE,"")}function zl(t,e,r){if(e=Wg(e),Wg(t)!==e&&r)throw Error(ve(425))}function Fu(){}var qh=null,Vh=null;function Wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,XE=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(t){return $g.resolve(null).then(t).catch(JE)}:$h;function JE(t){setTimeout(function(){throw t})}function Cd(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Bo(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Bo(e)}function wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ug(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ns,Mo="__reactProps$"+Ns,Kn="__reactContainer$"+Ns,Uh="__reactEvents$"+Ns,eC="__reactListeners$"+Ns,tC="__reactHandles$"+Ns;function ni(t){var e=t[Nn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Kn]||r[Nn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ug(t);t!==null;){if(r=t[Nn])return r;t=Ug(t)}return e}t=r,r=t.parentNode}return null}function rl(t){return t=t[Nn]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function wc(t){return t[Mo]||null}var Hh=[],Ki=-1;function Ia(t){return{current:t}}function St(t){0>Ki||(t.current=Hh[Ki],Hh[Ki]=null,Ki--)}function xt(t,e){Ki++,Hh[Ki]=t.current,t.current=e}var Pa={},mr=Ia(Pa),Ir=Ia(!1),ci=Pa;function vs(t,e){var r=t.type.contextTypes;if(!r)return Pa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function jr(t){return t=t.childContextTypes,t!=null}function qu(){St(Ir),St(mr)}function Hg(t,e,r){if(mr.current!==Pa)throw Error(ve(168));xt(mr,e),xt(Ir,r)}function v1(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ve(108,zS(t)||"Unknown",a));return Dt({},r,n)}function Vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pa,ci=mr.current,xt(mr,t),xt(Ir,Ir.current),!0}function Gg(t,e,r){var n=t.stateNode;if(!n)throw Error(ve(169));r?(t=v1(t,e,ci),n.__reactInternalMemoizedMergedChildContext=t,St(Ir),St(mr),xt(mr,t)):St(Ir),xt(Ir,r)}var qn=null,Sc=!1,kd=!1;function p1(t){qn===null?qn=[t]:qn.push(t)}function rC(t){Sc=!0,p1(t)}function ja(){if(!kd&&qn!==null){kd=!0;var t=0,e=ht;try{var r=qn;for(ht=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qn=null,Sc=!1}catch(a){throw qn!==null&&(qn=qn.slice(t+1)),Fx(Uv,ja),a}finally{ht=e,kd=!1}}return null}var Qi=[],Yi=0,Wu=null,$u=0,Zr=[],Jr=0,di=null,Wn=1,$n="";function Xa(t,e){Qi[Yi++]=$u,Qi[Yi++]=Wu,Wu=t,$u=e}function g1(t,e,r){Zr[Jr++]=Wn,Zr[Jr++]=$n,Zr[Jr++]=di,di=t;var n=Wn;t=$n;var a=32-gn(n)-1;n&=~(1<<a),r+=1;var i=32-gn(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Wn=1<<32-gn(e)+a|r<<a|n,$n=i+t}else Wn=1<<i|r<<a|n,$n=t}function ep(t){t.return!==null&&(Xa(t,1),g1(t,1,0))}function tp(t){for(;t===Wu;)Wu=Qi[--Yi],Qi[Yi]=null,$u=Qi[--Yi],Qi[Yi]=null;for(;t===di;)di=Zr[--Jr],Zr[Jr]=null,$n=Zr[--Jr],Zr[Jr]=null,Wn=Zr[--Jr],Zr[Jr]=null}var Wr=null,Vr=null,Ct=!1,pn=null;function m1(t,e){var r=tn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Kg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,Vr=wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,Vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=di!==null?{id:Wn,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wr=t,Vr=null,!0):!1;default:return!1}}function Gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kh(t){if(Ct){var e=Vr;if(e){var r=e;if(!Kg(t,e)){if(Gh(t))throw Error(ve(418));e=wa(r.nextSibling);var n=Wr;e&&Kg(t,e)?m1(n,r):(t.flags=t.flags&-4097|2,Ct=!1,Wr=t)}}else{if(Gh(t))throw Error(ve(418));t.flags=t.flags&-4097|2,Ct=!1,Wr=t}}}function Qg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function Fl(t){if(t!==Wr)return!1;if(!Ct)return Qg(t),Ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wh(t.type,t.memoizedProps)),e&&(e=Vr)){if(Gh(t))throw y1(),Error(ve(418));for(;e;)m1(t,e),e=wa(e.nextSibling)}if(Qg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Vr=wa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Vr=null}}else Vr=Wr?wa(t.stateNode.nextSibling):null;return!0}function y1(){for(var t=Vr;t;)t=wa(t.nextSibling)}function ps(){Vr=Wr=null,Ct=!1}function rp(t){pn===null?pn=[t]:pn.push(t)}var nC=Jn.ReactCurrentBatchConfig;function Qs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,t))}return t}function ql(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yg(t){var e=t._init;return e(t._payload)}function x1(t){function e(g,p){if(t){var w=g.deletions;w===null?(g.deletions=[p],g.flags|=16):w.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function a(g,p){return g=ka(g,p),g.index=0,g.sibling=null,g}function i(g,p,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<p?(g.flags|=2,p):w):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,p,w,E){return p===null||p.tag!==6?(p=Rd(w,g.mode,E),p.return=g,p):(p=a(p,w),p.return=g,p)}function u(g,p,w,E){var k=w.type;return k===Wi?c(g,p,w.props.children,E,w.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===la&&Yg(k)===p.type)?(E=a(p,w.props),E.ref=Qs(g,p,w),E.return=g,E):(E=xu(w.type,w.key,w.props,null,g.mode,E),E.ref=Qs(g,p,w),E.return=g,E)}function l(g,p,w,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Ld(w,g.mode,E),p.return=g,p):(p=a(p,w.children||[]),p.return=g,p)}function c(g,p,w,E,k){return p===null||p.tag!==7?(p=li(w,g.mode,E,k),p.return=g,p):(p=a(p,w),p.return=g,p)}function d(g,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Rd(""+p,g.mode,w),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bl:return w=xu(p.type,p.key,p.props,null,g.mode,w),w.ref=Qs(g,null,p),w.return=g,w;case Vi:return p=Ld(p,g.mode,w),p.return=g,p;case la:var E=p._init;return d(g,E(p._payload),w)}if(so(p)||$s(p))return p=li(p,g.mode,w,null),p.return=g,p;ql(g,p)}return null}function f(g,p,w,E){var k=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(g,p,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:return w.key===k?u(g,p,w,E):null;case Vi:return w.key===k?l(g,p,w,E):null;case la:return k=w._init,f(g,p,k(w._payload),E)}if(so(w)||$s(w))return k!==null?null:c(g,p,w,E,null);ql(g,w)}return null}function v(g,p,w,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,o(p,g,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bl:return g=g.get(E.key===null?w:E.key)||null,u(p,g,E,k);case Vi:return g=g.get(E.key===null?w:E.key)||null,l(p,g,E,k);case la:var N=E._init;return v(g,p,w,N(E._payload),k)}if(so(E)||$s(E))return g=g.get(w)||null,c(p,g,E,k,null);ql(p,E)}return null}function h(g,p,w,E){for(var k=null,N=null,C=p,A=p=0,B=null;C!==null&&A<w.length;A++){C.index>A?(B=C,C=null):B=C.sibling;var P=f(g,C,w[A],E);if(P===null){C===null&&(C=B);break}t&&C&&P.alternate===null&&e(g,C),p=i(P,p,A),N===null?k=P:N.sibling=P,N=P,C=B}if(A===w.length)return r(g,C),Ct&&Xa(g,A),k;if(C===null){for(;A<w.length;A++)C=d(g,w[A],E),C!==null&&(p=i(C,p,A),N===null?k=C:N.sibling=C,N=C);return Ct&&Xa(g,A),k}for(C=n(g,C);A<w.length;A++)B=v(C,g,A,w[A],E),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?A:B.key),p=i(B,p,A),N===null?k=B:N.sibling=B,N=B);return t&&C.forEach(function(D){return e(g,D)}),Ct&&Xa(g,A),k}function y(g,p,w,E){var k=$s(w);if(typeof k!="function")throw Error(ve(150));if(w=k.call(w),w==null)throw Error(ve(151));for(var N=k=null,C=p,A=p=0,B=null,P=w.next();C!==null&&!P.done;A++,P=w.next()){C.index>A?(B=C,C=null):B=C.sibling;var D=f(g,C,P.value,E);if(D===null){C===null&&(C=B);break}t&&C&&D.alternate===null&&e(g,C),p=i(D,p,A),N===null?k=D:N.sibling=D,N=D,C=B}if(P.done)return r(g,C),Ct&&Xa(g,A),k;if(C===null){for(;!P.done;A++,P=w.next())P=d(g,P.value,E),P!==null&&(p=i(P,p,A),N===null?k=P:N.sibling=P,N=P);return Ct&&Xa(g,A),k}for(C=n(g,C);!P.done;A++,P=w.next())P=v(C,g,A,P.value,E),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?A:P.key),p=i(P,p,A),N===null?k=P:N.sibling=P,N=P);return t&&C.forEach(function(M){return e(g,M)}),Ct&&Xa(g,A),k}function b(g,p,w,E){if(typeof w=="object"&&w!==null&&w.type===Wi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bl:e:{for(var k=w.key,N=p;N!==null;){if(N.key===k){if(k=w.type,k===Wi){if(N.tag===7){r(g,N.sibling),p=a(N,w.props.children),p.return=g,g=p;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===la&&Yg(k)===N.type){r(g,N.sibling),p=a(N,w.props),p.ref=Qs(g,N,w),p.return=g,g=p;break e}r(g,N);break}else e(g,N);N=N.sibling}w.type===Wi?(p=li(w.props.children,g.mode,E,w.key),p.return=g,g=p):(E=xu(w.type,w.key,w.props,null,g.mode,E),E.ref=Qs(g,p,w),E.return=g,g=E)}return s(g);case Vi:e:{for(N=w.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(g,p.sibling),p=a(p,w.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Ld(w,g.mode,E),p.return=g,g=p}return s(g);case la:return N=w._init,b(g,p,N(w._payload),E)}if(so(w))return h(g,p,w,E);if($s(w))return y(g,p,w,E);ql(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(r(g,p.sibling),p=a(p,w),p.return=g,g=p):(r(g,p),p=Rd(w,g.mode,E),p.return=g,g=p),s(g)):r(g,p)}return b}var gs=x1(!0),b1=x1(!1),Uu=Ia(null),Hu=null,Xi=null,np=null;function ap(){np=Xi=Hu=null}function ip(t){var e=Uu.current;St(Uu),t._currentValue=e}function Qh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function os(t,e){Hu=t,np=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mr=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(np!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(Hu===null)throw Error(ve(308));Xi=t,Hu.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var ai=null;function sp(t){ai===null?ai=[t]:ai.push(t)}function w1(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,sp(e)):(r.next=a.next,a.next=r),e.interleaved=r,Qn(t,n)}function Qn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ua=!1;function op(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Qn(t,r)}return a=n.interleaved,a===null?(e.next=e,sp(n)):(e.next=a.next,a.next=e),n.interleaved=e,Qn(t,r)}function hu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hv(t,r)}}function Xg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Gu(t,e,r,n){var a=t.updateQueue;ua=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,l=u.next;u.next=null,s===null?i=l:s.next=l,s=u;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=u))}if(i!==null){var d=a.baseState;s=0,c=l=u=null,o=i;do{var f=o.lane,v=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=t,y=o;switch(f=e,v=r,y.tag){case 1:if(h=y.payload,typeof h=="function"){d=h.call(v,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,f=typeof h=="function"?h.call(v,d,f):h,f==null)break e;d=Dt({},d,f);break e;case 2:ua=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=v,u=d):c=c.next=v,s|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(c===null&&(u=d),a.baseState=u,a.firstBaseUpdate=l,a.lastBaseUpdate=c,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);hi|=s,t.lanes=s,t.memoizedState=d}}function Zg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ve(191,a));a.call(n)}}}var nl={},Bn=Ia(nl),Oo=Ia(nl),Io=Ia(nl);function ii(t){if(t===nl)throw Error(ve(174));return t}function lp(t,e){switch(xt(Io,e),xt(Oo,t),xt(Bn,nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ph(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ph(e,t)}St(Bn),xt(Bn,e)}function ms(){St(Bn),St(Oo),St(Io)}function E1(t){ii(Io.current);var e=ii(Bn.current),r=Ph(e,t.type);e!==r&&(xt(Oo,t),xt(Bn,r))}function up(t){Oo.current===t&&(St(Bn),St(Oo))}var At=Ia(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Td=[];function cp(){for(var t=0;t<Td.length;t++)Td[t]._workInProgressVersionPrimary=null;Td.length=0}var vu=Jn.ReactCurrentDispatcher,Nd=Jn.ReactCurrentBatchConfig,fi=0,Pt=null,Ht=null,tr=null,Qu=!1,yo=!1,jo=0,aC=0;function vr(){throw Error(ve(321))}function dp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xn(t[r],e[r]))return!1;return!0}function fp(t,e,r,n,a,i){if(fi=i,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vu.current=t===null||t.memoizedState===null?lC:uC,t=r(n,a),yo){i=0;do{if(yo=!1,jo=0,25<=i)throw Error(ve(301));i+=1,tr=Ht=null,e.updateQueue=null,vu.current=cC,t=r(n,a)}while(yo)}if(vu.current=Yu,e=Ht!==null&&Ht.next!==null,fi=0,tr=Ht=Pt=null,Qu=!1,e)throw Error(ve(300));return t}function hp(){var t=jo!==0;return jo=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Pt.memoizedState=tr=t:tr=tr.next=t,tr}function sn(){if(Ht===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=tr===null?Pt.memoizedState:tr.next;if(e!==null)tr=e,Ht=t;else{if(t===null)throw Error(ve(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},tr===null?Pt.memoizedState=tr=t:tr=tr.next=t}return tr}function zo(t,e){return typeof e=="function"?e(t):e}function Ad(t){var e=sn(),r=e.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=t;var n=Ht,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,u=null,l=i;do{var c=l.lane;if((fi&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(o=u=d,s=n):u=u.next=d,Pt.lanes|=c,hi|=c}l=l.next}while(l!==null&&l!==i);u===null?s=n:u.next=o,xn(n,e.memoizedState)||(Mr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Pt.lanes|=i,hi|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Pd(t){var e=sn(),r=e.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);xn(i,e.memoizedState)||(Mr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function C1(){}function k1(t,e){var r=Pt,n=sn(),a=e(),i=!xn(n.memoizedState,a);if(i&&(n.memoizedState=a,Mr=!0),n=n.queue,vp(A1.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,Fo(9,N1.bind(null,r,n,a,e),void 0,null),rr===null)throw Error(ve(349));fi&30||T1(r,e,a)}return a}function T1(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function N1(t,e,r,n){e.value=r,e.getSnapshot=n,P1(e)&&B1(t)}function A1(t,e,r){return r(function(){P1(e)&&B1(t)})}function P1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xn(t,r)}catch{return!0}}function B1(t){var e=Qn(t,1);e!==null&&mn(e,t,1,-1)}function Jg(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:t},e.queue=t,t=t.dispatch=oC.bind(null,Pt,t),[e.memoizedState,t]}function Fo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function D1(){return sn().memoizedState}function pu(t,e,r,n){var a=Tn();Pt.flags|=t,a.memoizedState=Fo(1|e,r,void 0,n===void 0?null:n)}function Ec(t,e,r,n){var a=sn();n=n===void 0?null:n;var i=void 0;if(Ht!==null){var s=Ht.memoizedState;if(i=s.destroy,n!==null&&dp(n,s.deps)){a.memoizedState=Fo(e,r,i,n);return}}Pt.flags|=t,a.memoizedState=Fo(1|e,r,i,n)}function em(t,e){return pu(8390656,8,t,e)}function vp(t,e){return Ec(2048,8,t,e)}function R1(t,e){return Ec(4,2,t,e)}function L1(t,e){return Ec(4,4,t,e)}function _1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M1(t,e,r){return r=r!=null?r.concat([t]):null,Ec(4,4,_1.bind(null,e,t),r)}function pp(){}function O1(t,e){var r=sn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function I1(t,e){var r=sn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function j1(t,e,r){return fi&21?(xn(r,e)||(r=Wx(),Pt.lanes|=r,hi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mr=!0),t.memoizedState=r)}function iC(t,e){var r=ht;ht=r!==0&&4>r?r:4,t(!0);var n=Nd.transition;Nd.transition={};try{t(!1),e()}finally{ht=r,Nd.transition=n}}function z1(){return sn().memoizedState}function sC(t,e,r){var n=Ca(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},F1(t))q1(e,r);else if(r=w1(t,e,r,n),r!==null){var a=Cr();mn(r,t,n,a),V1(r,e,n)}}function oC(t,e,r){var n=Ca(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(F1(t))q1(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,xn(o,s)){var u=e.interleaved;u===null?(a.next=a,sp(e)):(a.next=u.next,u.next=a),e.interleaved=a;return}}catch{}finally{}r=w1(t,e,a,n),r!==null&&(a=Cr(),mn(r,t,n,a),V1(r,e,n))}}function F1(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function q1(t,e){yo=Qu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function V1(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hv(t,r)}}var Yu={readContext:an,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},lC={readContext:an,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:em,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,pu(4194308,4,_1.bind(null,e,t),r)},useLayoutEffect:function(t,e){return pu(4194308,4,t,e)},useInsertionEffect:function(t,e){return pu(4,2,t,e)},useMemo:function(t,e){var r=Tn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Tn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sC.bind(null,Pt,t),[n.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:Jg,useDebugValue:pp,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=Jg(!1),e=t[0];return t=iC.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Pt,a=Tn();if(Ct){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=e(),rr===null)throw Error(ve(349));fi&30||T1(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,em(A1.bind(null,n,i,t),[t]),n.flags|=2048,Fo(9,N1.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Tn(),e=rr.identifierPrefix;if(Ct){var r=$n,n=Wn;r=(n&~(1<<32-gn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=jo++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=aC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uC={readContext:an,useCallback:O1,useContext:an,useEffect:vp,useImperativeHandle:M1,useInsertionEffect:R1,useLayoutEffect:L1,useMemo:I1,useReducer:Ad,useRef:D1,useState:function(){return Ad(zo)},useDebugValue:pp,useDeferredValue:function(t){var e=sn();return j1(e,Ht.memoizedState,t)},useTransition:function(){var t=Ad(zo)[0],e=sn().memoizedState;return[t,e]},useMutableSource:C1,useSyncExternalStore:k1,useId:z1,unstable_isNewReconciler:!1},cC={readContext:an,useCallback:O1,useContext:an,useEffect:vp,useImperativeHandle:M1,useInsertionEffect:R1,useLayoutEffect:L1,useMemo:I1,useReducer:Pd,useRef:D1,useState:function(){return Pd(zo)},useDebugValue:pp,useDeferredValue:function(t){var e=sn();return Ht===null?e.memoizedState=t:j1(e,Ht.memoizedState,t)},useTransition:function(){var t=Pd(zo)[0],e=sn().memoizedState;return[t,e]},useMutableSource:C1,useSyncExternalStore:k1,useId:z1,unstable_isNewReconciler:!1};function fn(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Yh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Dt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cc={isMounted:function(t){return(t=t._reactInternals)?Si(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Cr(),a=Ca(t),i=Hn(n,a);i.payload=e,r!=null&&(i.callback=r),e=Sa(t,i,a),e!==null&&(mn(e,t,a,n),hu(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Cr(),a=Ca(t),i=Hn(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Sa(t,i,a),e!==null&&(mn(e,t,a,n),hu(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Cr(),n=Ca(t),a=Hn(r,n);a.tag=2,e!=null&&(a.callback=e),e=Sa(t,a,n),e!==null&&(mn(e,t,n,r),hu(e,t,n))}};function tm(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ro(r,n)||!Ro(a,i):!0}function W1(t,e,r){var n=!1,a=Pa,i=e.contextType;return typeof i=="object"&&i!==null?i=an(i):(a=jr(e)?ci:mr.current,n=e.contextTypes,i=(n=n!=null)?vs(t,a):Pa),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function rm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Cc.enqueueReplaceState(e,e.state,null)}function Xh(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},op(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=an(i):(i=jr(e)?ci:mr.current,a.context=vs(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yh(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Cc.enqueueReplaceState(a,a.state,null),Gu(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function ys(t,e){try{var r="",n=e;do r+=jS(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Bd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Zh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var dC=typeof WeakMap=="function"?WeakMap:Map;function $1(t,e,r){r=Hn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zu||(Zu=!0,lv=n),Zh(t,e)},r}function U1(t,e,r){r=Hn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Zh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zh(t,e),typeof n!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function nm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new dC;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=kC.bind(null,t,e,r),e.then(t,t))}function am(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function im(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Hn(-1,1),e.tag=2,Sa(r,e,1))),r.lanes|=1),t)}var fC=Jn.ReactCurrentOwner,Mr=!1;function Er(t,e,r,n){e.child=t===null?b1(e,null,r,n):gs(e,t.child,r,n)}function sm(t,e,r,n,a){r=r.render;var i=e.ref;return os(e,a),n=fp(t,e,r,n,i,a),r=hp(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Yn(t,e,a)):(Ct&&r&&ep(e),e.flags|=1,Er(t,e,n,a),e.child)}function om(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Ep(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,H1(t,e,i,n,a)):(t=xu(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ro,r(s,n)&&t.ref===e.ref)return Yn(t,e,a)}return e.flags|=1,t=ka(i,n),t.ref=e.ref,t.return=e,e.child=t}function H1(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Ro(i,n)&&t.ref===e.ref)if(Mr=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(Mr=!0);else return e.lanes=t.lanes,Yn(t,e,a)}return Jh(t,e,r,n,a)}function G1(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Ji,qr),qr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Ji,qr),qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,xt(Ji,qr),qr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,xt(Ji,qr),qr|=n;return Er(t,e,a,r),e.child}function K1(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Jh(t,e,r,n,a){var i=jr(r)?ci:mr.current;return i=vs(e,i),os(e,a),r=fp(t,e,r,n,i,a),n=hp(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Yn(t,e,a)):(Ct&&n&&ep(e),e.flags|=1,Er(t,e,r,a),e.child)}function lm(t,e,r,n,a){if(jr(r)){var i=!0;Vu(e)}else i=!1;if(os(e,a),e.stateNode===null)gu(t,e),W1(e,r,n),Xh(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var u=s.context,l=r.contextType;typeof l=="object"&&l!==null?l=an(l):(l=jr(r)?ci:mr.current,l=vs(e,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||u!==l)&&rm(e,s,n,l),ua=!1;var f=e.memoizedState;s.state=f,Gu(e,n,s,a),u=e.memoizedState,o!==n||f!==u||Ir.current||ua?(typeof c=="function"&&(Yh(e,r,c,n),u=e.memoizedState),(o=ua||tm(e,r,o,n,f,u,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),s.props=n,s.state=u,s.context=l,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,S1(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:fn(e.type,o),s.props=l,d=e.pendingProps,f=s.context,u=r.contextType,typeof u=="object"&&u!==null?u=an(u):(u=jr(r)?ci:mr.current,u=vs(e,u));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==u)&&rm(e,s,n,u),ua=!1,f=e.memoizedState,s.state=f,Gu(e,n,s,a);var h=e.memoizedState;o!==d||f!==h||Ir.current||ua?(typeof v=="function"&&(Yh(e,r,v,n),h=e.memoizedState),(l=ua||tm(e,r,l,n,f,h,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=h),s.props=n,s.state=h,s.context=u,n=l):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ev(t,e,r,n,i,a)}function ev(t,e,r,n,a,i){K1(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&Gg(e,r,!1),Yn(t,e,i);n=e.stateNode,fC.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=gs(e,t.child,null,i),e.child=gs(e,null,o,i)):Er(t,e,o,i),e.memoizedState=n.state,a&&Gg(e,r,!0),e.child}function Q1(t){var e=t.stateNode;e.pendingContext?Hg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hg(t,e.context,!1),lp(t,e.containerInfo)}function um(t,e,r,n,a){return ps(),rp(a),e.flags|=256,Er(t,e,r,n),e.child}var tv={dehydrated:null,treeContext:null,retryLane:0};function rv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y1(t,e,r){var n=e.pendingProps,a=At.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),xt(At,a&1),t===null)return Kh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Nc(s,n,0,null),t=li(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rv(r),e.memoizedState=tv,t):gp(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return hC(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var u={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=ka(a,u),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ka(o,i):(i=li(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?rv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=tv,n}return i=t.child,t=i.sibling,n=ka(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function gp(t,e){return e=Nc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vl(t,e,r,n){return n!==null&&rp(n),gs(e,t.child,null,r),t=gp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hC(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=Bd(Error(ve(422))),Vl(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Nc({mode:"visible",children:n.children},a,0,null),i=li(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&gs(e,t.child,null,s),e.child.memoizedState=rv(s),e.memoizedState=tv,i);if(!(e.mode&1))return Vl(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ve(419)),n=Bd(i,n,void 0),Vl(t,e,s,n)}if(o=(s&t.childLanes)!==0,Mr||o){if(n=rr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Qn(t,a),mn(n,t,a,-1))}return Sp(),n=Bd(Error(ve(421))),Vl(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=TC.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Vr=wa(a.nextSibling),Wr=e,Ct=!0,pn=null,t!==null&&(Zr[Jr++]=Wn,Zr[Jr++]=$n,Zr[Jr++]=di,Wn=t.id,$n=t.overflow,di=e),e=gp(e,n.children),e.flags|=4096,e)}function cm(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Qh(t.return,e,r)}function Dd(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function X1(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Er(t,e,n.children,r),n=At.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cm(t,r,e);else if(t.tag===19)cm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xt(At,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Ku(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Dd(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Ku(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Dd(e,!0,r,null,i);break;case"together":Dd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,r=ka(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ka(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vC(t,e,r){switch(e.tag){case 3:Q1(e),ps();break;case 5:E1(e);break;case 1:jr(e.type)&&Vu(e);break;case 4:lp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;xt(Uu,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xt(At,At.current&1),e.flags|=128,null):r&e.child.childLanes?Y1(t,e,r):(xt(At,At.current&1),t=Yn(t,e,r),t!==null?t.sibling:null);xt(At,At.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return X1(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xt(At,At.current),n)break;return null;case 22:case 23:return e.lanes=0,G1(t,e,r)}return Yn(t,e,r)}var Z1,nv,J1,eb;Z1=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nv=function(){};J1=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,ii(Bn.current);var i=null;switch(r){case"input":a=kh(t,a),n=kh(t,n),i=[];break;case"select":a=Dt({},a,{value:void 0}),n=Dt({},n,{value:void 0}),i=[];break;case"textarea":a=Ah(t,a),n=Ah(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fu)}Bh(r,n);var s;r=null;for(l in a)if(!n.hasOwnProperty(l)&&a.hasOwnProperty(l)&&a[l]!=null)if(l==="style"){var o=a[l];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ko.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var u=n[l];if(o=a!=null?a[l]:void 0,n.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&o[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(i||(i=[]),i.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ko.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&wt("scroll",t),i||o===u||(i=[])):(i=i||[]).push(l,u))}r&&(i=i||[]).push("style",r);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};eb=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ys(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function pC(t,e,r){var n=e.pendingProps;switch(tp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return jr(e.type)&&qu(),pr(e),null;case 3:return n=e.stateNode,ms(),St(Ir),St(mr),cp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(dv(pn),pn=null))),nv(t,e),pr(e),null;case 5:up(e);var a=ii(Io.current);if(r=e.type,t!==null&&e.stateNode!=null)J1(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ve(166));return pr(e),null}if(t=ii(Bn.current),Fl(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Nn]=e,n[Mo]=i,t=(e.mode&1)!==0,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<lo.length;a++)wt(lo[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":xg(n,i),wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},wt("invalid",n);break;case"textarea":wg(n,i),wt("invalid",n)}Bh(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&zl(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&zl(n.textContent,o,t),a=["children",""+o]):ko.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&wt("scroll",n)}switch(r){case"input":Dl(n),bg(n,i,!0);break;case"textarea":Dl(n),Sg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fu)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ax(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Nn]=e,t[Mo]=n,Z1(t,e,!1,!1),e.stateNode=t;e:{switch(s=Dh(r,n),r){case"dialog":wt("cancel",t),wt("close",t),a=n;break;case"iframe":case"object":case"embed":wt("load",t),a=n;break;case"video":case"audio":for(a=0;a<lo.length;a++)wt(lo[a],t);a=n;break;case"source":wt("error",t),a=n;break;case"img":case"image":case"link":wt("error",t),wt("load",t),a=n;break;case"details":wt("toggle",t),a=n;break;case"input":xg(t,n),a=kh(t,n),wt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Dt({},n,{value:void 0}),wt("invalid",t);break;case"textarea":wg(t,n),a=Ah(t,n),wt("invalid",t);break;default:a=n}Bh(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Dx(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Px(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&To(t,u):typeof u=="number"&&To(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ko.hasOwnProperty(i)?u!=null&&i==="onScroll"&&wt("scroll",t):u!=null&&Fv(t,i,u,s))}switch(r){case"input":Dl(t),bg(t,n,!1);break;case"textarea":Dl(t),Sg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Aa(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ns(t,!!n.multiple,i,!1):n.defaultValue!=null&&ns(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Fu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(t&&e.stateNode!=null)eb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ve(166));if(r=ii(Io.current),ii(Bn.current),Fl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Nn]=e,(i=n.nodeValue!==r)&&(t=Wr,t!==null))switch(t.tag){case 3:zl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zl(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nn]=e,e.stateNode=n}return pr(e),null;case 13:if(St(At),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ct&&Vr!==null&&e.mode&1&&!(e.flags&128))y1(),ps(),e.flags|=98560,i=!1;else if(i=Fl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ve(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[Nn]=e}else ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),i=!1}else pn!==null&&(dv(pn),pn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?Gt===0&&(Gt=3):Sp())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return ms(),nv(t,e),t===null&&Lo(e.stateNode.containerInfo),pr(e),null;case 10:return ip(e.type._context),pr(e),null;case 17:return jr(e.type)&&qu(),pr(e),null;case 19:if(St(At),i=e.memoizedState,i===null)return pr(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)Ys(i,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ku(t),s!==null){for(e.flags|=128,Ys(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xt(At,At.current&1|2),e.child}t=t.sibling}i.tail!==null&&It()>xs&&(e.flags|=128,n=!0,Ys(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ku(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ys(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ct)return pr(e),null}else 2*It()-i.renderingStartTime>xs&&r!==1073741824&&(e.flags|=128,n=!0,Ys(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=It(),e.sibling=null,r=At.current,xt(At,n?r&1|2:r&1),e):(pr(e),null);case 22:case 23:return wp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qr&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function gC(t,e){switch(tp(e),e.tag){case 1:return jr(e.type)&&qu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ms(),St(Ir),St(mr),cp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return up(e),null;case 13:if(St(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(At),null;case 4:return ms(),null;case 10:return ip(e.type._context),null;case 22:case 23:return wp(),null;case 24:return null;default:return null}}var Wl=!1,gr=!1,mC=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Zi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_t(t,e,n)}else r.current=null}function av(t,e,r){try{r()}catch(n){_t(t,e,n)}}var dm=!1;function yC(t,e){if(qh=Iu,t=i1(),Jv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,u=-1,l=0,c=0,d=t,f=null;t:for(;;){for(var v;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(u=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===t)break t;if(f===r&&++l===a&&(o=s),f===i&&++c===n&&(u=s),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vh={focusedElem:t,selectionRange:r},Iu=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,b=h.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:fn(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(E){_t(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return h=dm,dm=!1,h}function xo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&av(e,r,i)}a=a.next}while(a!==n)}}function kc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function iv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tb(t){var e=t.alternate;e!==null&&(t.alternate=null,tb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Mo],delete e[Uh],delete e[eC],delete e[tC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rb(t){return t.tag===5||t.tag===3||t.tag===4}function fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fu));else if(n!==4&&(t=t.child,t!==null))for(sv(t,e,r),t=t.sibling;t!==null;)sv(t,e,r),t=t.sibling}function ov(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ov(t,e,r),t=t.sibling;t!==null;)ov(t,e,r),t=t.sibling}var sr=null,hn=!1;function ia(t,e,r){for(r=r.child;r!==null;)nb(t,e,r),r=r.sibling}function nb(t,e,r){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(mc,r)}catch{}switch(r.tag){case 5:gr||Zi(r,e);case 6:var n=sr,a=hn;sr=null,ia(t,e,r),sr=n,hn=a,sr!==null&&(hn?(t=sr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):sr.removeChild(r.stateNode));break;case 18:sr!==null&&(hn?(t=sr,r=r.stateNode,t.nodeType===8?Cd(t.parentNode,r):t.nodeType===1&&Cd(t,r),Bo(t)):Cd(sr,r.stateNode));break;case 4:n=sr,a=hn,sr=r.stateNode.containerInfo,hn=!0,ia(t,e,r),sr=n,hn=a;break;case 0:case 11:case 14:case 15:if(!gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&av(r,e,s),a=a.next}while(a!==n)}ia(t,e,r);break;case 1:if(!gr&&(Zi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_t(r,e,o)}ia(t,e,r);break;case 21:ia(t,e,r);break;case 22:r.mode&1?(gr=(n=gr)||r.memoizedState!==null,ia(t,e,r),gr=n):ia(t,e,r);break;default:ia(t,e,r)}}function hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new mC),e.forEach(function(n){var a=NC.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function dn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:sr=o.stateNode,hn=!1;break e;case 3:sr=o.stateNode.containerInfo,hn=!0;break e;case 4:sr=o.stateNode.containerInfo,hn=!0;break e}o=o.return}if(sr===null)throw Error(ve(160));nb(i,s,a),sr=null,hn=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(l){_t(a,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ab(e,t),e=e.sibling}function ab(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),Sn(t),n&4){try{xo(3,t,t.return),kc(3,t)}catch(y){_t(t,t.return,y)}try{xo(5,t,t.return)}catch(y){_t(t,t.return,y)}}break;case 1:dn(e,t),Sn(t),n&512&&r!==null&&Zi(r,r.return);break;case 5:if(dn(e,t),Sn(t),n&512&&r!==null&&Zi(r,r.return),t.flags&32){var a=t.stateNode;try{To(a,"")}catch(y){_t(t,t.return,y)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Tx(a,i),Dh(o,s);var l=Dh(o,i);for(s=0;s<u.length;s+=2){var c=u[s],d=u[s+1];c==="style"?Dx(a,d):c==="dangerouslySetInnerHTML"?Px(a,d):c==="children"?To(a,d):Fv(a,c,d,l)}switch(o){case"input":Th(a,i);break;case"textarea":Nx(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ns(a,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?ns(a,!!i.multiple,i.defaultValue,!0):ns(a,!!i.multiple,i.multiple?[]:"",!1))}a[Mo]=i}catch(y){_t(t,t.return,y)}}break;case 6:if(dn(e,t),Sn(t),n&4){if(t.stateNode===null)throw Error(ve(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(y){_t(t,t.return,y)}}break;case 3:if(dn(e,t),Sn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bo(e.containerInfo)}catch(y){_t(t,t.return,y)}break;case 4:dn(e,t),Sn(t);break;case 13:dn(e,t),Sn(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(xp=It())),n&4&&hm(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(gr=(l=gr)||c,dn(e,t),gr=l):dn(e,t),Sn(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(Ee=t,c=t.child;c!==null;){for(d=Ee=c;Ee!==null;){switch(f=Ee,v=f.child,f.tag){case 0:case 11:case 14:case 15:xo(4,f,f.return);break;case 1:Zi(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(y){_t(n,r,y)}}break;case 5:Zi(f,f.return);break;case 22:if(f.memoizedState!==null){pm(d);continue}}v!==null?(v.return=f,Ee=v):pm(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{a=d.stateNode,l?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,u=d.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Bx("display",s))}catch(y){_t(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){_t(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dn(e,t),Sn(t),n&4&&hm(t);break;case 21:break;default:dn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rb(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(To(a,""),n.flags&=-33);var i=fm(t);ov(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=fm(t);sv(t,o,s);break;default:throw Error(ve(161))}}catch(u){_t(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xC(t,e,r){Ee=t,ib(t)}function ib(t,e,r){for(var n=(t.mode&1)!==0;Ee!==null;){var a=Ee,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Wl;if(!s){var o=a.alternate,u=o!==null&&o.memoizedState!==null||gr;o=Wl;var l=gr;if(Wl=s,(gr=u)&&!l)for(Ee=a;Ee!==null;)s=Ee,u=s.child,s.tag===22&&s.memoizedState!==null?gm(a):u!==null?(u.return=s,Ee=u):gm(a);for(;i!==null;)Ee=i,ib(i),i=i.sibling;Ee=a,Wl=o,gr=l}vm(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ee=i):vm(t)}}function vm(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||kc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!gr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:fn(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zg(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zg(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Bo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}gr||e.flags&512&&iv(e)}catch(f){_t(e,e.return,f)}}if(e===t){Ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ee=r;break}Ee=e.return}}function pm(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ee=r;break}Ee=e.return}}function gm(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{kc(4,e)}catch(u){_t(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(u){_t(e,a,u)}}var i=e.return;try{iv(e)}catch(u){_t(e,i,u)}break;case 5:var s=e.return;try{iv(e)}catch(u){_t(e,s,u)}}}catch(u){_t(e,e.return,u)}if(e===t){Ee=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ee=o;break}Ee=e.return}}var bC=Math.ceil,Xu=Jn.ReactCurrentDispatcher,mp=Jn.ReactCurrentOwner,nn=Jn.ReactCurrentBatchConfig,st=0,rr=null,qt=null,lr=0,qr=0,Ji=Ia(0),Gt=0,qo=null,hi=0,Tc=0,yp=0,bo=null,Rr=null,xp=0,xs=1/0,Fn=null,Zu=!1,lv=null,Ea=null,$l=!1,va=null,Ju=0,wo=0,uv=null,mu=-1,yu=0;function Cr(){return st&6?It():mu!==-1?mu:mu=It()}function Ca(t){return t.mode&1?st&2&&lr!==0?lr&-lr:nC.transition!==null?(yu===0&&(yu=Wx()),yu):(t=ht,t!==0||(t=window.event,t=t===void 0?16:Yx(t.type)),t):1}function mn(t,e,r,n){if(50<wo)throw wo=0,uv=null,Error(ve(185));el(t,r,n),(!(st&2)||t!==rr)&&(t===rr&&(!(st&2)&&(Tc|=r),Gt===4&&fa(t,lr)),zr(t,n),r===1&&st===0&&!(e.mode&1)&&(xs=It()+500,Sc&&ja()))}function zr(t,e){var r=t.callbackNode;nE(t,e);var n=Ou(t,t===rr?lr:0);if(n===0)r!==null&&kg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&kg(r),e===1)t.tag===0?rC(mm.bind(null,t)):p1(mm.bind(null,t)),ZE(function(){!(st&6)&&ja()}),r=null;else{switch($x(n)){case 1:r=Uv;break;case 4:r=qx;break;case 16:r=Mu;break;case 536870912:r=Vx;break;default:r=Mu}r=hb(r,sb.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function sb(t,e){if(mu=-1,yu=0,st&6)throw Error(ve(327));var r=t.callbackNode;if(ls()&&t.callbackNode!==r)return null;var n=Ou(t,t===rr?lr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ec(t,n);else{e=n;var a=st;st|=2;var i=lb();(rr!==t||lr!==e)&&(Fn=null,xs=It()+500,oi(t,e));do try{EC();break}catch(o){ob(t,o)}while(!0);ap(),Xu.current=i,st=a,qt!==null?e=0:(rr=null,lr=0,e=Gt)}if(e!==0){if(e===2&&(a=Oh(t),a!==0&&(n=a,e=cv(t,a))),e===1)throw r=qo,oi(t,0),fa(t,n),zr(t,It()),r;if(e===6)fa(t,n);else{if(a=t.current.alternate,!(n&30)&&!wC(a)&&(e=ec(t,n),e===2&&(i=Oh(t),i!==0&&(n=i,e=cv(t,i))),e===1))throw r=qo,oi(t,0),fa(t,n),zr(t,It()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ve(345));case 2:Za(t,Rr,Fn);break;case 3:if(fa(t,n),(n&130023424)===n&&(e=xp+500-It(),10<e)){if(Ou(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Cr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=$h(Za.bind(null,t,Rr,Fn),e);break}Za(t,Rr,Fn);break;case 4:if(fa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-gn(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bC(n/1960))-n,10<n){t.timeoutHandle=$h(Za.bind(null,t,Rr,Fn),n);break}Za(t,Rr,Fn);break;case 5:Za(t,Rr,Fn);break;default:throw Error(ve(329))}}}return zr(t,It()),t.callbackNode===r?sb.bind(null,t):null}function cv(t,e){var r=bo;return t.current.memoizedState.isDehydrated&&(oi(t,e).flags|=256),t=ec(t,e),t!==2&&(e=Rr,Rr=r,e!==null&&dv(e)),t}function dv(t){Rr===null?Rr=t:Rr.push.apply(Rr,t)}function wC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!xn(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fa(t,e){for(e&=~yp,e&=~Tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gn(e),n=1<<r;t[r]=-1,e&=~n}}function mm(t){if(st&6)throw Error(ve(327));ls();var e=Ou(t,0);if(!(e&1))return zr(t,It()),null;var r=ec(t,e);if(t.tag!==0&&r===2){var n=Oh(t);n!==0&&(e=n,r=cv(t,n))}if(r===1)throw r=qo,oi(t,0),fa(t,e),zr(t,It()),r;if(r===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Za(t,Rr,Fn),zr(t,It()),null}function bp(t,e){var r=st;st|=1;try{return t(e)}finally{st=r,st===0&&(xs=It()+500,Sc&&ja())}}function vi(t){va!==null&&va.tag===0&&!(st&6)&&ls();var e=st;st|=1;var r=nn.transition,n=ht;try{if(nn.transition=null,ht=1,t)return t()}finally{ht=n,nn.transition=r,st=e,!(st&6)&&ja()}}function wp(){qr=Ji.current,St(Ji)}function oi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,XE(r)),qt!==null)for(r=qt.return;r!==null;){var n=r;switch(tp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qu();break;case 3:ms(),St(Ir),St(mr),cp();break;case 5:up(n);break;case 4:ms();break;case 13:St(At);break;case 19:St(At);break;case 10:ip(n.type._context);break;case 22:case 23:wp()}r=r.return}if(rr=t,qt=t=ka(t.current,null),lr=qr=e,Gt=0,qo=null,yp=Tc=hi=0,Rr=bo=null,ai!==null){for(e=0;e<ai.length;e++)if(r=ai[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}ai=null}return t}function ob(t,e){do{var r=qt;try{if(ap(),vu.current=Yu,Qu){for(var n=Pt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Qu=!1}if(fi=0,tr=Ht=Pt=null,yo=!1,jo=0,mp.current=null,r===null||r.return===null){Gt=1,qo=e,qt=null;break}e:{var i=t,s=r.return,o=r,u=e;if(e=lr,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=am(s);if(v!==null){v.flags&=-257,im(v,s,o,i,e),v.mode&1&&nm(i,l,e),e=v,u=l;var h=e.updateQueue;if(h===null){var y=new Set;y.add(u),e.updateQueue=y}else h.add(u);break e}else{if(!(e&1)){nm(i,l,e),Sp();break e}u=Error(ve(426))}}else if(Ct&&o.mode&1){var b=am(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),im(b,s,o,i,e),rp(ys(u,o));break e}}i=u=ys(u,o),Gt!==4&&(Gt=2),bo===null?bo=[i]:bo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=$1(i,u,e);Xg(i,g);break e;case 1:o=u;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ea===null||!Ea.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=U1(i,o,e);Xg(i,E);break e}}i=i.return}while(i!==null)}cb(r)}catch(k){e=k,qt===r&&r!==null&&(qt=r=r.return);continue}break}while(!0)}function lb(){var t=Xu.current;return Xu.current=Yu,t===null?Yu:t}function Sp(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),rr===null||!(hi&268435455)&&!(Tc&268435455)||fa(rr,lr)}function ec(t,e){var r=st;st|=2;var n=lb();(rr!==t||lr!==e)&&(Fn=null,oi(t,e));do try{SC();break}catch(a){ob(t,a)}while(!0);if(ap(),st=r,Xu.current=n,qt!==null)throw Error(ve(261));return rr=null,lr=0,Gt}function SC(){for(;qt!==null;)ub(qt)}function EC(){for(;qt!==null&&!KS();)ub(qt)}function ub(t){var e=fb(t.alternate,t,qr);t.memoizedProps=t.pendingProps,e===null?cb(t):qt=e,mp.current=null}function cb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gC(r,e),r!==null){r.flags&=32767,qt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,qt=null;return}}else if(r=pC(r,e,qr),r!==null){qt=r;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);Gt===0&&(Gt=5)}function Za(t,e,r){var n=ht,a=nn.transition;try{nn.transition=null,ht=1,CC(t,e,r,n)}finally{nn.transition=a,ht=n}return null}function CC(t,e,r,n){do ls();while(va!==null);if(st&6)throw Error(ve(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(aE(t,i),t===rr&&(qt=rr=null,lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$l||($l=!0,hb(Mu,function(){return ls(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=nn.transition,nn.transition=null;var s=ht;ht=1;var o=st;st|=4,mp.current=null,yC(t,r),ab(r,t),$E(Vh),Iu=!!qh,Vh=qh=null,t.current=r,xC(r),QS(),st=o,ht=s,nn.transition=i}else t.current=r;if($l&&($l=!1,va=t,Ju=a),i=t.pendingLanes,i===0&&(Ea=null),ZS(r.stateNode),zr(t,It()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Zu)throw Zu=!1,t=lv,lv=null,t;return Ju&1&&t.tag!==0&&ls(),i=t.pendingLanes,i&1?t===uv?wo++:(wo=0,uv=t):wo=0,ja(),null}function ls(){if(va!==null){var t=$x(Ju),e=nn.transition,r=ht;try{if(nn.transition=null,ht=16>t?16:t,va===null)var n=!1;else{if(t=va,va=null,Ju=0,st&6)throw Error(ve(331));var a=st;for(st|=4,Ee=t.current;Ee!==null;){var i=Ee,s=i.child;if(Ee.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var l=o[u];for(Ee=l;Ee!==null;){var c=Ee;switch(c.tag){case 0:case 11:case 15:xo(8,c,i)}var d=c.child;if(d!==null)d.return=c,Ee=d;else for(;Ee!==null;){c=Ee;var f=c.sibling,v=c.return;if(tb(c),c===l){Ee=null;break}if(f!==null){f.return=v,Ee=f;break}Ee=v}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Ee=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ee=s;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ee=g;break e}Ee=i.return}}var p=t.current;for(Ee=p;Ee!==null;){s=Ee;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ee=w;else e:for(s=p;Ee!==null;){if(o=Ee,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:kc(9,o)}}catch(k){_t(o,o.return,k)}if(o===s){Ee=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Ee=E;break e}Ee=o.return}}if(st=a,ja(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(mc,t)}catch{}n=!0}return n}finally{ht=r,nn.transition=e}}return!1}function ym(t,e,r){e=ys(r,e),e=$1(t,e,1),t=Sa(t,e,1),e=Cr(),t!==null&&(el(t,1,e),zr(t,e))}function _t(t,e,r){if(t.tag===3)ym(t,t,r);else for(;e!==null;){if(e.tag===3){ym(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ea===null||!Ea.has(n))){t=ys(r,t),t=U1(e,t,1),e=Sa(e,t,1),t=Cr(),e!==null&&(el(e,1,t),zr(e,t));break}}e=e.return}}function kC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&r,rr===t&&(lr&r)===r&&(Gt===4||Gt===3&&(lr&130023424)===lr&&500>It()-xp?oi(t,0):yp|=r),zr(t,e)}function db(t,e){e===0&&(t.mode&1?(e=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):e=1);var r=Cr();t=Qn(t,e),t!==null&&(el(t,e,r),zr(t,r))}function TC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),db(t,r)}function NC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(e),db(t,r)}var fb;fb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Mr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Mr=!1,vC(t,e,r);Mr=!!(t.flags&131072)}else Mr=!1,Ct&&e.flags&1048576&&g1(e,$u,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gu(t,e),t=e.pendingProps;var a=vs(e,mr.current);os(e,r),a=fp(null,e,n,t,a,r);var i=hp();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jr(n)?(i=!0,Vu(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,op(e),a.updater=Cc,e.stateNode=a,a._reactInternals=e,Xh(e,n,t,r),e=ev(null,e,n,!0,i,r)):(e.tag=0,Ct&&i&&ep(e),Er(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gu(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=PC(n),t=fn(n,t),a){case 0:e=Jh(null,e,n,t,r);break e;case 1:e=lm(null,e,n,t,r);break e;case 11:e=sm(null,e,n,t,r);break e;case 14:e=om(null,e,n,fn(n.type,t),r);break e}throw Error(ve(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:fn(n,a),Jh(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:fn(n,a),lm(t,e,n,a,r);case 3:e:{if(Q1(e),t===null)throw Error(ve(387));n=e.pendingProps,i=e.memoizedState,a=i.element,S1(t,e),Gu(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=ys(Error(ve(423)),e),e=um(t,e,n,r,a);break e}else if(n!==a){a=ys(Error(ve(424)),e),e=um(t,e,n,r,a);break e}else for(Vr=wa(e.stateNode.containerInfo.firstChild),Wr=e,Ct=!0,pn=null,r=b1(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ps(),n===a){e=Yn(t,e,r);break e}Er(t,e,n,r)}e=e.child}return e;case 5:return E1(e),t===null&&Kh(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,Wh(n,a)?s=null:i!==null&&Wh(n,i)&&(e.flags|=32),K1(t,e),Er(t,e,s,r),e.child;case 6:return t===null&&Kh(e),null;case 13:return Y1(t,e,r);case 4:return lp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=gs(e,null,n,r):Er(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:fn(n,a),sm(t,e,n,a,r);case 7:return Er(t,e,e.pendingProps,r),e.child;case 8:return Er(t,e,e.pendingProps.children,r),e.child;case 12:return Er(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,xt(Uu,n._currentValue),n._currentValue=s,i!==null)if(xn(i.value,s)){if(i.children===a.children&&!Ir.current){e=Yn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Hn(-1,r&-r),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Qh(i.return,r,e),o.lanes|=r;break}u=u.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ve(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Qh(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Er(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,os(e,r),a=an(a),n=n(a),e.flags|=1,Er(t,e,n,r),e.child;case 14:return n=e.type,a=fn(n,e.pendingProps),a=fn(n.type,a),om(t,e,n,a,r);case 15:return H1(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:fn(n,a),gu(t,e),e.tag=1,jr(n)?(t=!0,Vu(e)):t=!1,os(e,r),W1(e,n,a),Xh(e,n,a,r),ev(null,e,n,!0,t,r);case 19:return X1(t,e,r);case 22:return G1(t,e,r)}throw Error(ve(156,e.tag))};function hb(t,e){return Fx(t,e)}function AC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,r,n){return new AC(t,e,r,n)}function Ep(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PC(t){if(typeof t=="function")return Ep(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vv)return 11;if(t===Wv)return 14}return 2}function ka(t,e){var r=t.alternate;return r===null?(r=tn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xu(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")Ep(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wi:return li(r.children,a,i,e);case qv:s=8,a|=8;break;case wh:return t=tn(12,r,e,a|2),t.elementType=wh,t.lanes=i,t;case Sh:return t=tn(13,r,e,a),t.elementType=Sh,t.lanes=i,t;case Eh:return t=tn(19,r,e,a),t.elementType=Eh,t.lanes=i,t;case Ex:return Nc(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wx:s=10;break e;case Sx:s=9;break e;case Vv:s=11;break e;case Wv:s=14;break e;case la:s=16,n=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=tn(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function li(t,e,r,n){return t=tn(7,t,n,e),t.lanes=r,t}function Nc(t,e,r,n){return t=tn(22,t,n,e),t.elementType=Ex,t.lanes=r,t.stateNode={isHidden:!1},t}function Rd(t,e,r){return t=tn(6,t,null,e),t.lanes=r,t}function Ld(t,e,r){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BC(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hd(0),this.expirationTimes=hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hd(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Cp(t,e,r,n,a,i,s,o,u){return t=new BC(t,e,r,o,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},op(i),t}function DC(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vb(t){if(!t)return Pa;t=t._reactInternals;e:{if(Si(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var r=t.type;if(jr(r))return v1(t,r,e)}return e}function pb(t,e,r,n,a,i,s,o,u){return t=Cp(r,n,!0,t,a,i,s,o,u),t.context=vb(null),r=t.current,n=Cr(),a=Ca(r),i=Hn(n,a),i.callback=e??null,Sa(r,i,a),t.current.lanes=a,el(t,a,n),zr(t,n),t}function Ac(t,e,r,n){var a=e.current,i=Cr(),s=Ca(a);return r=vb(r),e.context===null?e.context=r:e.pendingContext=r,e=Hn(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Sa(a,e,s),t!==null&&(mn(t,a,s,i),hu(t,a,s)),s}function tc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kp(t,e){xm(t,e),(t=t.alternate)&&xm(t,e)}function RC(){return null}var gb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tp(t){this._internalRoot=t}Pc.prototype.render=Tp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));Ac(t,e,null,null)};Pc.prototype.unmount=Tp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){Ac(null,t,null,null)}),e[Kn]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<da.length&&e!==0&&e<da[r].priority;r++);da.splice(r,0,t),r===0&&Qx(t)}};function Np(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bm(){}function LC(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var l=tc(s);i.call(l)}}var s=pb(e,n,t,0,null,!1,!1,"",bm);return t._reactRootContainer=s,t[Kn]=s.current,Lo(t.nodeType===8?t.parentNode:t),vi(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var l=tc(u);o.call(l)}}var u=Cp(t,0,!1,null,null,!1,!1,"",bm);return t._reactRootContainer=u,t[Kn]=u.current,Lo(t.nodeType===8?t.parentNode:t),vi(function(){Ac(e,u,r,n)}),u}function Dc(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var u=tc(s);o.call(u)}}Ac(e,s,t,a)}else s=LC(r,e,t,a,n);return tc(s)}Ux=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=oo(e.pendingLanes);r!==0&&(Hv(e,r|1),zr(e,It()),!(st&6)&&(xs=It()+500,ja()))}break;case 13:vi(function(){var n=Qn(t,1);if(n!==null){var a=Cr();mn(n,t,1,a)}}),kp(t,1)}};Gv=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var r=Cr();mn(e,t,134217728,r)}kp(t,134217728)}};Hx=function(t){if(t.tag===13){var e=Ca(t),r=Qn(t,e);if(r!==null){var n=Cr();mn(r,t,e,n)}kp(t,e)}};Gx=function(){return ht};Kx=function(t,e){var r=ht;try{return ht=t,e()}finally{ht=r}};Lh=function(t,e,r){switch(e){case"input":if(Th(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=wc(n);if(!a)throw Error(ve(90));kx(n),Th(n,a)}}}break;case"textarea":Nx(t,r);break;case"select":e=r.value,e!=null&&ns(t,!!r.multiple,e,!1)}};_x=bp;Mx=vi;var _C={usingClientEntryPoint:!1,Events:[rl,Gi,wc,Rx,Lx,bp]},Xs={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MC={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jx(t),t===null?null:t.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||RC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{mc=Ul.inject(MC),Pn=Ul}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C;Hr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Np(e))throw Error(ve(200));return DC(t,e,null,r)};Hr.createRoot=function(t,e){if(!Np(t))throw Error(ve(299));var r=!1,n="",a=gb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Cp(t,1,!1,null,null,r,!1,n,a),t[Kn]=e.current,Lo(t.nodeType===8?t.parentNode:t),new Tp(e)};Hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=jx(e),t=t===null?null:t.stateNode,t};Hr.flushSync=function(t){return vi(t)};Hr.hydrate=function(t,e,r){if(!Bc(e))throw Error(ve(200));return Dc(null,t,e,!0,r)};Hr.hydrateRoot=function(t,e,r){if(!Np(t))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=gb;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=pb(e,null,t,1,r??null,a,!1,i,s),t[Kn]=e.current,Lo(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Pc(e)};Hr.render=function(t,e,r){if(!Bc(e))throw Error(ve(200));return Dc(null,t,e,!1,r)};Hr.unmountComponentAtNode=function(t){if(!Bc(t))throw Error(ve(40));return t._reactRootContainer?(vi(function(){Dc(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};Hr.unstable_batchedUpdates=bp;Hr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Bc(r))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return Dc(t,e,r,!1,n)};Hr.version="18.3.1-next-f1338f8080-20240426";function mb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mb)}catch(t){console.error(t)}}mb(),mx.exports=Hr;var OC=mx.exports,yb,wm=OC;yb=wm.createRoot,wm.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Vt=(t,e)=>{const r=ce.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,...l},c)=>ce.createElement("svg",{ref:c,...IC,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${jC(t)}`,o].join(" "),...l},[...e.map(([d,f])=>ce.createElement(d,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Vt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Vt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Vt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Vt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Vt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Vt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Vt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Vt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Vt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Vt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Vt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Vt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Vt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Vt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Vt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Vt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Vt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Vt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),KC={},Em=t=>{let e;const r=new Set,n=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const v=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(h=>h(e,v))}},a=()=>e,u={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(KC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},l=e=t(n,a,u);return u},QC=t=>t?Em(t):Em;var Tb={exports:{}},Nb={},Ab={exports:{}},Pb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=ce;function YC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XC=typeof Object.is=="function"?Object.is:YC,ZC=ws.useState,JC=ws.useEffect,ek=ws.useLayoutEffect,tk=ws.useDebugValue;function rk(t,e){var r=e(),n=ZC({inst:{value:r,getSnapshot:e}}),a=n[0].inst,i=n[1];return ek(function(){a.value=r,a.getSnapshot=e,_d(a)&&i({inst:a})},[t,r,e]),JC(function(){return _d(a)&&i({inst:a}),t(function(){_d(a)&&i({inst:a})})},[t]),tk(r),r}function _d(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!XC(t,r)}catch{return!0}}function nk(t,e){return e()}var ak=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nk:rk;Pb.useSyncExternalStore=ws.useSyncExternalStore!==void 0?ws.useSyncExternalStore:ak;Ab.exports=Pb;var ik=Ab.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=ce,sk=ik;function ok(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lk=typeof Object.is=="function"?Object.is:ok,uk=sk.useSyncExternalStore,ck=Lc.useRef,dk=Lc.useEffect,fk=Lc.useMemo,hk=Lc.useDebugValue;Nb.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var i=ck(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=fk(function(){function u(v){if(!l){if(l=!0,c=v,v=n(v),a!==void 0&&s.hasValue){var h=s.value;if(a(h,v))return d=h}return d=v}if(h=d,lk(c,v))return h;var y=n(v);return a!==void 0&&a(h,y)?(c=v,h):(c=v,d=y)}var l=!1,c,d,f=r===void 0?null:r;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,r,n,a]);var o=uk(t,i[0],i[1]);return dk(function(){s.hasValue=!0,s.value=o},[o]),hk(o),o};Tb.exports=Nb;var vk=Tb.exports;const pk=Lv(vk),Bb={},{useDebugValue:gk}=kS,{useSyncExternalStoreWithSelector:mk}=pk;let Cm=!1;const yk=t=>t;function xk(t,e=yk,r){(Bb?"production":void 0)!=="production"&&r&&!Cm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Cm=!0);const n=mk(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return gk(n),n}const km=t=>{(Bb?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?QC(t):t,r=(n,a)=>xk(e,n,a);return Object.assign(r,e),r},As=t=>t?km(t):km,bk={};function Db(t,e){let r;try{r=t()}catch{return}return{getItem:a=>{var i;const s=u=>u===null?null:JSON.parse(u,void 0),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const Vo=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Vo(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Vo(n)(r)}}}},wk=(t,e)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,g)=>({...g,...b}),...e},s=!1;const o=new Set,u=new Set;let l;try{l=i.getStorage()}catch{}if(!l)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...b)},n,a);const c=Vo(i.serialize),d=()=>{const b=i.partialize({...n()});let g;const p=c({state:b,version:i.version}).then(w=>l.setItem(i.name,w)).catch(w=>{g=w});if(g)throw g;return p},f=a.setState;a.setState=(b,g)=>{f(b,g),d()};const v=t((...b)=>{r(...b),d()},n,a);let h;const y=()=>{var b;if(!l)return;s=!1,o.forEach(p=>p(n()));const g=((b=i.onRehydrateStorage)==null?void 0:b.call(i,n()))||void 0;return Vo(l.getItem.bind(l))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var w;return h=i.merge(p,(w=n())!=null?w:v),r(h,!0),d()}).then(()=>{g==null||g(h,void 0),s=!0,u.forEach(p=>p(h))}).catch(p=>{g==null||g(void 0,p)})};return a.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(l=b.getStorage())},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>s,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(u.add(b),()=>{u.delete(b)})},y(),h||v},Sk=(t,e)=>(r,n,a)=>{let i={storage:Db(()=>localStorage),partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...e},s=!1;const o=new Set,u=new Set;let l=i.storage;if(!l)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},n,a);const c=()=>{const y=i.partialize({...n()});return l.setItem(i.name,{state:y,version:i.version})},d=a.setState;a.setState=(y,b)=>{d(y,b),c()};const f=t((...y)=>{r(...y),c()},n,a);a.getInitialState=()=>f;let v;const h=()=>{var y,b;if(!l)return;s=!1,o.forEach(p=>{var w;return p((w=n())!=null?w:f)});const g=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(y=n())!=null?y:f))||void 0;return Vo(l.getItem.bind(l))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var w;const[E,k]=p;if(v=i.merge(k,(w=n())!=null?w:f),r(v,!0),E)return c()}).then(()=>{g==null||g(v,void 0),v=n(),s=!0,u.forEach(p=>p(v))}).catch(p=>{g==null||g(void 0,p)})};return a.persist={setOptions:y=>{i={...i,...y},y.storage&&(l=y.storage)},clearStorage:()=>{l==null||l.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>s,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},i.skipHydration||h(),v||f},Ek=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((bk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),wk(t,e)):Sk(t,e),Ck=Ek;var Rb={exports:{}};const kk={},Tk=Object.freeze(Object.defineProperty({__proto__:null,default:kk},Symbol.toStringTag,{value:"Module"})),Tm=uS(Tk);(function(t,e){var r=void 0,n=function(a){return r||(r=new Promise(function(i,s){var o=typeof a<"u"?a:{},u=o.onAbort;o.onAbort=function(m){s(new Error(m)),u&&u(m)},o.postRun=o.postRun||[],o.postRun.push(function(){i(o)}),t=void 0;var l;l||(l=typeof o<"u"?o:{});var c=typeof window=="object",d=typeof WorkerGlobalScope<"u",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";l.onRuntimeInitialized=function(){function m(K,he){switch(typeof he){case"boolean":iS(K,he?1:0);break;case"number":rS(K,he);break;case"string":nS(K,he,-1,-1);break;case"object":if(he===null)ug(K);else if(he.length!=null){var Ae=Tl(he,kl);aS(K,Ae,he.length,-1),Nl(Ae)}else Al(K,"Wrong API use : tried to return a value of an unknown type ("+he+").",-1);break;default:ug(K)}}function S(K,he){for(var Ae=[],qe=0;qe<K;qe+=1){var Ge=X(he+4*qe,"i32"),ft=X2(Ge);if(ft===1||ft===2)Ge=tS(Ge);else if(ft===3)Ge=J2(Ge);else if(ft===4){ft=Ge,Ge=Z2(ft),ft=eS(ft);for(var un=new Uint8Array(Ge),Yr=0;Yr<Ge;Yr+=1)un[Yr]=P[ft+Yr];Ge=un}else Ge=null;Ae.push(Ge)}return Ae}function T(K,he){this.Qa=K,this.db=he,this.Oa=1,this.lb=[]}function R(K,he){if(this.db=he,he=Qe(K)+1,this.eb=id(he),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Ye(K,D,this.eb,he),this.kb=this.eb,this.Za=this.pb=null}function q(K){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),K!=null){var he=this.filename,Ae="/",qe=he;if(Ae&&(Ae=typeof Ae=="string"?Ae:Tt(Ae),qe=he?De(Ae+"/"+he):Ae),he=Z(!0,!0),qe=bl(qe,he),K){if(typeof K=="string"){Ae=Array(K.length);for(var Ge=0,ft=K.length;Ge<ft;++Ge)Ae[Ge]=K.charCodeAt(Ge);K=Ae}wn(qe,he|146),Ae=on(qe,577),Br(Ae,K,0,K.length,0),Pi(Ae),wn(qe,he)}}this.handleError(Le(this.filename,Y)),this.db=X(Y,"i32"),dg(this.db),this.fb={},this.Sa={}}var Y=aa(4),ne=l.cwrap,Le=ne("sqlite3_open","number",["string","number"]),et=ne("sqlite3_close_v2","number",["number"]),Xe=ne("sqlite3_exec","number",["number","string","number","number","number"]),Lt=ne("sqlite3_changes","number",["number"]),Dr=ne("sqlite3_prepare_v2","number",["number","string","number","number","number"]),ag=ne("sqlite3_sql","string",["number"]),_2=ne("sqlite3_normalized_sql","string",["number"]),ig=ne("sqlite3_prepare_v2","number",["number","number","number","number","number"]),M2=ne("sqlite3_bind_text","number",["number","number","number","number","number"]),sg=ne("sqlite3_bind_blob","number",["number","number","number","number","number"]),O2=ne("sqlite3_bind_double","number",["number","number","number"]),I2=ne("sqlite3_bind_int","number",["number","number","number"]),j2=ne("sqlite3_bind_parameter_index","number",["number","string"]),z2=ne("sqlite3_step","number",["number"]),F2=ne("sqlite3_errmsg","string",["number"]),q2=ne("sqlite3_column_count","number",["number"]),V2=ne("sqlite3_data_count","number",["number"]),W2=ne("sqlite3_column_double","number",["number","number"]),og=ne("sqlite3_column_text","string",["number","number"]),$2=ne("sqlite3_column_blob","number",["number","number"]),U2=ne("sqlite3_column_bytes","number",["number","number"]),H2=ne("sqlite3_column_type","number",["number","number"]),G2=ne("sqlite3_column_name","string",["number","number"]),K2=ne("sqlite3_reset","number",["number"]),Q2=ne("sqlite3_clear_bindings","number",["number"]),Y2=ne("sqlite3_finalize","number",["number"]),lg=ne("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),X2=ne("sqlite3_value_type","number",["number"]),Z2=ne("sqlite3_value_bytes","number",["number"]),J2=ne("sqlite3_value_text","string",["number"]),eS=ne("sqlite3_value_blob","number",["number"]),tS=ne("sqlite3_value_double","number",["number"]),rS=ne("sqlite3_result_double","",["number","number"]),ug=ne("sqlite3_result_null","",["number"]),nS=ne("sqlite3_result_text","",["number","string","number","number"]),aS=ne("sqlite3_result_blob","",["number","number","number","number"]),iS=ne("sqlite3_result_int","",["number","number"]),Al=ne("sqlite3_result_error","",["number","string","number"]),cg=ne("sqlite3_aggregate_context","number",["number","number"]),dg=ne("RegisterExtensionFunctions","number",["number"]),fg=ne("sqlite3_update_hook","number",["number","number","number"]);T.prototype.bind=function(K){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(K)?this.Cb(K):K!=null&&typeof K=="object"?this.Db(K):!0},T.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var K=z2(this.Qa);switch(K){case 100:return!0;case 101:return!1;default:throw this.db.handleError(K)}},T.prototype.wb=function(K){return K==null&&(K=this.Oa,this.Oa+=1),W2(this.Qa,K)},T.prototype.Gb=function(K){if(K==null&&(K=this.Oa,this.Oa+=1),K=og(this.Qa,K),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(K)},T.prototype.Hb=function(K){return K==null&&(K=this.Oa,this.Oa+=1),og(this.Qa,K)},T.prototype.getBlob=function(K){K==null&&(K=this.Oa,this.Oa+=1);var he=U2(this.Qa,K);K=$2(this.Qa,K);for(var Ae=new Uint8Array(he),qe=0;qe<he;qe+=1)Ae[qe]=P[K+qe];return Ae},T.prototype.get=function(K,he){he=he||{},K!=null&&this.bind(K)&&this.step(),K=[];for(var Ae=V2(this.Qa),qe=0;qe<Ae;qe+=1)switch(H2(this.Qa,qe)){case 1:var Ge=he.useBigInt?this.Gb(qe):this.wb(qe);K.push(Ge);break;case 2:K.push(this.wb(qe));break;case 3:K.push(this.Hb(qe));break;case 4:K.push(this.getBlob(qe));break;default:K.push(null)}return K},T.prototype.getColumnNames=function(){for(var K=[],he=q2(this.Qa),Ae=0;Ae<he;Ae+=1)K.push(G2(this.Qa,Ae));return K},T.prototype.getAsObject=function(K,he){K=this.get(K,he),he=this.getColumnNames();for(var Ae={},qe=0;qe<he.length;qe+=1)Ae[he[qe]]=K[qe];return Ae},T.prototype.getSQL=function(){return ag(this.Qa)},T.prototype.getNormalizedSQL=function(){return _2(this.Qa)},T.prototype.run=function(K){return K!=null&&this.bind(K),this.step(),this.reset()},T.prototype.sb=function(K,he){he==null&&(he=this.Oa,this.Oa+=1),K=nt(K);var Ae=Tl(K,kl);this.lb.push(Ae),this.db.handleError(M2(this.Qa,he,Ae,K.length-1,0))},T.prototype.Bb=function(K,he){he==null&&(he=this.Oa,this.Oa+=1);var Ae=Tl(K,kl);this.lb.push(Ae),this.db.handleError(sg(this.Qa,he,Ae,K.length,0))},T.prototype.rb=function(K,he){he==null&&(he=this.Oa,this.Oa+=1),this.db.handleError((K===(K|0)?I2:O2)(this.Qa,he,K))},T.prototype.Eb=function(K){K==null&&(K=this.Oa,this.Oa+=1),sg(this.Qa,K,0,0,0)},T.prototype.tb=function(K,he){switch(he==null&&(he=this.Oa,this.Oa+=1),typeof K){case"string":this.sb(K,he);return;case"number":this.rb(K,he);return;case"bigint":this.sb(K.toString(),he);return;case"boolean":this.rb(K+0,he);return;case"object":if(K===null){this.Eb(he);return}if(K.length!=null){this.Bb(K,he);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+K+")."},T.prototype.Db=function(K){var he=this;return Object.keys(K).forEach(function(Ae){var qe=j2(he.Qa,Ae);qe!==0&&he.tb(K[Ae],qe)}),!0},T.prototype.Cb=function(K){for(var he=0;he<K.length;he+=1)this.tb(K[he],he+1);return!0},T.prototype.reset=function(){return this.freemem(),Q2(this.Qa)===0&&K2(this.Qa)===0},T.prototype.freemem=function(){for(var K;(K=this.lb.pop())!==void 0;)Nl(K)},T.prototype.free=function(){this.freemem();var K=Y2(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,K},R.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var K=Ws(),he=aa(4);pe(Y),pe(he);try{this.db.handleError(ig(this.db.db,this.kb,-1,Y,he)),this.kb=X(he,"i32");var Ae=X(Y,"i32");return Ae===0?(this.mb(),{done:!0}):(this.Za=new T(Ae,this.db),this.db.fb[Ae]=this.Za,{value:this.Za,done:!1})}catch(qe){throw this.pb=$e(this.kb),this.mb(),qe}finally{Vs(K)}},R.prototype.mb=function(){Nl(this.eb),this.eb=null},R.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:$e(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(R.prototype[Symbol.iterator]=function(){return this}),q.prototype.run=function(K,he){if(!this.db)throw"Database closed";if(he){K=this.prepare(K,he);try{K.step()}finally{K.free()}}else this.handleError(Xe(this.db,K,0,0,Y));return this},q.prototype.exec=function(K,he,Ae){if(!this.db)throw"Database closed";var qe=Ws(),Ge=null;try{var ft=nd(K),un=aa(4);for(K=[];X(ft,"i8")!==0;){pe(Y),pe(un),this.handleError(ig(this.db,ft,-1,Y,un));var Yr=X(Y,"i32");if(ft=X(un,"i32"),Yr!==0){var Fr=null;for(Ge=new T(Yr,this),he!=null&&Ge.bind(he);Ge.step();)Fr===null&&(Fr={columns:Ge.getColumnNames(),values:[]},K.push(Fr)),Fr.values.push(Ge.get(null,Ae));Ge.free()}}return K}catch(cn){throw Ge&&Ge.free(),cn}finally{Vs(qe)}},q.prototype.each=function(K,he,Ae,qe,Ge){typeof he=="function"&&(qe=Ae,Ae=he,he=void 0),K=this.prepare(K,he);try{for(;K.step();)Ae(K.getAsObject(null,Ge))}finally{K.free()}if(typeof qe=="function")return qe()},q.prototype.prepare=function(K,he){if(pe(Y),this.handleError(Dr(this.db,K,-1,Y,0)),K=X(Y,"i32"),K===0)throw"Nothing to prepare";var Ae=new T(K,this);return he!=null&&Ae.bind(he),this.fb[K]=Ae},q.prototype.iterateStatements=function(K){return new R(K,this)},q.prototype.export=function(){Object.values(this.fb).forEach(function(he){he.free()}),Object.values(this.Sa).forEach(na),this.Sa={},this.handleError(et(this.db));var K=js(this.filename);return this.handleError(Le(this.filename,Y)),this.db=X(Y,"i32"),dg(this.db),K},q.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(K){K.free()}),Object.values(this.Sa).forEach(na),this.Sa={},this.Ya&&(na(this.Ya),this.Ya=void 0),this.handleError(et(this.db)),Sl("/"+this.filename),this.db=null)},q.prototype.handleError=function(K){if(K===0)return null;throw K=F2(this.db),Error(K)},q.prototype.getRowsModified=function(){return Lt(this.db)},q.prototype.create_function=function(K,he){Object.prototype.hasOwnProperty.call(this.Sa,K)&&(na(this.Sa[K]),delete this.Sa[K]);var Ae=qs(function(qe,Ge,ft){Ge=S(Ge,ft);try{var un=he.apply(null,Ge)}catch(Yr){Al(qe,Yr,-1);return}m(qe,un)},"viii");return this.Sa[K]=Ae,this.handleError(lg(this.db,K,he.length,1,0,Ae,0,0,0)),this},q.prototype.create_aggregate=function(K,he){var Ae=he.init||function(){return null},qe=he.finalize||function(Fr){return Fr},Ge=he.step;if(!Ge)throw"An aggregate function must have a step function in "+K;var ft={};Object.hasOwnProperty.call(this.Sa,K)&&(na(this.Sa[K]),delete this.Sa[K]),he=K+"__finalize",Object.hasOwnProperty.call(this.Sa,he)&&(na(this.Sa[he]),delete this.Sa[he]);var un=qs(function(Fr,cn,od){var Ka=cg(Fr,1);Object.hasOwnProperty.call(ft,Ka)||(ft[Ka]=Ae()),cn=S(cn,od),cn=[ft[Ka]].concat(cn);try{ft[Ka]=Ge.apply(null,cn)}catch(sS){delete ft[Ka],Al(Fr,sS,-1)}},"viii"),Yr=qs(function(Fr){var cn=cg(Fr,1);try{var od=qe(ft[cn])}catch(Ka){delete ft[cn],Al(Fr,Ka,-1);return}m(Fr,od),delete ft[cn]},"vi");return this.Sa[K]=un,this.Sa[he]=Yr,this.handleError(lg(this.db,K,Ge.length-1,1,0,0,un,Yr,0)),this},q.prototype.updateHook=function(K){this.Ya&&(fg(this.db,0,0),na(this.Ya),this.Ya=void 0),K&&(this.Ya=qs(function(he,Ae,qe,Ge,ft){switch(Ae){case 18:he="insert";break;case 23:he="update";break;case 9:he="delete";break;default:throw"unknown operationCode in updateHook callback: "+Ae}if(qe=qe?Be(D,qe):"",Ge=Ge?Be(D,Ge):"",ft>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";K(he,qe,Ge,Number(ft))},"viiiij"),fg(this.db,this.Ya,0))},l.Database=q};var v={...l},h="./this.program",y=(m,S)=>{throw S},b="",g,p;if(f){var w=Tm;b=__dirname+"/",p=m=>(m=O(m)?new URL(m):m,w.readFileSync(m)),g=async m=>(m=O(m)?new URL(m):m,w.readFileSync(m,void 0)),!l.thisProgram&&1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=l,y=(m,S)=>{throw process.exitCode=m,S}}else(c||d)&&(d?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),b=b.startsWith("blob:")?"":b.slice(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),d&&(p=m=>{var S=new XMLHttpRequest;return S.open("GET",m,!1),S.responseType="arraybuffer",S.send(null),new Uint8Array(S.response)}),g=async m=>{if(O(m))return new Promise((T,R)=>{var q=new XMLHttpRequest;q.open("GET",m,!0),q.responseType="arraybuffer",q.onload=()=>{q.status==200||q.status==0&&q.response?T(q.response):R(q.status)},q.onerror=R,q.send(null)});var S=await fetch(m,{credentials:"same-origin"});if(S.ok)return S.arrayBuffer();throw Error(S.status+" : "+S.url)});var E=l.print||console.log.bind(console),k=l.printErr||console.error.bind(console);Object.assign(l,v),v=null,l.thisProgram&&(h=l.thisProgram);var N=l.wasmBinary,C,A=!1,B,P,D,M,L,I,z,F,j,O=m=>m.startsWith("file://");function V(){var m=C.buffer;l.HEAP8=P=new Int8Array(m),l.HEAP16=M=new Int16Array(m),l.HEAPU8=D=new Uint8Array(m),l.HEAPU16=new Uint16Array(m),l.HEAP32=L=new Int32Array(m),l.HEAPU32=I=new Uint32Array(m),l.HEAPF32=z=new Float32Array(m),l.HEAPF64=j=new Float64Array(m),l.HEAP64=F=new BigInt64Array(m),l.HEAPU64=new BigUint64Array(m)}var $=0,W=null;function H(m){var S;throw(S=l.onAbort)==null||S.call(l,m),m="Aborted("+m+")",k(m),A=!0,new WebAssembly.RuntimeError(m+". Build with -sASSERTIONS for more info.")}var ee;async function re(m){if(!N)try{var S=await g(m);return new Uint8Array(S)}catch{}if(m==ee&&N)m=new Uint8Array(N);else if(p)m=p(m);else throw"both async and sync fetching of the wasm failed";return m}async function te(m,S){try{var T=await re(m);return await WebAssembly.instantiate(T,S)}catch(R){k(`failed to asynchronously prepare wasm: ${R}`),H(R)}}async function le(m){var S=ee;if(!N&&typeof WebAssembly.instantiateStreaming=="function"&&!O(S)&&!f)try{var T=fetch(S,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(T,m)}catch(R){k(`wasm streaming compile failed: ${R}`),k("falling back to ArrayBuffer instantiation")}return te(S,m)}class fe{constructor(S){jn(this,"name","ExitStatus");this.message=`Program terminated with exit(${S})`,this.status=S}}var me=m=>{for(;0<m.length;)m.shift()(l)},ue=[],G=[],Q=()=>{var m=l.preRun.shift();G.unshift(m)};function X(m,S="i8"){switch(S.endsWith("*")&&(S="*"),S){case"i1":return P[m];case"i8":return P[m];case"i16":return M[m>>1];case"i32":return L[m>>2];case"i64":return F[m>>3];case"float":return z[m>>2];case"double":return j[m>>3];case"*":return I[m>>2];default:H(`invalid type for getValue: ${S}`)}}var ae=l.noExitRuntime||!0;function pe(m){var S="i32";switch(S.endsWith("*")&&(S="*"),S){case"i1":P[m]=0;break;case"i8":P[m]=0;break;case"i16":M[m>>1]=0;break;case"i32":L[m>>2]=0;break;case"i64":F[m>>3]=BigInt(0);break;case"float":z[m>>2]=0;break;case"double":j[m>>3]=0;break;case"*":I[m>>2]=0;break;default:H(`invalid type for setValue: ${S}`)}}var Te=typeof TextDecoder<"u"?new TextDecoder:void 0,Be=(m,S=0,T=NaN)=>{var R=S+T;for(T=S;m[T]&&!(T>=R);)++T;if(16<T-S&&m.buffer&&Te)return Te.decode(m.subarray(S,T));for(R="";S<T;){var q=m[S++];if(q&128){var Y=m[S++]&63;if((q&224)==192)R+=String.fromCharCode((q&31)<<6|Y);else{var ne=m[S++]&63;q=(q&240)==224?(q&15)<<12|Y<<6|ne:(q&7)<<18|Y<<12|ne<<6|m[S++]&63,65536>q?R+=String.fromCharCode(q):(q-=65536,R+=String.fromCharCode(55296|q>>10,56320|q&1023))}}else R+=String.fromCharCode(q)}return R},$e=(m,S)=>m?Be(D,m,S):"",Ie=(m,S)=>{for(var T=0,R=m.length-1;0<=R;R--){var q=m[R];q==="."?m.splice(R,1):q===".."?(m.splice(R,1),T++):T&&(m.splice(R,1),T--)}if(S)for(;T;T--)m.unshift("..");return m},De=m=>{var S=m.charAt(0)==="/",T=m.slice(-1)==="/";return(m=Ie(m.split("/").filter(R=>!!R),!S).join("/"))||S||(m="."),m&&T&&(m+="/"),(S?"/":"")+m},ye=m=>{var S=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(m).slice(1);return m=S[0],S=S[1],!m&&!S?".":(S&&(S=S.slice(0,-1)),m+S)},ke=m=>m&&m.match(/([^\/]+|\/)\/*$/)[1],Pe=()=>{if(f){var m=Tm;return S=>m.randomFillSync(S)}return S=>crypto.getRandomValues(S)},Ue=m=>{(Ue=Pe())(m)},Re=(...m)=>{for(var S="",T=!1,R=m.length-1;-1<=R&&!T;R--){if(T=0<=R?m[R]:"/",typeof T!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";S=T+"/"+S,T=T.charAt(0)==="/"}return S=Ie(S.split("/").filter(q=>!!q),!T).join("/"),(T?"/":"")+S||"."},He=[],Qe=m=>{for(var S=0,T=0;T<m.length;++T){var R=m.charCodeAt(T);127>=R?S++:2047>=R?S+=2:55296<=R&&57343>=R?(S+=4,++T):S+=3}return S},Ye=(m,S,T,R)=>{if(!(0<R))return 0;var q=T;R=T+R-1;for(var Y=0;Y<m.length;++Y){var ne=m.charCodeAt(Y);if(55296<=ne&&57343>=ne){var Le=m.charCodeAt(++Y);ne=65536+((ne&1023)<<10)|Le&1023}if(127>=ne){if(T>=R)break;S[T++]=ne}else{if(2047>=ne){if(T+1>=R)break;S[T++]=192|ne>>6}else{if(65535>=ne){if(T+2>=R)break;S[T++]=224|ne>>12}else{if(T+3>=R)break;S[T++]=240|ne>>18,S[T++]=128|ne>>12&63}S[T++]=128|ne>>6&63}S[T++]=128|ne&63}}return S[T]=0,T-q},nt=(m,S)=>{var T=Array(Qe(m)+1);return m=Ye(m,T,0,T.length),S&&(T.length=m),T},at=[];function Fe(m,S){at[m]={input:[],output:[],cb:S},Jt(m,we)}var we={open(m){var S=at[m.node.rdev];if(!S)throw new oe(43);m.tty=S,m.seekable=!1},close(m){m.tty.cb.fsync(m.tty)},fsync(m){m.tty.cb.fsync(m.tty)},read(m,S,T,R){if(!m.tty||!m.tty.cb.xb)throw new oe(60);for(var q=0,Y=0;Y<R;Y++){try{var ne=m.tty.cb.xb(m.tty)}catch{throw new oe(29)}if(ne===void 0&&q===0)throw new oe(6);if(ne==null)break;q++,S[T+Y]=ne}return q&&(m.node.atime=Date.now()),q},write(m,S,T,R){if(!m.tty||!m.tty.cb.qb)throw new oe(60);try{for(var q=0;q<R;q++)m.tty.cb.qb(m.tty,S[T+q])}catch{throw new oe(29)}return R&&(m.node.mtime=m.node.ctime=Date.now()),q}},ie={xb(){e:{if(!He.length){var m=null;if(f){var S=Buffer.alloc(256),T=0,R=process.stdin.fd;try{T=w.readSync(R,S,0,256)}catch(q){if(q.toString().includes("EOF"))T=0;else throw q}0<T&&(m=S.slice(0,T).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(m=window.prompt("Input: "),m!==null&&(m+=`
`));if(!m){m=null;break e}He=nt(m,!0)}m=He.shift()}return m},qb(m,S){S===null||S===10?(E(Be(m.output)),m.output=[]):S!=0&&m.output.push(S)},fsync(m){var S;0<((S=m.output)==null?void 0:S.length)&&(E(Be(m.output)),m.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},_={qb(m,S){S===null||S===10?(k(Be(m.output)),m.output=[]):S!=0&&m.output.push(S)},fsync(m){var S;0<((S=m.output)==null?void 0:S.length)&&(k(Be(m.output)),m.output=[])}},U={Wa:null,Xa(){return U.createNode(null,"/",16895,0)},createNode(m,S,T,R){if((T&61440)===24576||(T&61440)===4096)throw new oe(63);return U.Wa||(U.Wa={dir:{node:{Ta:U.La.Ta,Ua:U.La.Ua,lookup:U.La.lookup,hb:U.La.hb,rename:U.La.rename,unlink:U.La.unlink,rmdir:U.La.rmdir,readdir:U.La.readdir,symlink:U.La.symlink},stream:{Va:U.Ma.Va}},file:{node:{Ta:U.La.Ta,Ua:U.La.Ua},stream:{Va:U.Ma.Va,read:U.Ma.read,write:U.Ma.write,ib:U.Ma.ib,jb:U.Ma.jb}},link:{node:{Ta:U.La.Ta,Ua:U.La.Ua,readlink:U.La.readlink},stream:{}},ub:{node:{Ta:U.La.Ta,Ua:U.La.Ua},stream:Zt}}),T=Ot(m,S,T,R),rt(T.mode)?(T.La=U.Wa.dir.node,T.Ma=U.Wa.dir.stream,T.Na={}):(T.mode&61440)===32768?(T.La=U.Wa.file.node,T.Ma=U.Wa.file.stream,T.Ra=0,T.Na=null):(T.mode&61440)===40960?(T.La=U.Wa.link.node,T.Ma=U.Wa.link.stream):(T.mode&61440)===8192&&(T.La=U.Wa.ub.node,T.Ma=U.Wa.ub.stream),T.atime=T.mtime=T.ctime=Date.now(),m&&(m.Na[S]=T,m.atime=m.mtime=m.ctime=T.atime),T},Sb(m){return m.Na?m.Na.subarray?m.Na.subarray(0,m.Ra):new Uint8Array(m.Na):new Uint8Array(0)},La:{Ta(m){var S={};return S.dev=(m.mode&61440)===8192?m.id:1,S.ino=m.id,S.mode=m.mode,S.nlink=1,S.uid=0,S.gid=0,S.rdev=m.rdev,rt(m.mode)?S.size=4096:(m.mode&61440)===32768?S.size=m.Ra:(m.mode&61440)===40960?S.size=m.link.length:S.size=0,S.atime=new Date(m.atime),S.mtime=new Date(m.mtime),S.ctime=new Date(m.ctime),S.blksize=4096,S.blocks=Math.ceil(S.size/S.blksize),S},Ua(m,S){for(var T of["mode","atime","mtime","ctime"])S[T]!=null&&(m[T]=S[T]);S.size!==void 0&&(S=S.size,m.Ra!=S&&(S==0?(m.Na=null,m.Ra=0):(T=m.Na,m.Na=new Uint8Array(S),T&&m.Na.set(T.subarray(0,Math.min(S,m.Ra))),m.Ra=S)))},lookup(){throw U.vb},hb(m,S,T,R){return U.createNode(m,S,T,R)},rename(m,S,T){try{var R=vt(S,T)}catch{}if(R){if(rt(m.mode))for(var q in R.Na)throw new oe(55);Wt(R)}delete m.parent.Na[m.name],S.Na[T]=m,m.name=T,S.ctime=S.mtime=m.parent.ctime=m.parent.mtime=Date.now()},unlink(m,S){delete m.Na[S],m.ctime=m.mtime=Date.now()},rmdir(m,S){var T=vt(m,S),R;for(R in T.Na)throw new oe(55);delete m.Na[S],m.ctime=m.mtime=Date.now()},readdir(m){return[".","..",...Object.keys(m.Na)]},symlink(m,S,T){return m=U.createNode(m,S,41471,0),m.link=T,m},readlink(m){if((m.mode&61440)!==40960)throw new oe(28);return m.link}},Ma:{read(m,S,T,R,q){var Y=m.node.Na;if(q>=m.node.Ra)return 0;if(m=Math.min(m.node.Ra-q,R),8<m&&Y.subarray)S.set(Y.subarray(q,q+m),T);else for(R=0;R<m;R++)S[T+R]=Y[q+R];return m},write(m,S,T,R,q,Y){if(S.buffer===P.buffer&&(Y=!1),!R)return 0;if(m=m.node,m.mtime=m.ctime=Date.now(),S.subarray&&(!m.Na||m.Na.subarray)){if(Y)return m.Na=S.subarray(T,T+R),m.Ra=R;if(m.Ra===0&&q===0)return m.Na=S.slice(T,T+R),m.Ra=R;if(q+R<=m.Ra)return m.Na.set(S.subarray(T,T+R),q),R}Y=q+R;var ne=m.Na?m.Na.length:0;if(ne>=Y||(Y=Math.max(Y,ne*(1048576>ne?2:1.125)>>>0),ne!=0&&(Y=Math.max(Y,256)),ne=m.Na,m.Na=new Uint8Array(Y),0<m.Ra&&m.Na.set(ne.subarray(0,m.Ra),0)),m.Na.subarray&&S.subarray)m.Na.set(S.subarray(T,T+R),q);else for(Y=0;Y<R;Y++)m.Na[q+Y]=S[T+Y];return m.Ra=Math.max(m.Ra,q+R),R},Va(m,S,T){if(T===1?S+=m.position:T===2&&(m.node.mode&61440)===32768&&(S+=m.node.Ra),0>S)throw new oe(28);return S},ib(m,S,T,R,q){if((m.node.mode&61440)!==32768)throw new oe(43);if(m=m.node.Na,q&2||!m||m.buffer!==P.buffer){q=!0,R=65536*Math.ceil(S/65536);var Y=rg(65536,R);if(Y&&D.fill(0,Y,Y+R),R=Y,!R)throw new oe(48);m&&((0<T||T+S<m.length)&&(m.subarray?m=m.subarray(T,T+S):m=Array.prototype.slice.call(m,T,T+S)),P.set(m,R))}else q=!1,R=m.byteOffset;return{Kb:R,Ab:q}},jb(m,S,T,R){return U.Ma.write(m,S,0,R,T,!1),0}}},Z=(m,S)=>{var T=0;return m&&(T|=365),S&&(T|=146),T},J=null,se={},xe=[],de=1,be=null,Se=!1,Me=!0,Ke={},oe=class{constructor(m){jn(this,"name","ErrnoError");this.Pa=m}},Ne=class{constructor(){jn(this,"gb",{});jn(this,"node",null)}get flags(){return this.gb.flags}set flags(m){this.gb.flags=m}get position(){return this.gb.position}set position(m){this.gb.position=m}},Ze=class{constructor(m,S,T,R){jn(this,"La",{});jn(this,"Ma",{});jn(this,"ab",null);m||(m=this),this.parent=m,this.Xa=m.Xa,this.id=de++,this.name=S,this.mode=T,this.rdev=R,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(m){m?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(m){m?this.mode|=146:this.mode&=-147}};function ze(m,S={}){if(!m)throw new oe(44);S.nb??(S.nb=!0),m.charAt(0)==="/"||(m="//"+m);var T=0;e:for(;40>T;T++){m=m.split("/").filter(Le=>!!Le);for(var R=J,q="/",Y=0;Y<m.length;Y++){var ne=Y===m.length-1;if(ne&&S.parent)break;if(m[Y]!==".")if(m[Y]==="..")q=ye(q),R=R.parent;else{q=De(q+"/"+m[Y]);try{R=vt(R,m[Y])}catch(Le){if((Le==null?void 0:Le.Pa)===44&&ne&&S.Jb)return{path:q};throw Le}if(!R.ab||ne&&!S.nb||(R=R.ab.root),(R.mode&61440)===40960&&(!ne||S.$a)){if(!R.La.readlink)throw new oe(52);R=R.La.readlink(R),R.charAt(0)==="/"||(R=ye(q)+"/"+R),m=R+"/"+m.slice(Y+1).join("/");continue e}}}return{path:q,node:R}}throw new oe(32)}function Tt(m){for(var S;;){if(m===m.parent)return m=m.Xa.zb,S?m[m.length-1]!=="/"?`${m}/${S}`:m+S:m;S=S?`${m.name}/${S}`:m.name,m=m.parent}}function mt(m,S){for(var T=0,R=0;R<S.length;R++)T=(T<<5)-T+S.charCodeAt(R)|0;return(m+T>>>0)%be.length}function Wt(m){var S=mt(m.parent.id,m.name);if(be[S]===m)be[S]=m.bb;else for(S=be[S];S;){if(S.bb===m){S.bb=m.bb;break}S=S.bb}}function vt(m,S){var T=rt(m.mode)?(T=wr(m,"x"))?T:m.La.lookup?0:2:54;if(T)throw new oe(T);for(T=be[mt(m.id,S)];T;T=T.bb){var R=T.name;if(T.parent.id===m.id&&R===S)return T}return m.La.lookup(m,S)}function Ot(m,S,T,R){return m=new Ze(m,S,T,R),S=mt(m.parent.id,m.name),m.bb=be[S],be[S]=m}function rt(m){return(m&61440)===16384}function jt(m){var S=["r","w","rw"][m&3];return m&512&&(S+="w"),S}function wr(m,S){if(Me)return 0;if(!S.includes("r")||m.mode&292){if(S.includes("w")&&!(m.mode&146)||S.includes("x")&&!(m.mode&73))return 2}else return 2;return 0}function Nt(m,S){if(!rt(m.mode))return 54;try{return vt(m,S),20}catch{}return wr(m,"wx")}function Kr(m,S,T){try{var R=vt(m,S)}catch(q){return q.Pa}if(m=wr(m,"wx"))return m;if(T){if(!rt(R.mode))return 54;if(R===R.parent||Tt(R)==="/")return 10}else if(rt(R.mode))return 31;return 0}function Pr(m){if(!m)throw new oe(63);return m}function Rt(m){if(m=xe[m],!m)throw new oe(8);return m}function Ua(m,S=-1){if(m=Object.assign(new Ne,m),S==-1)e:{for(S=0;4096>=S;S++)if(!xe[S])break e;throw new oe(33)}return m.fd=S,xe[S]=m}function On(m,S=-1){var T,R;return m=Ua(m,S),(R=(T=m.Ma)==null?void 0:T.Rb)==null||R.call(T,m),m}function Xt(m,S,T){var R=m==null?void 0:m.Ma.Ua;m=R?m:S,R??(R=S.La.Ua),Pr(R),R(m,T)}var Zt={open(m){var S,T;m.Ma=se[m.node.rdev].Ma,(T=(S=m.Ma).open)==null||T.call(S,m)},Va(){throw new oe(70)}};function Jt(m,S){se[m]={Ma:S}}function ra(m,S){var T=S==="/";if(T&&J)throw new oe(10);if(!T&&S){var R=ze(S,{nb:!1});if(S=R.path,R=R.node,R.ab)throw new oe(10);if(!rt(R.mode))throw new oe(54)}S={type:m,Wb:{},zb:S,Ib:[]},m=m.Xa(S),m.Xa=S,S.root=m,T?J=m:R&&(R.ab=S,R.Xa&&R.Xa.Ib.push(S))}function ir(m,S,T){var R=ze(m,{parent:!0}).node;if(m=ke(m),!m)throw new oe(28);if(m==="."||m==="..")throw new oe(20);var q=Nt(R,m);if(q)throw new oe(q);if(!R.La.hb)throw new oe(63);return R.La.hb(R,m,S,T)}function bl(m,S=438){return ir(m,S&4095|32768,0)}function Qr(m,S=511){return ir(m,S&1023|16384,0)}function Ni(m,S,T){typeof T>"u"&&(T=S,S=438),ir(m,S|8192,T)}function Os(m,S){if(!Re(m))throw new oe(44);var T=ze(S,{parent:!0}).node;if(!T)throw new oe(44);S=ke(S);var R=Nt(T,S);if(R)throw new oe(R);if(!T.La.symlink)throw new oe(63);T.La.symlink(T,S,m)}function wl(m){var S=ze(m,{parent:!0}).node;m=ke(m);var T=vt(S,m),R=Kr(S,m,!0);if(R)throw new oe(R);if(!S.La.rmdir)throw new oe(63);if(T.ab)throw new oe(10);S.La.rmdir(S,m),Wt(T)}function Sl(m){var S=ze(m,{parent:!0}).node;if(!S)throw new oe(44);m=ke(m);var T=vt(S,m),R=Kr(S,m,!1);if(R)throw new oe(R);if(!S.La.unlink)throw new oe(63);if(T.ab)throw new oe(10);S.La.unlink(S,m),Wt(T)}function Ha(m,S){return m=ze(m,{$a:!S}).node,Pr(m.La.Ta)(m)}function El(m,S,T,R){Xt(m,S,{mode:T&4095|S.mode&-4096,ctime:Date.now(),Fb:R})}function wn(m,S){m=typeof m=="string"?ze(m,{$a:!0}).node:m,El(null,m,S)}function Ai(m,S,T){if(rt(S.mode))throw new oe(31);if((S.mode&61440)!==32768)throw new oe(28);var R=wr(S,"w");if(R)throw new oe(R);Xt(m,S,{size:T,timestamp:Date.now()})}function on(m,S,T=438){if(m==="")throw new oe(44);if(typeof S=="string"){var R={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[S];if(typeof R>"u")throw Error(`Unknown file open mode: ${S}`);S=R}if(T=S&64?T&4095|32768:0,typeof m=="object")R=m;else{var q=m.endsWith("/");m=ze(m,{$a:!(S&131072),Jb:!0}),R=m.node,m=m.path}var Y=!1;if(S&64)if(R){if(S&128)throw new oe(20)}else{if(q)throw new oe(31);R=ir(m,T|511,0),Y=!0}if(!R)throw new oe(44);if((R.mode&61440)===8192&&(S&=-513),S&65536&&!rt(R.mode))throw new oe(54);if(!Y&&(q=R?(R.mode&61440)===40960?32:rt(R.mode)&&(jt(S)!=="r"||S&576)?31:wr(R,jt(S)):44))throw new oe(q);return S&512&&!Y&&(q=R,q=typeof q=="string"?ze(q,{$a:!0}).node:q,Ai(null,q,0)),S&=-131713,q=Ua({node:R,path:Tt(R),flags:S,seekable:!0,position:0,Ma:R.Ma,Lb:[],error:!1}),q.Ma.open&&q.Ma.open(q),Y&&wn(R,T&511),!l.logReadFiles||S&1||m in Ke||(Ke[m]=1),q}function Pi(m){if(m.fd===null)throw new oe(8);m.ob&&(m.ob=null);try{m.Ma.close&&m.Ma.close(m)}catch(S){throw S}finally{xe[m.fd]=null}m.fd=null}function Is(m,S,T){if(m.fd===null)throw new oe(8);if(!m.seekable||!m.Ma.Va)throw new oe(70);if(T!=0&&T!=1&&T!=2)throw new oe(28);m.position=m.Ma.Va(m,S,T),m.Lb=[]}function Cl(m,S,T,R,q){if(0>R||0>q)throw new oe(28);if(m.fd===null)throw new oe(8);if((m.flags&2097155)===1)throw new oe(8);if(rt(m.node.mode))throw new oe(31);if(!m.Ma.read)throw new oe(28);var Y=typeof q<"u";if(!Y)q=m.position;else if(!m.seekable)throw new oe(70);return S=m.Ma.read(m,S,T,R,q),Y||(m.position+=S),S}function Br(m,S,T,R,q){if(0>R||0>q)throw new oe(28);if(m.fd===null)throw new oe(8);if(!(m.flags&2097155))throw new oe(8);if(rt(m.node.mode))throw new oe(31);if(!m.Ma.write)throw new oe(28);m.seekable&&m.flags&1024&&Is(m,0,2);var Y=typeof q<"u";if(!Y)q=m.position;else if(!m.seekable)throw new oe(70);return S=m.Ma.write(m,S,T,R,q,void 0),Y||(m.position+=S),S}function js(m){var S,T=on(m,T||0);m=Ha(m).size;var R=new Uint8Array(m);return Cl(T,R,0,m,0),S=R,Pi(T),S}function ln(m,S,T){m=De("/dev/"+m);var R=Z(!!S,!!T);ln.yb??(ln.yb=64);var q=ln.yb++<<8|0;Jt(q,{open(Y){Y.seekable=!1},close(){var Y;(Y=T==null?void 0:T.buffer)!=null&&Y.length&&T(10)},read(Y,ne,Le,et){for(var Xe=0,Lt=0;Lt<et;Lt++){try{var Dr=S()}catch{throw new oe(29)}if(Dr===void 0&&Xe===0)throw new oe(6);if(Dr==null)break;Xe++,ne[Le+Lt]=Dr}return Xe&&(Y.node.atime=Date.now()),Xe},write(Y,ne,Le,et){for(var Xe=0;Xe<et;Xe++)try{T(ne[Le+Xe])}catch{throw new oe(29)}return et&&(Y.node.mtime=Y.node.ctime=Date.now()),Xe}}),Ni(m,R,q)}var ut={};function $t(m,S,T){if(S.charAt(0)==="/")return S;if(m=m===-100?"/":Rt(m).path,S.length==0){if(!T)throw new oe(44);return m}return m+"/"+S}function Bi(m,S){L[m>>2]=S.dev,L[m+4>>2]=S.mode,I[m+8>>2]=S.nlink,L[m+12>>2]=S.uid,L[m+16>>2]=S.gid,L[m+20>>2]=S.rdev,F[m+24>>3]=BigInt(S.size),L[m+32>>2]=4096,L[m+36>>2]=S.blocks;var T=S.atime.getTime(),R=S.mtime.getTime(),q=S.ctime.getTime();return F[m+40>>3]=BigInt(Math.floor(T/1e3)),I[m+48>>2]=T%1e3*1e6,F[m+56>>3]=BigInt(Math.floor(R/1e3)),I[m+64>>2]=R%1e3*1e6,F[m+72>>3]=BigInt(Math.floor(q/1e3)),I[m+80>>2]=q%1e3*1e6,F[m+88>>3]=BigInt(S.ino),0}var zs=void 0,Di=()=>{var m=L[+zs>>2];return zs+=4,m},ed=0,P2=[0,31,60,91,121,152,182,213,244,274,305,335],B2=[0,31,59,90,120,151,181,212,243,273,304,334],Fs={},eg=m=>{var S;B=m,ae||0<ed||((S=l.onExit)==null||S.call(l,m),A=!0),y(m,new fe(m))},D2=m=>{if(!A)try{if(m(),!(ae||0<ed))try{B=m=B,eg(m)}catch(S){S instanceof fe||S=="unwind"||y(1,S)}}catch(S){S instanceof fe||S=="unwind"||y(1,S)}},td={},tg=()=>{if(!rd){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"},S;for(S in td)td[S]===void 0?delete m[S]:m[S]=td[S];var T=[];for(S in m)T.push(`${S}=${m[S]}`);rd=T}return rd},rd,nd=m=>{var S=Qe(m)+1,T=aa(S);return Ye(m,D,T,S),T},R2=(m,S,T,R)=>{var q={string:Xe=>{var Lt=0;return Xe!=null&&Xe!==0&&(Lt=nd(Xe)),Lt},array:Xe=>{var Lt=aa(Xe.length);return P.set(Xe,Lt),Lt}};m=l["_"+m];var Y=[],ne=0;if(R)for(var Le=0;Le<R.length;Le++){var et=q[T[Le]];et?(ne===0&&(ne=Ws()),Y[Le]=et(R[Le])):Y[Le]=R[Le]}return T=m(...Y),T=function(Xe){return ne!==0&&Vs(ne),S==="string"?Xe?Be(D,Xe):"":S==="boolean"?!!Xe:Xe}(T)},kl=0,Tl=(m,S)=>(S=S==1?aa(m.length):id(m.length),m.subarray||m.slice||(m=new Uint8Array(m)),D.set(m,S),S),Ga,ad=[],In,na=m=>{Ga.delete(In.get(m)),In.set(m,null),ad.push(m)},qs=(m,S)=>{if(!Ga){Ga=new WeakMap;var T=In.length;if(Ga)for(var R=0;R<0+T;R++){var q=In.get(R);q&&Ga.set(q,R)}}if(T=Ga.get(m)||0)return T;if(ad.length)T=ad.pop();else{try{In.grow(1)}catch(et){throw et instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":et}T=In.length-1}try{In.set(T,m)}catch(et){if(!(et instanceof TypeError))throw et;if(typeof WebAssembly.Function=="function"){var Y=WebAssembly.Function;R={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},q={parameters:[],results:S[0]=="v"?[]:[R[S[0]]]};for(var ne=1;ne<S.length;++ne)q.parameters.push(R[S[ne]]);S=new Y(q,m)}else{R=[1],q=S.slice(0,1),S=S.slice(1),ne={i:127,p:127,j:126,f:125,d:124,e:111},R.push(96);var Le=S.length;128>Le?R.push(Le):R.push(Le%128|128,Le>>7);for(Y of S)R.push(ne[Y]);q=="v"?R.push(0):R.push(1,ne[q]),S=[0,97,115,109,1,0,0,0,1],Y=R.length,128>Y?S.push(Y):S.push(Y%128|128,Y>>7),S.push(...R),S.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),S=new WebAssembly.Module(new Uint8Array(S)),S=new WebAssembly.Instance(S,{e:{f:m}}).exports.f}In.set(T,S)}return Ga.set(m,T),T};be=Array(4096),ra(U,"/"),Qr("/tmp"),Qr("/home"),Qr("/home/web_user"),function(){Qr("/dev"),Jt(259,{read:()=>0,write:(R,q,Y,ne)=>ne,Va:()=>0}),Ni("/dev/null",259),Fe(1280,ie),Fe(1536,_),Ni("/dev/tty",1280),Ni("/dev/tty1",1536);var m=new Uint8Array(1024),S=0,T=()=>(S===0&&(Ue(m),S=m.byteLength),m[--S]);ln("random",T),ln("urandom",T),Qr("/dev/shm"),Qr("/dev/shm/tmp")}(),function(){Qr("/proc");var m=Qr("/proc/self");Qr("/proc/self/fd"),ra({Xa(){var S=Ot(m,"fd",16895,73);return S.Ma={Va:U.Ma.Va},S.La={lookup(T,R){T=+R;var q=Rt(T);return T={parent:null,Xa:{zb:"fake"},La:{readlink:()=>q.path},id:T+1},T.parent=T},readdir(){return Array.from(xe.entries()).filter(([,T])=>T).map(([T])=>T.toString())}},S}},"/proc/self/fd")}(),U.vb=new oe(44),U.vb.stack="<generic error, no stack>";var L2={a:(m,S,T,R)=>H(`Assertion failed: ${m?Be(D,m):""}, at: `+[S?S?Be(D,S):"":"unknown filename",T,R?R?Be(D,R):"":"unknown function"]),i:function(m,S){try{return m=m?Be(D,m):"",wn(m,S),0}catch(T){if(typeof ut>"u"||T.name!=="ErrnoError")throw T;return-T.Pa}},L:function(m,S,T){try{if(S=S?Be(D,S):"",S=$t(m,S),T&-8)return-28;var R=ze(S,{$a:!0}).node;return R?(m="",T&4&&(m+="r"),T&2&&(m+="w"),T&1&&(m+="x"),m&&wr(R,m)?-2:0):-44}catch(q){if(typeof ut>"u"||q.name!=="ErrnoError")throw q;return-q.Pa}},j:function(m,S){try{var T=Rt(m);return El(T,T.node,S,!1),0}catch(R){if(typeof ut>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},h:function(m){try{var S=Rt(m);return Xt(S,S.node,{timestamp:Date.now(),Fb:!1}),0}catch(T){if(typeof ut>"u"||T.name!=="ErrnoError")throw T;return-T.Pa}},b:function(m,S,T){zs=T;try{var R=Rt(m);switch(S){case 0:var q=Di();if(0>q)break;for(;xe[q];)q++;return On(R,q).fd;case 1:case 2:return 0;case 3:return R.flags;case 4:return q=Di(),R.flags|=q,0;case 12:return q=Di(),M[q+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(Y){if(typeof ut>"u"||Y.name!=="ErrnoError")throw Y;return-Y.Pa}},g:function(m,S){try{var T=Rt(m),R=T.node,q=T.Ma.Ta;m=q?T:R,q??(q=R.La.Ta),Pr(q);var Y=q(m);return Bi(S,Y)}catch(ne){if(typeof ut>"u"||ne.name!=="ErrnoError")throw ne;return-ne.Pa}},H:function(m,S){S=-9007199254740992>S||9007199254740992<S?NaN:Number(S);try{if(isNaN(S))return 61;var T=Rt(m);if(0>S||!(T.flags&2097155))throw new oe(28);return Ai(T,T.node,S),0}catch(R){if(typeof ut>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},G:function(m,S){try{if(S===0)return-28;var T=Qe("/")+1;return S<T?-68:(Ye("/",D,m,S),T)}catch(R){if(typeof ut>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},K:function(m,S){try{return m=m?Be(D,m):"",Bi(S,Ha(m,!0))}catch(T){if(typeof ut>"u"||T.name!=="ErrnoError")throw T;return-T.Pa}},C:function(m,S,T){try{return S=S?Be(D,S):"",S=$t(m,S),Qr(S,T),0}catch(R){if(typeof ut>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},J:function(m,S,T,R){try{S=S?Be(D,S):"";var q=R&256;return S=$t(m,S,R&4096),Bi(T,q?Ha(S,!0):Ha(S))}catch(Y){if(typeof ut>"u"||Y.name!=="ErrnoError")throw Y;return-Y.Pa}},x:function(m,S,T,R){zs=R;try{S=S?Be(D,S):"",S=$t(m,S);var q=R?Di():0;return on(S,T,q).fd}catch(Y){if(typeof ut>"u"||Y.name!=="ErrnoError")throw Y;return-Y.Pa}},v:function(m,S,T,R){try{if(S=S?Be(D,S):"",S=$t(m,S),0>=R)return-28;var q=ze(S).node;if(!q)throw new oe(44);if(!q.La.readlink)throw new oe(28);var Y=q.La.readlink(q),ne=Math.min(R,Qe(Y)),Le=P[T+ne];return Ye(Y,D,T,R+1),P[T+ne]=Le,ne}catch(et){if(typeof ut>"u"||et.name!=="ErrnoError")throw et;return-et.Pa}},u:function(m){try{return m=m?Be(D,m):"",wl(m),0}catch(S){if(typeof ut>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},f:function(m,S){try{return m=m?Be(D,m):"",Bi(S,Ha(m))}catch(T){if(typeof ut>"u"||T.name!=="ErrnoError")throw T;return-T.Pa}},r:function(m,S,T){try{return S=S?Be(D,S):"",S=$t(m,S),T===0?Sl(S):T===512?wl(S):H("Invalid flags passed to unlinkat"),0}catch(R){if(typeof ut>"u"||R.name!=="ErrnoError")throw R;return-R.Pa}},q:function(m,S,T){try{S=S?Be(D,S):"",S=$t(m,S,!0);var R=Date.now(),q,Y;if(T){var ne=I[T>>2]+4294967296*L[T+4>>2],Le=L[T+8>>2];Le==1073741823?q=R:Le==1073741822?q=null:q=1e3*ne+Le/1e6,T+=16,ne=I[T>>2]+4294967296*L[T+4>>2],Le=L[T+8>>2],Le==1073741823?Y=R:Le==1073741822?Y=null:Y=1e3*ne+Le/1e6}else Y=q=R;if((Y??q)!==null){m=q;var et=ze(S,{$a:!0}).node;Pr(et.La.Ua)(et,{atime:m,mtime:Y})}return 0}catch(Xe){if(typeof ut>"u"||Xe.name!=="ErrnoError")throw Xe;return-Xe.Pa}},m:()=>H(""),l:()=>{ae=!1,ed=0},A:function(m,S){m=-9007199254740992>m||9007199254740992<m?NaN:Number(m),m=new Date(1e3*m),L[S>>2]=m.getSeconds(),L[S+4>>2]=m.getMinutes(),L[S+8>>2]=m.getHours(),L[S+12>>2]=m.getDate(),L[S+16>>2]=m.getMonth(),L[S+20>>2]=m.getFullYear()-1900,L[S+24>>2]=m.getDay();var T=m.getFullYear();L[S+28>>2]=(T%4!==0||T%100===0&&T%400!==0?B2:P2)[m.getMonth()]+m.getDate()-1|0,L[S+36>>2]=-(60*m.getTimezoneOffset()),T=new Date(m.getFullYear(),6,1).getTimezoneOffset();var R=new Date(m.getFullYear(),0,1).getTimezoneOffset();L[S+32>>2]=(T!=R&&m.getTimezoneOffset()==Math.min(R,T))|0},y:function(m,S,T,R,q,Y,ne){q=-9007199254740992>q||9007199254740992<q?NaN:Number(q);try{if(isNaN(q))return 61;var Le=Rt(R);if(S&2&&!(T&2)&&(Le.flags&2097155)!==2)throw new oe(2);if((Le.flags&2097155)===1)throw new oe(2);if(!Le.Ma.ib)throw new oe(43);if(!m)throw new oe(28);var et=Le.Ma.ib(Le,m,q,S,T),Xe=et.Kb;return L[Y>>2]=et.Ab,I[ne>>2]=Xe,0}catch(Lt){if(typeof ut>"u"||Lt.name!=="ErrnoError")throw Lt;return-Lt.Pa}},z:function(m,S,T,R,q,Y){Y=-9007199254740992>Y||9007199254740992<Y?NaN:Number(Y);try{var ne=Rt(q);if(T&2){if(T=Y,(ne.node.mode&61440)!==32768)throw new oe(43);if(!(R&2)){var Le=D.slice(m,m+S);ne.Ma.jb&&ne.Ma.jb(ne,Le,T,S,R)}}}catch(et){if(typeof ut>"u"||et.name!=="ErrnoError")throw et;return-et.Pa}},n:(m,S)=>{if(Fs[m]&&(clearTimeout(Fs[m].id),delete Fs[m]),!S)return 0;var T=setTimeout(()=>{delete Fs[m],D2(()=>ng(m,performance.now()))},S);return Fs[m]={id:T,Xb:S},0},B:(m,S,T,R)=>{var q=new Date().getFullYear(),Y=new Date(q,0,1).getTimezoneOffset();q=new Date(q,6,1).getTimezoneOffset(),I[m>>2]=60*Math.max(Y,q),L[S>>2]=+(Y!=q),S=ne=>{var Le=Math.abs(ne);return`UTC${0<=ne?"-":"+"}${String(Math.floor(Le/60)).padStart(2,"0")}${String(Le%60).padStart(2,"0")}`},m=S(Y),S=S(q),q<Y?(Ye(m,D,T,17),Ye(S,D,R,17)):(Ye(m,D,R,17),Ye(S,D,T,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:m=>{var S=D.length;if(m>>>=0,2147483648<m)return!1;for(var T=1;4>=T;T*=2){var R=S*(1+.2/T);R=Math.min(R,m+100663296);e:{R=(Math.min(2147483648,65536*Math.ceil(Math.max(m,R)/65536))-C.buffer.byteLength+65535)/65536|0;try{C.grow(R),V();var q=1;break e}catch{}q=void 0}if(q)return!0}return!1},E:(m,S)=>{var T=0;return tg().forEach((R,q)=>{var Y=S+T;for(q=I[m+4*q>>2]=Y,Y=0;Y<R.length;++Y)P[q++]=R.charCodeAt(Y);P[q]=0,T+=R.length+1}),0},F:(m,S)=>{var T=tg();I[m>>2]=T.length;var R=0;return T.forEach(q=>R+=q.length+1),I[S>>2]=R,0},e:function(m){try{var S=Rt(m);return Pi(S),0}catch(T){if(typeof ut>"u"||T.name!=="ErrnoError")throw T;return T.Pa}},p:function(m,S){try{var T=Rt(m);return P[S]=T.tty?2:rt(T.mode)?3:(T.mode&61440)===40960?7:4,M[S+2>>1]=0,F[S+8>>3]=BigInt(0),F[S+16>>3]=BigInt(0),0}catch(R){if(typeof ut>"u"||R.name!=="ErrnoError")throw R;return R.Pa}},w:function(m,S,T,R){try{e:{var q=Rt(m);m=S;for(var Y,ne=S=0;ne<T;ne++){var Le=I[m>>2],et=I[m+4>>2];m+=8;var Xe=Cl(q,P,Le,et,Y);if(0>Xe){var Lt=-1;break e}if(S+=Xe,Xe<et)break;typeof Y<"u"&&(Y+=Xe)}Lt=S}return I[R>>2]=Lt,0}catch(Dr){if(typeof ut>"u"||Dr.name!=="ErrnoError")throw Dr;return Dr.Pa}},D:function(m,S,T,R){S=-9007199254740992>S||9007199254740992<S?NaN:Number(S);try{if(isNaN(S))return 61;var q=Rt(m);return Is(q,S,T),F[R>>3]=BigInt(q.position),q.ob&&S===0&&T===0&&(q.ob=null),0}catch(Y){if(typeof ut>"u"||Y.name!=="ErrnoError")throw Y;return Y.Pa}},I:function(m){var T;try{var S=Rt(m);return(T=S.Ma)!=null&&T.fsync?S.Ma.fsync(S):0}catch(R){if(typeof ut>"u"||R.name!=="ErrnoError")throw R;return R.Pa}},t:function(m,S,T,R){try{e:{var q=Rt(m);m=S;for(var Y,ne=S=0;ne<T;ne++){var Le=I[m>>2],et=I[m+4>>2];m+=8;var Xe=Br(q,P,Le,et,Y);if(0>Xe){var Lt=-1;break e}if(S+=Xe,Xe<et)break;typeof Y<"u"&&(Y+=Xe)}Lt=S}return I[R>>2]=Lt,0}catch(Dr){if(typeof ut>"u"||Dr.name!=="ErrnoError")throw Dr;return Dr.Pa}},k:eg},Oe;(async function(){var T;function m(R){var q;return Oe=R.exports,C=Oe.M,V(),In=Oe.O,$--,(q=l.monitorRunDependencies)==null||q.call(l,$),$==0&&W&&(R=W,W=null,R()),Oe}$++,(T=l.monitorRunDependencies)==null||T.call(l,$);var S={a:L2};return l.instantiateWasm?new Promise(R=>{l.instantiateWasm(S,(q,Y)=>{m(q),R(q.exports)})}):(ee??(ee=l.locateFile?l.locateFile("sql-wasm.wasm",b):b+"sql-wasm.wasm"),m((await le(S)).instance))})(),l._sqlite3_free=m=>(l._sqlite3_free=Oe.P)(m),l._sqlite3_value_text=m=>(l._sqlite3_value_text=Oe.Q)(m),l._sqlite3_prepare_v2=(m,S,T,R,q)=>(l._sqlite3_prepare_v2=Oe.R)(m,S,T,R,q),l._sqlite3_step=m=>(l._sqlite3_step=Oe.S)(m),l._sqlite3_reset=m=>(l._sqlite3_reset=Oe.T)(m),l._sqlite3_exec=(m,S,T,R,q)=>(l._sqlite3_exec=Oe.U)(m,S,T,R,q),l._sqlite3_finalize=m=>(l._sqlite3_finalize=Oe.V)(m),l._sqlite3_column_name=(m,S)=>(l._sqlite3_column_name=Oe.W)(m,S),l._sqlite3_column_text=(m,S)=>(l._sqlite3_column_text=Oe.X)(m,S),l._sqlite3_column_type=(m,S)=>(l._sqlite3_column_type=Oe.Y)(m,S),l._sqlite3_errmsg=m=>(l._sqlite3_errmsg=Oe.Z)(m),l._sqlite3_clear_bindings=m=>(l._sqlite3_clear_bindings=Oe._)(m),l._sqlite3_value_blob=m=>(l._sqlite3_value_blob=Oe.$)(m),l._sqlite3_value_bytes=m=>(l._sqlite3_value_bytes=Oe.aa)(m),l._sqlite3_value_double=m=>(l._sqlite3_value_double=Oe.ba)(m),l._sqlite3_value_int=m=>(l._sqlite3_value_int=Oe.ca)(m),l._sqlite3_value_type=m=>(l._sqlite3_value_type=Oe.da)(m),l._sqlite3_result_blob=(m,S,T,R)=>(l._sqlite3_result_blob=Oe.ea)(m,S,T,R),l._sqlite3_result_double=(m,S)=>(l._sqlite3_result_double=Oe.fa)(m,S),l._sqlite3_result_error=(m,S,T)=>(l._sqlite3_result_error=Oe.ga)(m,S,T),l._sqlite3_result_int=(m,S)=>(l._sqlite3_result_int=Oe.ha)(m,S),l._sqlite3_result_int64=(m,S)=>(l._sqlite3_result_int64=Oe.ia)(m,S),l._sqlite3_result_null=m=>(l._sqlite3_result_null=Oe.ja)(m),l._sqlite3_result_text=(m,S,T,R)=>(l._sqlite3_result_text=Oe.ka)(m,S,T,R),l._sqlite3_aggregate_context=(m,S)=>(l._sqlite3_aggregate_context=Oe.la)(m,S),l._sqlite3_column_count=m=>(l._sqlite3_column_count=Oe.ma)(m),l._sqlite3_data_count=m=>(l._sqlite3_data_count=Oe.na)(m),l._sqlite3_column_blob=(m,S)=>(l._sqlite3_column_blob=Oe.oa)(m,S),l._sqlite3_column_bytes=(m,S)=>(l._sqlite3_column_bytes=Oe.pa)(m,S),l._sqlite3_column_double=(m,S)=>(l._sqlite3_column_double=Oe.qa)(m,S),l._sqlite3_bind_blob=(m,S,T,R,q)=>(l._sqlite3_bind_blob=Oe.ra)(m,S,T,R,q),l._sqlite3_bind_double=(m,S,T)=>(l._sqlite3_bind_double=Oe.sa)(m,S,T),l._sqlite3_bind_int=(m,S,T)=>(l._sqlite3_bind_int=Oe.ta)(m,S,T),l._sqlite3_bind_text=(m,S,T,R,q)=>(l._sqlite3_bind_text=Oe.ua)(m,S,T,R,q),l._sqlite3_bind_parameter_index=(m,S)=>(l._sqlite3_bind_parameter_index=Oe.va)(m,S),l._sqlite3_sql=m=>(l._sqlite3_sql=Oe.wa)(m),l._sqlite3_normalized_sql=m=>(l._sqlite3_normalized_sql=Oe.xa)(m),l._sqlite3_changes=m=>(l._sqlite3_changes=Oe.ya)(m),l._sqlite3_close_v2=m=>(l._sqlite3_close_v2=Oe.za)(m),l._sqlite3_create_function_v2=(m,S,T,R,q,Y,ne,Le,et)=>(l._sqlite3_create_function_v2=Oe.Aa)(m,S,T,R,q,Y,ne,Le,et),l._sqlite3_update_hook=(m,S,T)=>(l._sqlite3_update_hook=Oe.Ba)(m,S,T),l._sqlite3_open=(m,S)=>(l._sqlite3_open=Oe.Ca)(m,S);var id=l._malloc=m=>(id=l._malloc=Oe.Da)(m),Nl=l._free=m=>(Nl=l._free=Oe.Ea)(m);l._RegisterExtensionFunctions=m=>(l._RegisterExtensionFunctions=Oe.Fa)(m);var rg=(m,S)=>(rg=Oe.Ga)(m,S),ng=(m,S)=>(ng=Oe.Ha)(m,S),Vs=m=>(Vs=Oe.Ia)(m),aa=m=>(aa=Oe.Ja)(m),Ws=()=>(Ws=Oe.Ka)();l.stackSave=()=>Ws(),l.stackRestore=m=>Vs(m),l.stackAlloc=m=>aa(m),l.cwrap=(m,S,T,R)=>{var q=!T||T.every(Y=>Y==="number"||Y==="boolean");return S!=="string"&&q&&!R?l["_"+m]:(...Y)=>R2(m,S,T,Y)},l.addFunction=qs,l.removeFunction=na,l.UTF8ToString=$e,l.ALLOC_NORMAL=kl,l.allocate=Tl,l.allocateUTF8OnStack=nd;function sd(){function m(){var q;if(l.calledRun=!0,!A){if(!l.noFSInit&&!Se){var S,T;Se=!0,R??(R=l.stdin),S??(S=l.stdout),T??(T=l.stderr),R?ln("stdin",R):Os("/dev/tty","/dev/stdin"),S?ln("stdout",null,S):Os("/dev/tty","/dev/stdout"),T?ln("stderr",null,T):Os("/dev/tty1","/dev/stderr"),on("/dev/stdin",0),on("/dev/stdout",1),on("/dev/stderr",1)}if(Oe.N(),Me=!1,(q=l.onRuntimeInitialized)==null||q.call(l),l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;){var R=l.postRun.shift();ue.unshift(R)}me(ue)}}if(0<$)W=sd;else{if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)Q();me(G),0<$?W=sd:l.setStatus?(l.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>l.setStatus(""),1),m()},1)):m()}}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return sd(),o}),r)};t.exports=n,t.exports.default=n})(Rb);var Nk=Rb.exports;const Ak=Lv(Nk);let ui=null,Hl=null;const Lb="dsa_game_db",Pk=`
  -- Users table (for future multi-user support)
  CREATE TABLE IF NOT EXISTS users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT DEFAULT 'Student',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
  );

  -- Module scores
  CREATE TABLE IF NOT EXISTS scores (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER DEFAULT 1,
    module TEXT NOT NULL,
    correct INTEGER NOT NULL,
    total INTEGER NOT NULL,
    points INTEGER DEFAULT 0,
    time_spent INTEGER NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
  );

  -- Question attempts for analytics
  CREATE TABLE IF NOT EXISTS attempts (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER DEFAULT 1,
    question_id INTEGER NOT NULL,
    module TEXT NOT NULL,
    correct BOOLEAN NOT NULL,
    time_taken INTEGER NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
  );

  -- Settings key-value store
  CREATE TABLE IF NOT EXISTS settings (
    key TEXT PRIMARY KEY,
    value TEXT NOT NULL
  );

  -- Insert default user if not exists
  INSERT OR IGNORE INTO users (id, name) VALUES (1, 'Student');
`;async function _b(){return ui||Hl||(Hl=(async()=>{try{const t=await Ak({locateFile:n=>`https://sql.js.org/dist/${n}`}),e=localStorage.getItem(Lb);let r;if(e){const n=new Uint8Array(atob(e).split("").map(a=>a.charCodeAt(0)));r=new t.Database(n)}else r=new t.Database,r.run(Pk);return ui=r,Mb(),r}catch(t){throw console.error("Failed to initialize database:",t),t}})(),Hl)}function Mb(){if(ui)try{const t=ui.export(),e=new Uint8Array(t),r=btoa(String.fromCharCode(...e));localStorage.setItem(Lb,r)}catch(t){console.error("Failed to save database:",t)}}async function Ap(){return ui||_b()}async function Bk(t,e,r,n,a){var o,u;const i=await Ap();return i.run(`INSERT INTO scores (module, correct, total, points, time_spent)
     VALUES (?, ?, ?, ?, ?)`,[t,e,r,n,a]),Mb(),(u=(o=i.exec("SELECT last_insert_rowid() as id")[0])==null?void 0:o.values[0])==null?void 0:u[0]}async function Dk(){var n;const t=await Ap(),e=["theory","diagrams","traversals","realWorld","codeCompletion"],r={};for(const a of e){const s=(n=t.exec(`SELECT
        COALESCE(SUM(correct), 0) as correct,
        COALESCE(SUM(total), 0) as total,
        COALESCE(SUM(points), 0) as points,
        COALESCE(SUM(time_spent), 0) as timeSpent,
        COUNT(*) as attempts,
        MAX(created_at) as lastAttempt
       FROM scores WHERE module = ?`,[a])[0])==null?void 0:n.values[0];r[a]={correct:(s==null?void 0:s[0])||0,total:(s==null?void 0:s[1])||0,points:(s==null?void 0:s[2])||0,timeSpent:(s==null?void 0:s[3])||0,attempts:(s==null?void 0:s[4])||0,lastAttempt:(s==null?void 0:s[5])||null}}return r}async function Rk(){var o;const r=(o=(await Ap()).exec(`SELECT
      COALESCE(SUM(correct), 0) as correct,
      COALESCE(SUM(total), 0) as total,
      COALESCE(SUM(time_spent), 0) as totalTime
     FROM scores`)[0])==null?void 0:o.values[0],n=(r==null?void 0:r[0])||0,a=(r==null?void 0:r[1])||0,i=(r==null?void 0:r[2])||0,s=a>0?Math.round(n/a*100):0;return{correct:n,total:a,percentage:s,totalTime:i,passed:s>=70}}const Md={theory:{correct:0,total:0,points:0,timeSpent:0,attempts:0,lastAttempt:null},diagrams:{correct:0,total:0,points:0,timeSpent:0,attempts:0,lastAttempt:null},traversals:{correct:0,total:0,points:0,timeSpent:0,attempts:0,lastAttempt:null},realWorld:{correct:0,total:0,points:0,timeSpent:0,attempts:0,lastAttempt:null},codeCompletion:{correct:0,total:0,points:0,timeSpent:0,attempts:0,lastAttempt:null}},Ei=As()(Ck((t,e)=>({currentModule:null,scores:{...Md},practiceMode:!1,soundEnabled:!0,isLoading:!1,isDbInitialized:!1,overallProgress:null,setCurrentModule:r=>t({currentModule:r}),setPracticeMode:r=>t({practiceMode:r}),setSoundEnabled:r=>t({soundEnabled:r}),setLoading:r=>t({isLoading:r}),setDbInitialized:r=>t({isDbInitialized:r}),updateModuleScore:async(r,n,a,i,s)=>{e().practiceMode||await Bk(r,n,a,i,s),t(u=>({scores:{...u.scores,[r]:{correct:u.scores[r].correct+n,total:u.scores[r].total+a,points:u.scores[r].points+i,timeSpent:u.scores[r].timeSpent+s,attempts:u.scores[r].attempts+1,lastAttempt:new Date().toISOString()}}})),await e().refreshOverallProgress()},loadScores:async()=>{try{const r=await Dk();t({scores:r})}catch(r){console.error("Failed to load scores:",r)}},refreshOverallProgress:async()=>{try{const r=await Rk();t({overallProgress:r})}catch(r){console.error("Failed to refresh overall progress:",r)}},resetModule:r=>{t(n=>({scores:{...n.scores,[r]:{...Md[r]}}}))},resetAll:()=>{t({currentModule:null,scores:{...Md},overallProgress:null})}}),{name:"dsa-game-store",storage:Db(()=>localStorage),partialize:t=>({practiceMode:t.practiceMode,soundEnabled:t.soundEnabled})})),bu=[{id:1,category:"Data Structures Basics",difficulty:"easy",question:"What is the time complexity of accessing an array element by index?",options:["O(n)","O(log n)","O(1)","O(n)"],correctAnswer:2,explanation:"Array elements are stored in contiguous memory locations, so accessing any element by index is done in constant time O(1) using direct address calculation.",realWorld:"When you access a specific row in a spreadsheet by clicking on row number 500, the software jumps directly to that row without scanning through rows 1-499."},{id:2,category:"Data Structures Basics",difficulty:"easy",question:"Which of the following is a primitive data type?",options:["Array","Stack","Integer","Linked List"],correctAnswer:2,explanation:"Primitive data types (Integer, Real/Float, Character, Boolean) are basic building blocks provided by programming languages. Arrays, Stacks, and Linked Lists are non-primitive/abstract data types built using primitives.",realWorld:"When you store someone's age as 25, you're using an integer primitive. When you store their browsing history (multiple pages), you need a non-primitive structure like an array or list."},{id:3,category:"Data Structures Basics",difficulty:"medium",question:"An algorithm is best described as:",options:["A programming language","A step-by-step procedure to solve a problem","A type of computer hardware","A database management system"],correctAnswer:1,explanation:"An algorithm is a finite sequence of well-defined instructions to solve a specific problem. It's independent of any programming languagethe same algorithm can be implemented in Python, Java, C++, etc.",realWorld:"A recipe is an algorithm: step-by-step instructions to make a dish. The same recipe can be followed whether you're cooking in a restaurant kitchen or at home."},{id:4,category:"Data Structures Basics",difficulty:"medium",question:"Which operation involves accessing each record in a data structure exactly once?",options:["Searching","Traversing","Inserting","Sorting"],correctAnswer:1,explanation:"Traversing means visiting every element in a data structure exactly once, typically to process or display all elements. Searching looks for a specific element, inserting adds new elements, and sorting reorders elements.",realWorld:"When your music app displays all songs in your library, it traverses through every song entry to show them on screen."},{id:5,category:"Data Structures Basics",difficulty:"easy",question:"What does ADT stand for?",options:["Advanced Data Technology","Abstract Data Type","Algorithmic Data Transfer","Automatic Data Traversal"],correctAnswer:1,explanation:"ADT (Abstract Data Type) defines a data type by its behavior (operations) rather than its implementation. It separates 'what' operations are available from 'how' they're implemented.",realWorld:"A Stack ADT defines push and pop operations. Whether implemented using an array or linked list, users interact with the same operationsthe implementation details are hidden."},{id:6,category:"Linear Data Structures",difficulty:"easy",question:"In a Stack, elements are added and removed from:",options:["Both ends","The same end (top)","The front only","Random positions"],correctAnswer:1,explanation:"A Stack follows LIFO (Last In, First Out) principlethe last element added is the first to be removed. All operations happen at the top.",realWorld:"Think of a stack of plates: you add plates to the top and remove from the top. The last plate you placed is the first one you'll pick up."},{id:7,category:"Linear Data Structures",difficulty:"easy",question:"What data structure does a browser's back button use?",options:["Queue","Array","Stack","Tree"],correctAnswer:2,explanation:"The browser uses a Stack to track visited pages. When you visit a new page, it's pushed onto the stack. Clicking 'Back' pops the most recent page, revealing the previous one.",realWorld:"Your browsing history: Home  Products  Cart  Checkout. Click back: Checkout is removed, Cart appears. Click back again: Cart removed, Products appears. Classic LIFO behavior!"},{id:8,category:"Linear Data Structures",difficulty:"medium",question:"In a Queue, elements are added at ___ and removed from ___",options:["front, rear","rear, front","top, bottom","any position, any position"],correctAnswer:1,explanation:"A Queue follows FIFO (First In, First Out) principle. New elements are added at the rear (enqueue), and elements are removed from the front (dequeue).",realWorld:"Like a line at a bank: new customers join at the back of the line (rear), and customers are served from the front. First come, first served!"},{id:9,category:"Linear Data Structures",difficulty:"medium",question:"Which data structure would you use for implementing an Undo/Redo feature?",options:["Queue","Stack","Linked List","Array"],correctAnswer:1,explanation:"Undo/Redo uses two Stacks: one for undo history and one for redo. Each action is pushed to the undo stack. Undo pops from undo and pushes to redo. Redo does the opposite.",realWorld:"In Word: type 'Hello', then 'World'. Undo removes 'World' (last action). Undo again removes 'Hello'. Redo brings back 'Hello', then 'World'classic stack operations!"},{id:10,category:"Linear Data Structures",difficulty:"hard",question:"What is the main advantage of a Linked List over an Array?",options:["Faster random access","Dynamic size and efficient insertion/deletion","Uses less memory","Simpler to implement"],correctAnswer:1,explanation:"Linked Lists can grow/shrink dynamically and allow O(1) insertion/deletion at known positions (no shifting needed). Arrays have fixed size and require O(n) shifting for middle insertions.",realWorld:"A music playlist: adding a song to the middle of a linked list just changes two pointers. In an array, you'd have to shift all subsequent songs to make room."},{id:11,category:"Non-Linear Data Structures",difficulty:"easy",question:"Which of the following is a non-linear data structure?",options:["Array","Stack","Queue","Tree"],correctAnswer:3,explanation:"Trees and Graphs are non-linear because elements are not arranged sequentiallyeach element can connect to multiple other elements in hierarchical or networked patterns.",realWorld:"Your company's org chart is a tree: the CEO connects to multiple VPs, each VP connects to multiple managers. This hierarchy can't be represented linearly."},{id:12,category:"Non-Linear Data Structures",difficulty:"medium",question:"In a Graph, what represents the connections between nodes?",options:["Vertices","Edges","Roots","Leaves"],correctAnswer:1,explanation:"A Graph consists of Vertices (nodes) and Edges (connections between nodes). Edges can be directed (one-way) or undirected (two-way).",realWorld:"In a social network: people are vertices, friendships are edges. On Facebook, friendships are undirected (mutual). On Twitter, following is directed (one-way)."},{id:13,category:"Non-Linear Data Structures",difficulty:"medium",question:"Which data structure is best suited for representing a social network?",options:["Array","Stack","Queue","Graph"],correctAnswer:3,explanation:"Graphs are perfect for social networks because they represent many-to-many relationships. Each person is a node, and connections (friendships, follows) are edges.",realWorld:"Facebook's friend recommendation: uses graph algorithms to find 'friends of friends'. LinkedIn shows '2nd connections'people connected to your direct connections."},{id:14,category:"Trees",difficulty:"easy",question:"What is the root of a tree?",options:["A node with no children","The topmost node with no parent","A node with only one child","The bottommost node"],correctAnswer:1,explanation:"The root is the topmost node in a tree hierarchyit has no parent. All other nodes in the tree are descendants of the root.",realWorld:"In a file system, the root directory (/ on Linux, C:\\ on Windows) is the topmost folder from which all other folders branch out."},{id:15,category:"Trees",difficulty:"easy",question:"What is a leaf node?",options:["A node with no parent","A node with no children","A node with exactly one child","The root node"],correctAnswer:1,explanation:"A leaf (or external node) is a node with no childrenit's at the end of a branch. Internal nodes are the opposite: they have at least one child.",realWorld:"In a folder structure, files are like leaf nodes (they don't contain other items), while folders with subfolders are internal nodes."},{id:16,category:"Trees",difficulty:"medium",question:"What is the height of a single-node tree?",options:["0","1","2","-1"],correctAnswer:0,explanation:"Height is the number of edges on the longest path from a node to a leaf. A single node (which is both root and leaf) has no edges below it, so height = 0.",realWorld:"If a company has only a CEO with no employees below, the org chart has height 0there are no levels below the CEO."},{id:17,category:"Trees",difficulty:"medium",question:"What is the depth of the root node?",options:["0","1","The tree's height","Undefined"],correctAnswer:0,explanation:"Depth is the number of edges from the root to a node. The root itself has depth 0 because there are no edges between it and itself.",realWorld:"In an org chart, the CEO is at depth 0 (top level), VPs at depth 1, managers at depth 2, etc."},{id:18,category:"Trees",difficulty:"medium",question:"The degree of a node is:",options:["Its depth in the tree","The number of its children","The number of its ancestors","Its distance from the root"],correctAnswer:1,explanation:"The degree of a node is the number of children it has. A leaf has degree 0. The degree of a tree is the maximum degree of any node.",realWorld:"If a manager directly supervises 5 employees, their 'degree' in the org chart is 5. A manager with no direct reports has degree 0."},{id:19,category:"Trees",difficulty:"hard",question:"What are siblings in a tree?",options:["Nodes at the same depth","Nodes with the same parent","Nodes with the same number of children","Any two connected nodes"],correctAnswer:1,explanation:"Siblings are nodes that share the same parent. Nodes at the same depth might not be siblings if they have different parents.",realWorld:"In a family tree, your brothers and sisters are siblings (same parents). Your cousins are at the same 'depth' but aren't siblings."},{id:20,category:"Binary Trees",difficulty:"easy",question:"In a binary tree, each node can have at most how many children?",options:["1","2","3","Unlimited"],correctAnswer:1,explanation:"A binary tree restricts each node to at most 2 children, specifically designated as left child and right child. This distinction matters for many algorithms.",realWorld:"A decision tree for Yes/No questions: each question (node) leads to exactly two possible answers (children)Yes (left) or No (right)."},{id:21,category:"Binary Trees",difficulty:"medium",question:"What is a Full Binary Tree?",options:["A tree where every level is completely filled","A tree where all leaves are at the same level and every internal node has 2 children","A tree with the maximum number of nodes","A tree where only the root has children"],correctAnswer:1,explanation:"A Full (or Proper) Binary Tree has all leaves at the same depth, and every internal node has exactly 2 children. No node has just one child.",realWorld:"A single-elimination tournament bracket where every round has all matches filledno byes. Every match (internal node) has exactly 2 participants."},{id:22,category:"Binary Trees",difficulty:"hard",question:"In a Full Binary Tree of height h, how many leaf nodes are there?",options:["h","2h","2^h","2^(h+1) - 1"],correctAnswer:2,explanation:"A Full Binary Tree of height h has 2^h leaves. At each level, the number of nodes doubles. Level 0 has 1 node, level 1 has 2, level h has 2^h.",realWorld:"A tournament with height 3 (3 rounds): Round 1 has 8 teams (2 = 8 leaves), Round 2 has 4 teams, Round 3 has 2 teams, Finals has 1 winner."},{id:23,category:"Binary Trees",difficulty:"hard",question:"In array representation of a binary tree (root at index 1), what is the index of the left child of node at index i?",options:["i + 1","i - 1","2i","2i + 1"],correctAnswer:2,explanation:"With root at index 1: Left child of i is at 2i, Right child of i is at 2i + 1, Parent of i is at i/2 (integer division).",realWorld:"Heaps use this array representation for efficient storage. A heap with root at index 1: its children are at indices 2 and 3, their children at 4, 5, 6, 7, etc."},{id:24,category:"Binary Trees",difficulty:"medium",question:"What makes binary trees different from general trees?",options:["Binary trees must have exactly 2 children per node","In binary trees, left and right children are distinguished; order matters","Binary trees cannot be empty","Binary trees have a maximum of 7 nodes"],correctAnswer:1,explanation:"In binary trees, left and right children are distinctswapping them creates a different tree. In general trees, children are unordered (only parent-child relationship matters).",realWorld:"In a decision tree: 'If salary > 50000 go LEFT for loan approval, go RIGHT for rejection.' Swapping left/right would reverse all decisions!"},{id:25,category:"Traversals",difficulty:"easy",question:"Which tree traversal visits the root node first?",options:["Inorder","Postorder","Preorder","Level Order"],correctAnswer:2,explanation:"Preorder visits: Root  Left subtree  Right subtree. 'Pre' means the root comes before (pre) its children. Useful for copying a tree.",realWorld:"When exploring a new building: enter main lobby (root), then explore left wing completely, then right wing. You process the main area first."},{id:26,category:"Traversals",difficulty:"medium",question:"Which traversal gives sorted output when applied to a Binary Search Tree?",options:["Preorder","Inorder","Postorder","Level Order"],correctAnswer:1,explanation:"Inorder (Left  Root  Right) visits nodes in ascending order for a BST because left children are smaller and right children are larger than the parent.",realWorld:"A phonebook organized as a BST: inorder traversal would list all names alphabetically, from A to Z, without any sorting needed!"},{id:27,category:"Traversals",difficulty:"medium",question:"Postorder traversal visits nodes in which order?",options:["Root  Left  Right","Left  Right  Root","Left  Root  Right","Right  Root  Left"],correctAnswer:1,explanation:"Postorder: Left subtree  Right subtree  Root. 'Post' means the root comes after (post) its children. Useful for deleting a tree (delete children before parent).",realWorld:"Deleting a folder: you must delete all files and subfolders (children) before you can delete the parent folderclassic postorder operation!"},{id:28,category:"Traversals",difficulty:"medium",question:"Level Order traversal uses which data structure?",options:["Stack","Queue","Linked List","Heap"],correctAnswer:1,explanation:"Level Order (BFS) uses a Queue. Visit root, enqueue children. Dequeue a node, visit it, enqueue its children. This processes nodes level by level.",realWorld:"Searching a corporate hierarchy: first check CEO level, then all VPs, then all managers, etc. Queue ensures you complete each level before moving deeper."},{id:29,category:"Traversals",difficulty:"hard",question:"For the tree A(B(D,E), C(F)), what is the postorder traversal?",options:["A, B, D, E, C, F","D, E, B, F, C, A","D, B, E, A, F, C","A, B, C, D, E, F"],correctAnswer:1,explanation:"Postorder (Left  Right  Root): Start at A, go left to B, go left to D (leaf, visit D), go right to E (leaf, visit E), visit B. Go to C, visit F, visit C. Finally visit A. Result: D, E, B, F, C, A",realWorld:"Calculating folder sizes: compute sizes of all files/subfolders before you can calculate the parent folder's total size."},{id:30,category:"Traversals",difficulty:"hard",question:"Inorder traversal is only defined for:",options:["All trees","Binary trees only","Complete trees only","BST only"],correctAnswer:1,explanation:"Inorder (Left  Root  Right) requires distinguishing between left and right children, which only binary trees have. General trees with unordered children don't have a defined 'left' or 'right'.",realWorld:"Inorder works for binary decision trees (yes/no choices) but doesn't make sense for a general org chart where a manager might have 5 direct reports with no left/right ordering."},{id:31,category:"Algorithm Analysis",difficulty:"easy",question:"What does Big-O notation describe?",options:["The exact running time of an algorithm","The upper bound of an algorithm's growth rate","The memory usage of an algorithm","The best case performance"],correctAnswer:1,explanation:"Big-O describes the upper bound (worst case) of how an algorithm's running time grows as input size increases. It ignores constants and lower-order terms.",realWorld:"O(n) means if you double the input, time roughly doubles. O(n) means doubling input quadruples time. This helps predict how algorithms scale."},{id:32,category:"Algorithm Analysis",difficulty:"easy",question:"What is the time complexity of Binary Search?",options:["O(1)","O(log n)","O(n)","O(n)"],correctAnswer:1,explanation:"Binary Search halves the search space with each comparison, giving O(log n). To search 1 million items, you need at most 20 comparisons (log 1,000,000  20).",realWorld:"Finding a word in a dictionary: open to middle, compare, eliminate half, repeat. Much faster than checking every page from the beginning (linear search)."},{id:33,category:"Algorithm Analysis",difficulty:"medium",question:"Which time complexity is best (fastest growth)?",options:["O(n)","O(n log n)","O(n)","O(log n)"],correctAnswer:3,explanation:"From best to worst: O(1) < O(log n) < O(n) < O(n log n) < O(n) < O(2). Logarithmic time O(log n) is excellentoperations grow very slowly as input increases.",realWorld:"Database indexing achieves O(log n) lookups. Finding one record among 1 billion takes only ~30 comparisons instead of potentially 1 billion!"},{id:34,category:"Algorithm Analysis",difficulty:"medium",question:"What is the worst-case time complexity of Insertion Sort?",options:["O(n)","O(n log n)","O(n)","O(log n)"],correctAnswer:2,explanation:"Insertion Sort has O(n) worst case when the array is in reverse order. Each element must be compared with all previously sorted elements and shifted.",realWorld:"Sorting a deck of cards that is completely reversed: for each card, you must shift all previously sorted cards to make room. Very slow for large decks!"},{id:35,category:"Algorithm Analysis",difficulty:"hard",question:"For Insertion Sort, what input causes the worst-case performance?",options:["Already sorted array","Random array","Reverse sorted array","Array with duplicates"],correctAnswer:2,explanation:"A reverse sorted array [5,4,3,2,1] is worst case for Insertion Sort. Each element is smaller than all sorted elements, requiring maximum comparisons and shifts.",realWorld:"Imagine organizing books by height when they arrive tallest-first: each new book must be moved past ALL previously shelved books to reach the front."},{id:36,category:"Algorithm Analysis",difficulty:"medium",question:"What is the best-case time complexity of Insertion Sort?",options:["O(1)","O(n)","O(n log n)","O(n)"],correctAnswer:1,explanation:"Best case is O(n) when the array is already sorted. Each element only needs one comparison to confirm it's in the right placeno shifting needed.",realWorld:"If books arrive already sorted by height, you just verify each one is taller than the lastone comparison per book, no rearranging needed."},{id:37,category:"Algorithm Analysis",difficulty:"hard",question:"What is the time complexity of accessing an element in a balanced BST?",options:["O(1)","O(log n)","O(n)","O(n log n)"],correctAnswer:1,explanation:"A balanced BST maintains O(log n) height, so searches take O(log n) time. Each comparison eliminates half the remaining nodes. Unbalanced BSTs can degrade to O(n).",realWorld:"A well-organized phone directory (BST): finding 'Martinez' means comparing at root, going left/right based on alphabetical order, eliminating half the names each step."},{id:38,category:"Algorithm Analysis",difficulty:"medium",question:"Which algorithm design approach solves problems by breaking them into smaller subproblems, solving each independently, then combining results?",options:["Greedy Algorithm","Dynamic Programming","Divide and Conquer","Brute Force"],correctAnswer:2,explanation:"Divide and Conquer: (1) Divide into subproblems, (2) Conquer by solving recursively, (3) Combine solutions. Examples: Merge Sort, Quick Sort, Binary Search.",realWorld:"Merge Sort: divide a deck of cards into halves repeatedly until you have single cards, then merge pairs in sorted order back up to get the full sorted deck."},{id:39,category:"Algorithm Analysis",difficulty:"hard",question:"Dynamic Programming differs from Divide and Conquer because it:",options:["Uses iteration instead of recursion","Stores and reuses solutions to overlapping subproblems","Always runs in linear time","Only works with arrays"],correctAnswer:1,explanation:"Dynamic Programming (DP) remembers solutions to subproblems that occur multiple times (memoization). Divide and Conquer has independent subproblems, while DP has overlapping ones.",realWorld:"Calculating Fibonacci: F(5) = F(4) + F(3), but F(4) also needs F(3). DP stores F(3) once instead of recalculating itsaves exponential time!"},{id:40,category:"Algorithm Analysis",difficulty:"medium",question:"A Greedy Algorithm:",options:["Always finds the optimal solution","Makes the locally optimal choice at each step hoping for global optimum","Examines all possible solutions","Uses recursion exclusively"],correctAnswer:1,explanation:"Greedy algorithms make the best choice at each step without considering future consequences. They don't always find the optimal solution but are often fast and simple.",realWorld:"Making change with fewest coins: always pick the largest coin that fits. For 67 with US coins: 50 + 10 + 5 + 1 + 1 = 5 coins. Works well for US coins!"},{id:41,category:"Real-World Applications",difficulty:"easy",question:"Which data structure is used to implement the function call stack in programming?",options:["Queue","Stack","Array","Tree"],correctAnswer:1,explanation:"Function calls use a Stack: when a function is called, its context is pushed. When it returns, the context is popped. This handles nested function calls perfectly.",realWorld:"main() calls calculate() calls add(). When add() returns, we resume calculate(). When calculate() returns, we resume main(). Pure LIFO order!"},{id:42,category:"Real-World Applications",difficulty:"easy",question:"What data structure does a printer queue use?",options:["Stack","Queue","Tree","Graph"],correctAnswer:1,explanation:"Print jobs use a Queue (FIFO): first document sent to print is printed first. Jobs wait in line and are processed in arrival order.",realWorld:"Office printer: You send a 1-page document, colleague sends 50 pages, you send another. Your first document prints first, then 50 pages, then your second document."},{id:43,category:"Real-World Applications",difficulty:"medium",question:"File systems on computers are best represented as:",options:["Arrays","Stacks","Queues","Trees"],correctAnswer:3,explanation:"File systems are hierarchical trees: root directory contains subdirectories and files, subdirectories contain more subdirectories and files, and so on.",realWorld:"C:\\Users\\Documents\\Work\\report.pdf  each folder is a node, files are leaves. You can navigate up to parent folders or down into subfolders."},{id:44,category:"Real-World Applications",difficulty:"medium",question:"Google Maps finding the shortest route uses which data structure primarily?",options:["Stack","Queue","Tree","Graph"],correctAnswer:3,explanation:"Road networks are Graphs: intersections are vertices, roads are edges (with distances as weights). Algorithms like Dijkstra's find shortest paths through the graph.",realWorld:"Getting from home to work: multiple routes exist through the road network. Google Maps' graph algorithms find the fastest path considering distance, traffic, and road types."},{id:45,category:"Real-World Applications",difficulty:"hard",question:"Database indexes commonly use which data structure for efficient searching?",options:["Array","Stack","B-Tree (a type of balanced tree)","Queue"],correctAnswer:2,explanation:"Databases use B-Trees (balanced trees optimized for disk access) for indexes. They provide O(log n) search, insert, and delete while minimizing disk reads.",realWorld:"Finding a customer by ID in a million records: without index (O(n)) = scanning potentially all records. With B-Tree index (O(log n))  20 disk reads maximum!"},{id:46,category:"Real-World Applications",difficulty:"medium",question:"The HTML DOM (Document Object Model) is structured as a:",options:["Linked List","Stack","Tree","Graph"],correctAnswer:2,explanation:"The DOM is a tree structure: the document is the root, html is its child, body and head are children of html, and so on. Each element can have child elements.",realWorld:"When you use document.querySelector(), you're traversing the DOM tree. Parent elements contain child elements, just like folders contain files."},{id:47,category:"Real-World Applications",difficulty:"hard",question:"CPU scheduling in operating systems typically uses which data structure?",options:["Stack","Priority Queue","Linked List","Binary Tree"],correctAnswer:1,explanation:"CPU scheduling uses Priority Queues (often implemented with heaps) to manage processes based on priority. Higher priority processes get CPU time first.",realWorld:"Your computer runs many programs. System processes get higher priority than your browser, which gets higher priority than background downloads."},{id:48,category:"Real-World Applications",difficulty:"medium",question:"Social network friend suggestions typically use:",options:["Stack traversal","Queue traversal","Graph algorithms (BFS/DFS)","Binary search"],correctAnswer:2,explanation:'Friend suggestions use graph algorithms like BFS (Breadth-First Search) to find "friends of friends." The social network is a graph where users are nodes and connections are edges.',realWorld:'LinkedIn shows "2nd connections"people connected to your direct connections. This is found by traversing the social graph 2 levels deep.'}],Lk={easy:10,medium:20,hard:30},_k=[{threshold:10,multiplier:1.5},{threshold:20,multiplier:1.2},{threshold:30,multiplier:1}],Nm={3:1.2,5:1.5,7:2,10:2.5};function al(t,e,r,n){if(!n)return 0;let a=Lk[t];for(const s of _k)if(e<=s.threshold){a*=s.multiplier;break}const i=Object.keys(Nm).map(Number).sort((s,o)=>o-s);for(const s of i)if(r>=s){a*=Nm[s];break}return Math.round(a)}function Ci(t,e){return e===0?0:Math.round(t/e*100)}function Ps(t,e){return Ci(t,e)>=70}function il(t){return t>=90?{grade:"A",label:"Excellent!",colorClass:"text-green-600"}:t>=80?{grade:"B",label:"Great Job!",colorClass:"text-blue-600"}:t>=70?{grade:"C",label:"Good Work!",colorClass:"text-yellow-600"}:t>=60?{grade:"D",label:"Needs Improvement",colorClass:"text-orange-600"}:{grade:"F",label:"Keep Practicing!",colorClass:"text-red-600"}}function Dn(t){const e=Math.floor(t/60),r=t%60;return`${e}:${r.toString().padStart(2,"0")}`}function Mk(t){const e={};return t.forEach(r=>{e[r.category]=(e[r.category]||0)+1}),Object.entries(e).sort((r,n)=>n[1]-r[1]).slice(0,3).map(([r,n])=>({category:r,count:n,suggestion:`Review ${r} concepts and try related questions again.`}))}const Ok=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},Am={questions:[],currentIndex:0,selectedAnswer:null,showResult:!1,isCorrect:!1,score:{correct:0,total:0,points:0},streak:0,timeSpent:0,questionStartTime:Date.now(),quizComplete:!1,incorrectQuestions:[],selectedCategory:"all"},Ik=As((t,e)=>({...Am,initializeQuiz:(r="all",n=15)=>{let a=[...bu];r!=="all"&&(a=a.filter(o=>o.category===r));const i=Ok(a),s=i.slice(0,Math.min(n,i.length));t({...Am,questions:s,selectedCategory:r,questionStartTime:Date.now()})},selectAnswer:r=>{const n=e();if(n.showResult||n.quizComplete)return;const a=n.questions[n.currentIndex],i=r===a.correctAnswer,s=Math.round((Date.now()-n.questionStartTime)/1e3),o=i?n.streak+1:0,u=al(a.difficulty,s,o,i);t({selectedAnswer:r,showResult:!0,isCorrect:i,streak:o,score:{correct:n.score.correct+(i?1:0),total:n.score.total+1,points:n.score.points+u},incorrectQuestions:i?n.incorrectQuestions:[...n.incorrectQuestions,a]})},nextQuestion:()=>{const r=e();if(r.currentIndex>=r.questions.length-1){t({quizComplete:!0});return}t({currentIndex:r.currentIndex+1,selectedAnswer:null,showResult:!1,isCorrect:!1,questionStartTime:Date.now()})},resetQuiz:()=>{const r=e();e().initializeQuiz(r.selectedCategory)},setCategory:r=>{t({selectedCategory:r}),e().initializeQuiz(r)},incrementTime:()=>{t(r=>({timeSpent:r.timeSpent+1}))},startQuestionTimer:()=>{t({questionStartTime:Date.now()})}})),jk=[{id:1,type:"node-placement",title:"Complete the Binary Tree",description:"Drag the missing nodes to their correct positions in the binary tree.",instruction:"Place nodes D and E as children of node B (D on left, E on right).",difficulty:"easy",category:"Binary Trees",initialNodes:[{data:{id:"A",label:"A"},position:{x:300,y:50}},{data:{id:"B",label:"B"},position:{x:200,y:150}},{data:{id:"C",label:"C"},position:{x:400,y:150}},{data:{id:"dropD",label:"?",isDropZone:!0},position:{x:150,y:250},classes:"drop-zone"},{data:{id:"dropE",label:"?",isDropZone:!0},position:{x:250,y:250},classes:"drop-zone"}],initialEdges:[{data:{id:"AB",source:"A",target:"B"}},{data:{id:"AC",source:"A",target:"C"}},{data:{id:"BdropD",source:"B",target:"dropD"},classes:"dashed"},{data:{id:"BdropE",source:"B",target:"dropE"},classes:"dashed"}],draggableNodes:[{data:{id:"D",label:"D",correctPosition:{x:150,y:250}},position:{x:500,y:100},classes:"draggable"},{data:{id:"E",label:"E",correctPosition:{x:250,y:250}},position:{x:500,y:180},classes:"draggable"}],explanation:"In a binary tree, each node has at most two children: a left child and a right child. Node D is the left child of B, and E is the right child of B.",hint:"Remember: in binary trees, left child is positioned to the left of the parent, right child to the right."},{id:2,type:"node-placement",title:"Build Organization Chart",description:"Create the company hierarchy by placing employees in correct positions.",instruction:"Place the managers (Bob, Carol) under CEO Alice, and employees (Dave, Eve, Frank) under their respective managers.",difficulty:"medium",category:"Trees",initialNodes:[{data:{id:"alice",label:`Alice
(CEO)`},position:{x:300,y:50}},{data:{id:"drop1",label:"?",isDropZone:!0},position:{x:175,y:150},classes:"drop-zone"},{data:{id:"drop2",label:"?",isDropZone:!0},position:{x:425,y:150},classes:"drop-zone"},{data:{id:"drop3",label:"?",isDropZone:!0},position:{x:100,y:250},classes:"drop-zone"},{data:{id:"drop4",label:"?",isDropZone:!0},position:{x:250,y:250},classes:"drop-zone"},{data:{id:"drop5",label:"?",isDropZone:!0},position:{x:425,y:250},classes:"drop-zone"}],initialEdges:[{data:{id:"e1",source:"alice",target:"drop1"},classes:"dashed"},{data:{id:"e2",source:"alice",target:"drop2"},classes:"dashed"},{data:{id:"e3",source:"drop1",target:"drop3"},classes:"dashed"},{data:{id:"e4",source:"drop1",target:"drop4"},classes:"dashed"},{data:{id:"e5",source:"drop2",target:"drop5"},classes:"dashed"}],draggableNodes:[{data:{id:"bob",label:`Bob
(Manager)`,correctPosition:{x:175,y:150}},position:{x:550,y:50},classes:"draggable"},{data:{id:"carol",label:`Carol
(Manager)`,correctPosition:{x:425,y:150}},position:{x:550,y:120},classes:"draggable"},{data:{id:"dave",label:"Dave",correctPosition:{x:100,y:250}},position:{x:550,y:190},classes:"draggable"},{data:{id:"eve",label:"Eve",correctPosition:{x:250,y:250}},position:{x:550,y:260},classes:"draggable"},{data:{id:"frank",label:"Frank",correctPosition:{x:425,y:250}},position:{x:550,y:330},classes:"draggable"}],explanation:"Organization charts are tree structures. The CEO is the root, managers are internal nodes, and employees without direct reports are leaves. This hierarchical structure shows reporting relationships.",hint:"Managers report to CEO (level 2), employees report to managers (level 3)."},{id:3,type:"value-fill",title:"Complete the BST",description:"Fill in the missing values to make this a valid Binary Search Tree.",instruction:"In a BST, left children are smaller than parent, right children are larger. Fill in the missing values.",difficulty:"medium",category:"Binary Trees",initialNodes:[{data:{id:"root",label:"50",value:50},position:{x:300,y:50}},{data:{id:"left",label:"?",value:void 0},position:{x:175,y:150}},{data:{id:"right",label:"75",value:75},position:{x:425,y:150}},{data:{id:"ll",label:"10",value:10},position:{x:100,y:250}},{data:{id:"lr",label:"?",value:void 0},position:{x:250,y:250}},{data:{id:"rl",label:"?",value:void 0},position:{x:350,y:250}},{data:{id:"rr",label:"90",value:90},position:{x:500,y:250}}],initialEdges:[{data:{id:"e1",source:"root",target:"left"}},{data:{id:"e2",source:"root",target:"right"}},{data:{id:"e3",source:"left",target:"ll"}},{data:{id:"e4",source:"left",target:"lr"}},{data:{id:"e5",source:"right",target:"rl"}},{data:{id:"e6",source:"right",target:"rr"}}],missingValues:[{nodeId:"left",correctValue:30},{nodeId:"lr",correctValue:40},{nodeId:"rl",correctValue:60}],explanation:"In a BST: Left subtree values < Parent value < Right subtree values. For node 50: left subtree must have values < 50. The left child (30) must be > 10 and < 50. Node 40 must be > 30 and < 50. Node 60 must be > 50 and < 75.",hint:"Think about what range of values each node can have based on its ancestors."},{id:4,type:"value-fill",title:"Array to Binary Tree",description:"Given array representation [_, 1, 2, 3, 4, 5, 6, 7], fill in the tree node values.",instruction:"In array representation (1-indexed): left child of i is at 2i, right child at 2i+1. Fill the missing values.",difficulty:"hard",category:"Binary Trees",initialNodes:[{data:{id:"n1",label:"1",value:1},position:{x:300,y:50}},{data:{id:"n2",label:"?",value:void 0},position:{x:175,y:130}},{data:{id:"n3",label:"?",value:void 0},position:{x:425,y:130}},{data:{id:"n4",label:"4",value:4},position:{x:100,y:210}},{data:{id:"n5",label:"?",value:void 0},position:{x:250,y:210}},{data:{id:"n6",label:"?",value:void 0},position:{x:350,y:210}},{data:{id:"n7",label:"7",value:7},position:{x:500,y:210}}],initialEdges:[{data:{id:"e1",source:"n1",target:"n2"}},{data:{id:"e2",source:"n1",target:"n3"}},{data:{id:"e3",source:"n2",target:"n4"}},{data:{id:"e4",source:"n2",target:"n5"}},{data:{id:"e5",source:"n3",target:"n6"}},{data:{id:"e6",source:"n3",target:"n7"}}],missingValues:[{nodeId:"n2",correctValue:2},{nodeId:"n3",correctValue:3},{nodeId:"n5",correctValue:5},{nodeId:"n6",correctValue:6}],explanation:"Array representation maps tree levels to array indices. Root at index 1. For node at index i: left child at 2i, right child at 2i+1, parent at i/2. So index 2,3 are children of 1; indices 4,5 are children of 2; indices 6,7 are children of 3.",hint:"The array index corresponds to the node value in this example. Left child = 2*parent, Right child = 2*parent + 1."},{id:5,type:"traversal-order",title:"Preorder Traversal",description:"Number the nodes in preorder traversal sequence (Root  Left  Right).",instruction:"Click nodes in preorder: visit root first, then left subtree, then right subtree.",difficulty:"medium",category:"Traversals",traversalType:"preorder",initialNodes:[{data:{id:"A",label:"A",traversalOrder:1},position:{x:300,y:50}},{data:{id:"B",label:"B",traversalOrder:2},position:{x:175,y:150}},{data:{id:"C",label:"C",traversalOrder:5},position:{x:425,y:150}},{data:{id:"D",label:"D",traversalOrder:3},position:{x:100,y:250}},{data:{id:"E",label:"E",traversalOrder:4},position:{x:250,y:250}},{data:{id:"F",label:"F",traversalOrder:6},position:{x:425,y:250}}],initialEdges:[{data:{id:"AB",source:"A",target:"B"}},{data:{id:"AC",source:"A",target:"C"}},{data:{id:"BD",source:"B",target:"D"}},{data:{id:"BE",source:"B",target:"E"}},{data:{id:"CF",source:"C",target:"F"}}],correctTraversalOrder:["A","B","D","E","C","F"],explanation:"Preorder: Root  Left  Right. Start at A (1), go left to B (2), go left to D (3), back to B, go right to E (4), back to A, go right to C (5), go left to F (6). Result: A, B, D, E, C, F.",hint:'Think of preorder as "visit yourself, then visit left subtree completely, then right subtree completely."'},{id:6,type:"traversal-order",title:"Inorder Traversal",description:"Number the nodes in inorder traversal sequence (Left  Root  Right).",instruction:"Click nodes in inorder: visit left subtree first, then root, then right subtree.",difficulty:"medium",category:"Traversals",traversalType:"inorder",initialNodes:[{data:{id:"A",label:"A",traversalOrder:4},position:{x:300,y:50}},{data:{id:"B",label:"B",traversalOrder:2},position:{x:175,y:150}},{data:{id:"C",label:"C",traversalOrder:5},position:{x:425,y:150}},{data:{id:"D",label:"D",traversalOrder:1},position:{x:100,y:250}},{data:{id:"E",label:"E",traversalOrder:3},position:{x:250,y:250}},{data:{id:"F",label:"F",traversalOrder:6},position:{x:425,y:250}}],initialEdges:[{data:{id:"AB",source:"A",target:"B"}},{data:{id:"AC",source:"A",target:"C"}},{data:{id:"BD",source:"B",target:"D"}},{data:{id:"BE",source:"B",target:"E"}},{data:{id:"CF",source:"C",target:"F"}}],correctTraversalOrder:["D","B","E","A","C","F"],explanation:"Inorder: Left  Root  Right. Go left until you can't (D, visit 1), back to B (visit 2), right to E (visit 3), back to A (visit 4), right to C (visit 5), C has no left so down to F (visit 6). Result: D, B, E, A, C, F.",hint:'Think of inorder as "visit left subtree completely, then yourself, then right subtree completely."'},{id:7,type:"traversal-order",title:"Postorder Traversal",description:"Number the nodes in postorder traversal sequence (Left  Right  Root).",instruction:"Click nodes in postorder: visit left subtree, then right subtree, then root.",difficulty:"medium",category:"Traversals",traversalType:"postorder",initialNodes:[{data:{id:"A",label:"A",traversalOrder:6},position:{x:300,y:50}},{data:{id:"B",label:"B",traversalOrder:3},position:{x:175,y:150}},{data:{id:"C",label:"C",traversalOrder:5},position:{x:425,y:150}},{data:{id:"D",label:"D",traversalOrder:1},position:{x:100,y:250}},{data:{id:"E",label:"E",traversalOrder:2},position:{x:250,y:250}},{data:{id:"F",label:"F",traversalOrder:4},position:{x:425,y:250}}],initialEdges:[{data:{id:"AB",source:"A",target:"B"}},{data:{id:"AC",source:"A",target:"C"}},{data:{id:"BD",source:"B",target:"D"}},{data:{id:"BE",source:"B",target:"E"}},{data:{id:"CF",source:"C",target:"F"}}],correctTraversalOrder:["D","E","B","F","C","A"],explanation:"Postorder: Left  Right  Root. Go left to D (leaf, visit 1), right to E (leaf, visit 2), back up to B (visit 3), go right to C, down to F (visit 4), back to C (visit 5), finally A (visit 6). Result: D, E, B, F, C, A.",hint:'Think of postorder as "visit left subtree, then right subtree, then yourself last."'},{id:8,type:"traversal-order",title:"Level Order Traversal",description:"Number the nodes in level order (breadth-first) sequence.",instruction:"Click nodes level by level, left to right on each level.",difficulty:"easy",category:"Traversals",traversalType:"levelorder",initialNodes:[{data:{id:"A",label:"A",traversalOrder:1},position:{x:300,y:50}},{data:{id:"B",label:"B",traversalOrder:2},position:{x:175,y:150}},{data:{id:"C",label:"C",traversalOrder:3},position:{x:425,y:150}},{data:{id:"D",label:"D",traversalOrder:4},position:{x:100,y:250}},{data:{id:"E",label:"E",traversalOrder:5},position:{x:250,y:250}},{data:{id:"F",label:"F",traversalOrder:6},position:{x:425,y:250}}],initialEdges:[{data:{id:"AB",source:"A",target:"B"}},{data:{id:"AC",source:"A",target:"C"}},{data:{id:"BD",source:"B",target:"D"}},{data:{id:"BE",source:"B",target:"E"}},{data:{id:"CF",source:"C",target:"F"}}],correctTraversalOrder:["A","B","C","D","E","F"],explanation:"Level Order (BFS): Visit nodes level by level using a queue. Level 0: A. Level 1: B, C. Level 2: D, E, F. Result: A, B, C, D, E, F. This is used in BFS algorithms.",hint:"Visit all nodes at depth 0, then depth 1, then depth 2, etc. Go left to right at each level."},{id:9,type:"edge-connection",title:"Connect the Tree",description:"Draw edges to create a valid binary tree structure.",instruction:"Click on a parent node, then click on a child node to create an edge.",difficulty:"easy",category:"Binary Trees",initialNodes:[{data:{id:"A",label:"A"},position:{x:300,y:50}},{data:{id:"B",label:"B"},position:{x:175,y:150}},{data:{id:"C",label:"C"},position:{x:425,y:150}},{data:{id:"D",label:"D"},position:{x:100,y:250}},{data:{id:"E",label:"E"},position:{x:250,y:250}}],initialEdges:[],requiredEdges:[{source:"A",target:"B"},{source:"A",target:"C"},{source:"B",target:"D"},{source:"B",target:"E"}],explanation:"A tree is connected and acyclic. In a binary tree, each node has at most 2 children. A is the root with children B and C. B has children D and E. C is a leaf.",hint:"Start from the root (A) and connect to children. Each internal node can have at most 2 children."},{id:10,type:"edge-connection",title:"Build a Linked List",description:"Connect nodes to form a singly linked list.",instruction:"Create edges to link nodes in order: 1  2  3  4  5.",difficulty:"easy",category:"Linear Data Structures",initialNodes:[{data:{id:"n1",label:"1"},position:{x:100,y:150}},{data:{id:"n2",label:"2"},position:{x:200,y:150}},{data:{id:"n3",label:"3"},position:{x:300,y:150}},{data:{id:"n4",label:"4"},position:{x:400,y:150}},{data:{id:"n5",label:"5"},position:{x:500,y:150}}],initialEdges:[],requiredEdges:[{source:"n1",target:"n2"},{source:"n2",target:"n3"},{source:"n3",target:"n4"},{source:"n4",target:"n5"}],explanation:"A singly linked list is a linear data structure where each node points to the next. The last node points to null. Unlike arrays, linked lists allow efficient insertion/deletion.",hint:"Each node should point to exactly one next node, forming a chain."}],zk=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},Od={currentIndex:0,currentChallenge:null,placedNodes:{},filledValues:{},connectedEdges:[],traversalSelection:[],isComplete:!1,isCorrect:!1,showResult:!1,score:{correct:0,total:0,points:0},timeSpent:0,streak:0},sl=As((t,e)=>({challenges:[],...Od,initializeChallenges:r=>{let n=[...jk];r&&r!=="all"&&(n=n.filter(i=>i.category===r));const a=zk(n).slice(0,8);t({...Od,challenges:a,currentChallenge:a[0]||null})},setCurrentChallenge:r=>{const{challenges:n}=e();r>=0&&r<n.length&&t({currentIndex:r,currentChallenge:n[r],placedNodes:{},filledValues:{},connectedEdges:[],traversalSelection:[],showResult:!1,isCorrect:!1})},nextChallenge:()=>{const{currentIndex:r,challenges:n}=e();r<n.length-1?e().setCurrentChallenge(r+1):t({isComplete:!0})},placeNode:(r,n)=>{t(a=>({placedNodes:{...a.placedNodes,[r]:n}}))},resetPlacedNodes:()=>{t({placedNodes:{}})},fillValue:(r,n)=>{t(a=>({filledValues:{...a.filledValues,[r]:n}}))},resetFilledValues:()=>{t({filledValues:{}})},addEdge:(r,n)=>{t(a=>a.connectedEdges.some(s=>s.source===r&&s.target===n||s.source===n&&s.target===r)?a:{connectedEdges:[...a.connectedEdges,{source:r,target:n}]})},removeEdge:(r,n)=>{t(a=>({connectedEdges:a.connectedEdges.filter(i=>!(i.source===r&&i.target===n||i.source===n&&i.target===r))}))},resetEdges:()=>{t({connectedEdges:[]})},selectTraversalNode:r=>{t(n=>n.traversalSelection.includes(r)?n:{traversalSelection:[...n.traversalSelection,r]})},undoTraversalSelection:()=>{t(r=>({traversalSelection:r.traversalSelection.slice(0,-1)}))},resetTraversalSelection:()=>{t({traversalSelection:[]})},validateChallenge:()=>{const r=e(),n=r.currentChallenge;if(!n)return!1;switch(n.type){case"node-placement":{if(!n.draggableNodes)return!1;const a=50;for(const i of n.draggableNodes){const s=r.placedNodes[i.data.id],o=i.data.correctPosition;if(!s||!o||Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2))>a)return!1}return!0}case"value-fill":{if(!n.missingValues)return!1;for(const a of n.missingValues){const i=r.filledValues[a.nodeId];if(i===void 0||String(i).trim()!==String(a.correctValue).trim())return!1}return!0}case"edge-connection":{if(!n.requiredEdges)return!1;for(const a of n.requiredEdges)if(!r.connectedEdges.some(s=>s.source===a.source&&s.target===a.target||s.source===a.target&&s.target===a.source))return!1;return r.connectedEdges.length===n.requiredEdges.length}case"traversal-order":{if(!n.correctTraversalOrder||r.traversalSelection.length!==n.correctTraversalOrder.length)return!1;for(let a=0;a<r.traversalSelection.length;a++)if(r.traversalSelection[a]!==n.correctTraversalOrder[a])return!1;return!0}default:return!1}},submitChallenge:()=>{const r=e(),n=e().validateChallenge(),a=r.currentChallenge;if(!a)return;const i=n?r.streak+1:0,s=Math.min(r.timeSpent,120),o=al(a.difficulty,s,i,n);t({showResult:!0,isCorrect:n,streak:i,score:{correct:r.score.correct+(n?1:0),total:r.score.total+1,points:r.score.points+o}})},incrementTime:()=>{t(r=>({timeSpent:r.timeSpent+1}))},resetChallenge:()=>{t({placedNodes:{},filledValues:{},connectedEdges:[],traversalSelection:[],showResult:!1,isCorrect:!1})},resetAll:()=>{t({...Od,challenges:[],currentChallenge:null})}})),_c=(t,e=300,r=50,n=150,a=80)=>{const i=[],s=[],o=[{index:0,x:e,y:r,level:0}];for(;o.length>0;){const u=o.shift();if(!u)continue;const{index:l,x:c,y:d,level:f}=u,v=t[l];if(l>=t.length||v===null)continue;const h=v;i.push({id:h,label:h,x:c,y:d});const y=2*l+1,b=2*l+2,g=n/Math.pow(2,f),p=t[y];y<t.length&&p!==null&&(s.push({id:`${h}-${p}`,source:h,target:p,type:"left"}),o.push({index:y,x:c-g,y:d+a,level:f+1}));const w=t[b];b<t.length&&w!==null&&(s.push({id:`${h}-${w}`,source:h,target:w,type:"right"}),o.push({index:b,x:c+g,y:d+a,level:f+1}))}return{nodes:i,edges:s}},Gl=_c(["A","B","C"]),Kl=_c(["A","B","C","D","E","F","G"]),Fk={nodes:[{id:"A",label:"A",x:300,y:50},{id:"B",label:"B",x:225,y:130},{id:"C",label:"C",x:150,y:210},{id:"D",label:"D",x:75,y:290}],edges:[{id:"A-B",source:"A",target:"B",type:"left"},{id:"B-C",source:"B",target:"C",type:"left"},{id:"C-D",source:"C",target:"D",type:"left"}]},qk={nodes:[{id:"A",label:"A",x:300,y:50},{id:"B",label:"B",x:375,y:130},{id:"C",label:"C",x:450,y:210},{id:"D",label:"D",x:525,y:290}],edges:[{id:"A-B",source:"A",target:"B",type:"right"},{id:"B-C",source:"B",target:"C",type:"right"},{id:"C-D",source:"C",target:"D",type:"right"}]},Id=_c(["50","30","70","20","40","60","80"]),jd={nodes:[{id:"A",label:"A",x:300,y:50},{id:"B",label:"B",x:175,y:130},{id:"C",label:"C",x:425,y:130},{id:"D",label:"D",x:100,y:210},{id:"E",label:"E",x:250,y:210},{id:"F",label:"F",x:50,y:290},{id:"G",label:"G",x:150,y:290}],edges:[{id:"A-B",source:"A",target:"B",type:"left"},{id:"A-C",source:"A",target:"C",type:"right"},{id:"B-D",source:"B",target:"D",type:"left"},{id:"B-E",source:"B",target:"E",type:"right"},{id:"D-F",source:"D",target:"F",type:"left"},{id:"D-G",source:"D",target:"G",type:"right"}]},zd={nodes:[{id:"*",label:"*",x:300,y:50},{id:"+",label:"+",x:175,y:130},{id:"c",label:"c",x:425,y:130},{id:"a",label:"a",x:100,y:210},{id:"b",label:"b",x:250,y:210}],edges:[{id:"*-+",source:"*",target:"+",type:"left"},{id:"*-c",source:"*",target:"c",type:"right"},{id:"+-a",source:"+",target:"a",type:"left"},{id:"+-b",source:"+",target:"b",type:"right"}]},Vk=_c(["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],300,30,180,70),Wk=[{id:1,title:"Simple Pre-order",description:"Perform a pre-order traversal on this simple binary tree.",traversalType:"preorder",difficulty:"easy",...Gl,correctOrder:["A","B","C"],explanation:"Pre-order visits Root  Left  Right. Starting at A (root), we visit A first, then go to left child B, then right child C.",hint:"Remember: Visit the node first, then go left, then go right."},{id:2,title:"Complete Tree Pre-order",description:"Traverse this complete binary tree in pre-order.",traversalType:"preorder",difficulty:"medium",...Kl,correctOrder:["A","B","D","E","C","F","G"],explanation:"Pre-order: A (root)  B (left subtree: B, D, E)  C (right subtree: C, F, G). Within each subtree, we follow the same Root  Left  Right pattern.",hint:"Process the current node, then recursively do the same for left and right subtrees."},{id:3,title:"Left-Skewed Pre-order",description:"Traverse this left-skewed tree in pre-order.",traversalType:"preorder",difficulty:"easy",...Fk,correctOrder:["A","B","C","D"],explanation:"In a left-skewed tree, pre-order visits each node as we go down the left path: A  B  C  D.",hint:"With only left children, pre-order is simply top to bottom."},{id:4,title:"BST Pre-order",description:"Perform pre-order traversal on this Binary Search Tree.",traversalType:"preorder",difficulty:"medium",...Id,correctOrder:["50","30","20","40","70","60","80"],explanation:"Pre-order on BST: 50 (root)  30, 20, 40 (left subtree)  70, 60, 80 (right subtree). Pre-order is useful for creating a copy of the tree.",hint:"Start at root 50, go completely through left subtree, then right subtree."},{id:5,title:"Simple In-order",description:"Perform an in-order traversal on this simple binary tree.",traversalType:"inorder",difficulty:"easy",...Gl,correctOrder:["B","A","C"],explanation:"In-order visits Left  Root  Right. Go to leftmost node B first, then root A, then right child C.",hint:"Remember: Go left first, then visit the node, then go right."},{id:6,title:"Complete Tree In-order",description:"Traverse this complete binary tree in in-order.",traversalType:"inorder",difficulty:"medium",...Kl,correctOrder:["D","B","E","A","F","C","G"],explanation:"In-order visits nodes in Left  Root  Right order. For BSTs, this gives sorted order! Here: D, B, E (left subtree)  A (root)  F, C, G (right subtree).",hint:"Go as far left as possible first, then visit nodes on the way back up."},{id:7,title:"BST In-order (Sorted Output)",description:"Use in-order traversal to visit BST nodes in sorted order.",traversalType:"inorder",difficulty:"medium",...Id,correctOrder:["20","30","40","50","60","70","80"],explanation:"In-order traversal of a BST always produces nodes in sorted order! This is because left children are smaller and right children are larger.",hint:"In a BST, in-order gives you sorted output. Start with the smallest!"},{id:8,title:"Right-Skewed In-order",description:"Traverse this right-skewed tree in in-order.",traversalType:"inorder",difficulty:"easy",...qk,correctOrder:["A","B","C","D"],explanation:"In a right-skewed tree, with no left children, in-order is the same as pre-order: top to bottom.",hint:"No left children means visit root immediately, then go right."},{id:9,title:"Simple Post-order",description:"Perform a post-order traversal on this simple binary tree.",traversalType:"postorder",difficulty:"easy",...Gl,correctOrder:["B","C","A"],explanation:"Post-order visits Left  Right  Root. Visit both children (B, C) before visiting the root (A).",hint:"Remember: Visit children first, then the parent node last."},{id:10,title:"Complete Tree Post-order",description:"Traverse this complete binary tree in post-order.",traversalType:"postorder",difficulty:"medium",...Kl,correctOrder:["D","E","B","F","G","C","A"],explanation:"Post-order: Left subtree (D, E, B)  Right subtree (F, G, C)  Root (A). The root is always visited last!",hint:"Process children completely before their parent. Root comes last."},{id:11,title:"Expression Tree Post-order",description:"Evaluate this expression tree using post-order (postfix notation).",traversalType:"postorder",difficulty:"hard",...zd,correctOrder:["a","b","+","c","*"],explanation:"Post-order of an expression tree gives postfix notation (Reverse Polish Notation): a b + c *. This equals (a + b) * c.",hint:"Post-order on expression trees gives you postfix notation for evaluation."},{id:12,title:"Unbalanced Post-order",description:"Navigate this unbalanced tree in post-order.",traversalType:"postorder",difficulty:"hard",...jd,correctOrder:["F","G","D","E","B","C","A"],explanation:"Post-order processes deepest leaves first, working up. F, G are processed, then their parent D, then E, then B, then C, finally A.",hint:"Start from the deepest left leaf and work your way up and across."},{id:13,title:"Simple Level-order",description:"Perform a level-order (BFS) traversal on this tree.",traversalType:"levelorder",difficulty:"easy",...Gl,correctOrder:["A","B","C"],explanation:"Level-order visits nodes level by level, left to right. Level 0: A, Level 1: B, C.",hint:"Think of it as reading the tree like a book - top to bottom, left to right."},{id:14,title:"Complete Tree Level-order",description:"Traverse this complete binary tree level by level.",traversalType:"levelorder",difficulty:"medium",...Kl,correctOrder:["A","B","C","D","E","F","G"],explanation:"Level-order uses a queue (BFS). Level 0: A, Level 1: B, C, Level 2: D, E, F, G.",hint:"Visit all nodes at the current level before moving to the next level."},{id:15,title:"BST Level-order",description:"Perform level-order traversal on this BST.",traversalType:"levelorder",difficulty:"medium",...Id,correctOrder:["50","30","70","20","40","60","80"],explanation:"Level-order visits: 50 (level 0)  30, 70 (level 1)  20, 40, 60, 80 (level 2).",hint:"Use a queue! Add children to the queue as you visit each node."},{id:16,title:"Large Tree Level-order",description:"Traverse this large tree level by level.",traversalType:"levelorder",difficulty:"hard",...Vk,correctOrder:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],explanation:"Level-order on a complete tree with n nodes visits them in order 1, 2, 3, ..., n when nodes are numbered level by level.",hint:"For complete trees, level-order gives sequential numbering!"},{id:17,title:"Expression Tree Pre-order",description:"Get the prefix notation of this expression using pre-order.",traversalType:"preorder",difficulty:"hard",...zd,correctOrder:["*","+","a","b","c"],explanation:"Pre-order of an expression tree gives prefix notation (Polish Notation): * + a b c. The operator comes before its operands.",hint:"Pre-order on expression trees gives prefix notation."},{id:18,title:"Expression Tree In-order",description:"Get the infix expression using in-order traversal.",traversalType:"inorder",difficulty:"hard",...zd,correctOrder:["a","+","b","*","c"],explanation:"In-order of an expression tree gives infix notation: a + b * c. Note: without parentheses, operator precedence may differ!",hint:"In-order gives the standard mathematical notation (infix)."},{id:19,title:"Unbalanced Pre-order",description:"Traverse this unbalanced tree in pre-order.",traversalType:"preorder",difficulty:"hard",...jd,correctOrder:["A","B","D","F","G","E","C"],explanation:"Pre-order: Visit A, then entire left subtree (B  D  F, G  E), then right subtree (C).",hint:"Visit node first, then go deep into left subtree before touching right."},{id:20,title:"Unbalanced In-order",description:"Traverse this unbalanced tree in in-order.",traversalType:"inorder",difficulty:"hard",...jd,correctOrder:["F","D","G","B","E","A","C"],explanation:"In-order on unbalanced tree: Go to deepest left (F), work back through D, G, B, E, then A, then C.",hint:"Always go left first until you cannot, then visit, then go right."}],$k=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},Fd={currentIndex:0,currentChallenge:null,selectedNodes:[],isAnimating:!1,animationStep:0,isComplete:!1,isCorrect:!1,showResult:!1,score:{correct:0,total:0,points:0},timeSpent:0,streak:0,showAlgorithm:!1},Uk=As((t,e)=>({challenges:[],...Fd,initializeChallenges:r=>{let n=[...Wk];r&&(n=n.filter(i=>i.traversalType===r));const a=$k(n).slice(0,10);t({...Fd,challenges:a,currentChallenge:a[0]||null})},setCurrentChallenge:r=>{const{challenges:n}=e();r>=0&&r<n.length&&t({currentIndex:r,currentChallenge:n[r],selectedNodes:[],isAnimating:!1,animationStep:0,showResult:!1,isCorrect:!1})},nextChallenge:()=>{const{currentIndex:r,challenges:n}=e();r<n.length-1?e().setCurrentChallenge(r+1):t({isComplete:!0})},selectNode:r=>{const n=e();if(n.showResult||n.isAnimating)return;const a=n.currentChallenge;if(a){if(n.selectedNodes.includes(r)){t({selectedNodes:n.selectedNodes.filter(i=>i!==r)});return}n.selectedNodes.length>=a.correctOrder.length||t({selectedNodes:[...n.selectedNodes,r]})}},undoSelection:()=>{t(r=>({selectedNodes:r.selectedNodes.slice(0,-1)}))},resetSelection:()=>{t({selectedNodes:[],isAnimating:!1,animationStep:0})},startAnimation:()=>{e().currentChallenge&&t({isAnimating:!0,animationStep:0,selectedNodes:[]})},stopAnimation:()=>{t({isAnimating:!1,animationStep:0})},nextAnimationStep:()=>{const r=e(),n=r.currentChallenge;if(!n||!r.isAnimating)return;const a=r.animationStep+1;a>=n.correctOrder.length?t({isAnimating:!1,animationStep:0,selectedNodes:[...n.correctOrder]}):t({animationStep:a,selectedNodes:n.correctOrder.slice(0,a+1)})},validateTraversal:()=>{const r=e(),n=r.currentChallenge;if(!n||r.selectedNodes.length!==n.correctOrder.length)return!1;for(let a=0;a<r.selectedNodes.length;a++)if(r.selectedNodes[a]!==n.correctOrder[a])return!1;return!0},submitTraversal:()=>{const r=e(),n=e().validateTraversal(),a=r.currentChallenge;if(!a)return;const i=n?r.streak+1:0,s=Math.min(r.timeSpent,120),o=al(a.difficulty,s,i,n);t({showResult:!0,isCorrect:n,streak:i,score:{correct:r.score.correct+(n?1:0),total:r.score.total+1,points:r.score.points+o}})},toggleAlgorithm:()=>{t(r=>({showAlgorithm:!r.showAlgorithm}))},incrementTime:()=>{t(r=>({timeSpent:r.timeSpent+1}))},resetChallenge:()=>{t({selectedNodes:[],isAnimating:!1,animationStep:0,showResult:!1,isCorrect:!1})},resetAll:()=>{t({...Fd,challenges:[],currentChallenge:null})}})),Ve={array:{id:"array",name:"Array",icon:"",description:"Fixed-size sequential collection with O(1) index access",category:"linear"},linkedList:{id:"linkedList",name:"Linked List",icon:"",description:"Dynamic sequential collection with O(1) insertions",category:"linear"},stack:{id:"stack",name:"Stack",icon:"",description:"LIFO (Last-In-First-Out) data structure",category:"linear"},queue:{id:"queue",name:"Queue",icon:"",description:"FIFO (First-In-First-Out) data structure",category:"linear"},hashTable:{id:"hashTable",name:"Hash Table",icon:"",description:"Key-value store with O(1) average lookup",category:"hash"},binaryTree:{id:"binaryTree",name:"Binary Tree",icon:"",description:"Hierarchical structure with at most 2 children per node",category:"tree"},bst:{id:"bst",name:"Binary Search Tree",icon:"",description:"Ordered tree with O(log n) search",category:"tree"},heap:{id:"heap",name:"Heap",icon:"",description:"Complete binary tree for priority ordering",category:"tree"},graph:{id:"graph",name:"Graph",icon:"",description:"Nodes connected by edges, models relationships",category:"graph"},trie:{id:"trie",name:"Trie",icon:"",description:"Tree for storing strings with shared prefixes",category:"tree"},priorityQueue:{id:"priorityQueue",name:"Priority Queue",icon:"",description:"Queue where elements have priority ordering",category:"linear"},balancedTree:{id:"balancedTree",name:"Balanced Tree (AVL/Red-Black)",icon:"",description:"Self-balancing tree maintaining O(log n) operations",category:"tree"}},Hk=[{id:1,title:"Everyday Data Structures",description:"Match common data structures to their everyday applications.",difficulty:"easy",category:"Fundamentals",structures:[Ve.stack,Ve.queue,Ve.array],applications:[{id:"undo",title:"Undo/Redo in Text Editors",description:"Reverses your last actions in order",icon:"",matchesStructure:"stack"},{id:"printer",title:"Print Job Queue",description:"Documents print in the order they were sent",icon:"",matchesStructure:"queue"},{id:"playlist",title:"Music Playlist",description:"Sequential list of songs with direct access by position",icon:"",matchesStructure:"array"}],explanations:{stack:"Stacks use LIFO - the last action you did is the first one undone!",queue:"Queues use FIFO - first document sent is the first one printed!",array:"Arrays provide O(1) access to any position - perfect for playlists!"},hint:"Think about the order in which items are processed."},{id:2,title:"Web Browser Features",description:"How does your browser use data structures?",difficulty:"easy",category:"Web Development",structures:[Ve.stack,Ve.hashTable,Ve.queue],applications:[{id:"history",title:"Browser Back Button",description:"Navigate to previously visited pages",icon:"",matchesStructure:"stack"},{id:"cache",title:"Browser Cache",description:"Quick lookup of recently visited page data",icon:"",matchesStructure:"hashTable"},{id:"downloads",title:"Download Queue",description:"Files download in the order requested",icon:"",matchesStructure:"queue"}],explanations:{stack:"Browser history is a stack - back button pops the most recent page!",hashTable:"Cache uses URL as key for O(1) lookup of stored page data!",queue:"Downloads process in FIFO order - first requested, first downloaded!"},hint:"Consider how you navigate backwards and how fast lookups work."},{id:3,title:"Operating System Basics",description:"Data structures powering your OS.",difficulty:"easy",category:"Systems",structures:[Ve.queue,Ve.stack,Ve.linkedList],applications:[{id:"cpu",title:"CPU Task Scheduling",description:"Processes waiting for CPU time",icon:"",matchesStructure:"queue"},{id:"callstack",title:"Function Call Stack",description:"Tracks nested function calls and returns",icon:"",matchesStructure:"stack"},{id:"memory",title:"Memory Allocation Blocks",description:"Free memory blocks of varying sizes",icon:"",matchesStructure:"linkedList"}],explanations:{queue:"CPU scheduling often uses queues - processes run in arrival order (round-robin)!",stack:'Function calls push onto the stack, returns pop off - hence "stack overflow"!',linkedList:"Free memory blocks form a linked list - easy to insert/remove any block!"},hint:"Think about order of processing and dynamic memory management."},{id:4,title:"Social Media Architecture",description:"How social networks organize data.",difficulty:"medium",category:"Social Media",structures:[Ve.graph,Ve.hashTable,Ve.queue,Ve.heap],applications:[{id:"friends",title:"Friend Connections",description:"Network of who is connected to whom",icon:"",matchesStructure:"graph"},{id:"profile",title:"User Profile Lookup",description:"Finding user data by username",icon:"",matchesStructure:"hashTable"},{id:"notifications",title:"Notification Queue",description:"Processing notifications in order received",icon:"",matchesStructure:"queue"},{id:"trending",title:"Trending Topics",description:"Keeping track of most popular items",icon:"",matchesStructure:"heap"}],explanations:{graph:"Social networks are graphs - users are nodes, friendships are edges!",hashTable:"Hash tables enable O(1) lookup by username or user ID!",queue:"Notifications process in FIFO order to maintain chronology!",heap:"Heaps efficiently track top-K items - perfect for trending content!"},hint:"Consider relationships, fast lookups, ordering, and priority."},{id:5,title:"E-Commerce Systems",description:"Data structures behind online shopping.",difficulty:"medium",category:"E-Commerce",structures:[Ve.hashTable,Ve.bst,Ve.queue,Ve.array],applications:[{id:"cart",title:"Shopping Cart",description:"Quick lookup of items by product ID",icon:"",matchesStructure:"hashTable"},{id:"priceRange",title:"Price Range Filter",description:"Finding products within a price range",icon:"",matchesStructure:"bst"},{id:"orders",title:"Order Processing",description:"Orders processed in sequence received",icon:"",matchesStructure:"queue"},{id:"recommendations",title:"Product Recommendations",description:"List of suggested products in ranked order",icon:"",matchesStructure:"array"}],explanations:{hashTable:"Shopping carts use hash tables for O(1) product lookup and updates!",bst:"BSTs enable efficient range queries - find all products $10-$50!",queue:"Order fulfillment uses queues - first order in, first order shipped!",array:"Recommendation lists use arrays - ranked by relevance score!"},hint:"Think about lookups, ranges, ordering, and ranked lists."},{id:6,title:"Search & Autocomplete",description:"Data structures for text search features.",difficulty:"medium",category:"Search",structures:[Ve.trie,Ve.hashTable,Ve.heap,Ve.graph],applications:[{id:"autocomplete",title:"Search Autocomplete",description:"Suggesting words as you type",icon:"",matchesStructure:"trie"},{id:"spellcheck",title:"Spell Check Dictionary",description:"Checking if a word exists",icon:"",matchesStructure:"hashTable"},{id:"topResults",title:"Top Search Results",description:"Showing best matches first",icon:"",matchesStructure:"heap"},{id:"related",title:"Related Searches",description:"Finding connected search terms",icon:"",matchesStructure:"graph"}],explanations:{trie:'Tries store words by prefix - perfect for "starts with" autocomplete!',hashTable:"Spell check needs O(1) word existence check - hash sets are ideal!",heap:"Heaps maintain top-K results efficiently as scores update!",graph:"Related searches form a graph - terms that appear together are connected!"},hint:"Consider prefix matching, existence checks, and relationships."},{id:7,title:"Gaming Applications",description:"How video games use data structures.",difficulty:"medium",category:"Gaming",structures:[Ve.graph,Ve.priorityQueue,Ve.stack,Ve.hashTable],applications:[{id:"pathfinding",title:"NPC Pathfinding",description:"Finding routes between locations on a map",icon:"",matchesStructure:"graph"},{id:"events",title:"Game Event Scheduling",description:"Processing events by priority/time",icon:"",matchesStructure:"priorityQueue"},{id:"states",title:"Game State History",description:"Saving and restoring game states",icon:"",matchesStructure:"stack"},{id:"inventory",title:"Player Inventory",description:"Quick lookup of items by ID",icon:"",matchesStructure:"hashTable"}],explanations:{graph:"Game maps are graphs - pathfinding algorithms like A* traverse them!",priorityQueue:"Game events are scheduled by time using priority queues!",stack:"Game states stack for undo/save-load functionality!",hashTable:"Inventories use hash tables for O(1) item access!"},hint:"Think about maps, timing, history, and fast lookups."},{id:8,title:"Database Internals",description:"How databases organize and access data.",difficulty:"hard",category:"Databases",structures:[Ve.balancedTree,Ve.hashTable,Ve.heap,Ve.linkedList,Ve.array],applications:[{id:"index",title:"B-Tree Index",description:"Efficient range queries on sorted data",icon:"",matchesStructure:"balancedTree"},{id:"hashIndex",title:"Hash Index",description:"Exact match lookups by key",icon:"#",matchesStructure:"hashTable"},{id:"topN",title:"Top-N Query Results",description:"Finding largest/smallest N values",icon:"",matchesStructure:"heap"},{id:"transactions",title:"Transaction Log",description:"Append-only record of changes",icon:"",matchesStructure:"linkedList"},{id:"buffer",title:"Buffer Pool Pages",description:"Fixed-size cache of disk pages",icon:"",matchesStructure:"array"}],explanations:{balancedTree:"B-trees keep data sorted for efficient range scans and stay balanced!",hashTable:"Hash indexes provide O(1) lookups for equality predicates!",heap:"Heaps efficiently find top-N without sorting entire result set!",linkedList:"Transaction logs append entries and traverse sequentially!",array:"Buffer pools use fixed arrays of page-sized slots!"},hint:"Consider sorted vs unsorted access, append operations, and fixed sizes."},{id:9,title:"Network & Routing",description:"Data structures in networking.",difficulty:"hard",category:"Networking",structures:[Ve.graph,Ve.trie,Ve.queue,Ve.hashTable,Ve.heap],applications:[{id:"routing",title:"Network Routing Tables",description:"Finding shortest paths between nodes",icon:"",matchesStructure:"graph"},{id:"ipLookup",title:"IP Address Lookup",description:"Matching IP prefixes to routes",icon:"",matchesStructure:"trie"},{id:"packets",title:"Packet Buffer",description:"Storing packets awaiting transmission",icon:"",matchesStructure:"queue"},{id:"connections",title:"Active Connections Table",description:"Tracking open TCP connections",icon:"",matchesStructure:"hashTable"},{id:"bandwidth",title:"Bandwidth Allocation",description:"Prioritizing network traffic",icon:"",matchesStructure:"heap"}],explanations:{graph:"Networks are graphs - Dijkstra/Bellman-Ford find shortest paths!",trie:"IP routing uses tries for longest prefix matching!",queue:"Packet buffers are queues - FIFO transmission order!",hashTable:"Connection tables hash on (IP, port) tuples for O(1) lookup!",heap:"QoS uses heaps to process high-priority traffic first!"},hint:"Think about paths, prefixes, buffering, lookups, and priorities."},{id:10,title:"Compiler Design",description:"Data structures used in compilers.",difficulty:"hard",category:"Compilers",structures:[Ve.stack,Ve.hashTable,Ve.binaryTree,Ve.graph,Ve.queue],applications:[{id:"parsing",title:"Expression Parsing",description:"Evaluating nested expressions with operators",icon:"",matchesStructure:"stack"},{id:"symbols",title:"Symbol Table",description:"Storing variable and function names",icon:"",matchesStructure:"hashTable"},{id:"ast",title:"Abstract Syntax Tree",description:"Representing program structure",icon:"",matchesStructure:"binaryTree"},{id:"cfg",title:"Control Flow Graph",description:"Representing program execution paths",icon:"",matchesStructure:"graph"},{id:"optimization",title:"Optimization Work Queue",description:"Processing code blocks to optimize",icon:"",matchesStructure:"queue"}],explanations:{stack:"Expression parsing uses stacks for operator precedence (shunting-yard)!",hashTable:"Symbol tables use hash tables for O(1) identifier lookup!",binaryTree:"ASTs represent code hierarchically - operators are parents of operands!",graph:"CFGs model all possible execution paths through the program!",queue:"Worklist algorithms process basic blocks in BFS order!"},hint:"Consider expression evaluation, name lookup, code structure, and analysis order."},{id:11,title:"Machine Learning Pipeline",description:"Data structures in ML systems.",difficulty:"hard",category:"Machine Learning",structures:[Ve.array,Ve.hashTable,Ve.heap,Ve.graph,Ve.queue],applications:[{id:"tensors",title:"Neural Network Tensors",description:"Multi-dimensional data for computations",icon:"",matchesStructure:"array"},{id:"embeddings",title:"Word Embeddings Lookup",description:"Converting words to vectors",icon:"",matchesStructure:"hashTable"},{id:"knn",title:"K-Nearest Neighbors",description:"Finding K most similar items",icon:"",matchesStructure:"heap"},{id:"computation",title:"Computation Graph",description:"Dependencies between operations",icon:"",matchesStructure:"graph"},{id:"batches",title:"Training Batch Queue",description:"Feeding data batches to model",icon:"",matchesStructure:"queue"}],explanations:{array:"Tensors are multi-dimensional arrays - the foundation of neural networks!",hashTable:"Word embeddings map strings to vectors using hash tables!",heap:"KNN uses heaps to efficiently track K smallest distances!",graph:"Computation graphs track operation dependencies for backpropagation!",queue:"Data loaders queue batches for training in order!"},hint:"Think about numerical data, mappings, top-K, dependencies, and batching."},{id:12,title:"Version Control Systems",description:"How Git organizes your code history.",difficulty:"hard",category:"DevOps",structures:[Ve.graph,Ve.hashTable,Ve.trie,Ve.linkedList,Ve.stack],applications:[{id:"commits",title:"Commit History",description:"DAG of commits with parent relationships",icon:"",matchesStructure:"graph"},{id:"objects",title:"Object Store",description:"Content-addressable storage by SHA hash",icon:"",matchesStructure:"hashTable"},{id:"refs",title:"Branch/Tag References",description:"Named pointers with hierarchical names",icon:"",matchesStructure:"trie"},{id:"reflog",title:"Reference Log",description:"Sequential history of ref updates",icon:"",matchesStructure:"linkedList"},{id:"stash",title:"Git Stash",description:"Temporarily saved changes",icon:"",matchesStructure:"stack"}],explanations:{graph:"Git commits form a DAG - each commit points to parent(s)!",hashTable:"Git objects are stored by SHA-1 hash for content addressing!",trie:"Refs like refs/heads/main use trie-like hierarchical storage!",linkedList:"Reflog is a sequential list of reference updates!",stack:"Git stash is LIFO - stash pop gets the most recent stash!"},hint:"Consider commit relationships, content hashing, naming, and temporary storage."}],Gk=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},qd={currentIndex:0,currentChallenge:null,matches:[],selectedStructure:null,selectedApplication:null,validatedMatches:{},isComplete:!1,showResult:!1,score:{correct:0,total:0,points:0},timeSpent:0,streak:0},Kk=As((t,e)=>({challenges:[],...qd,initializeChallenges:()=>{const r=Gk([...Hk]).slice(0,8);t({...qd,challenges:r,currentChallenge:r[0]||null})},setCurrentChallenge:r=>{const{challenges:n}=e();r>=0&&r<n.length&&t({currentIndex:r,currentChallenge:n[r],matches:[],selectedStructure:null,selectedApplication:null,validatedMatches:{},showResult:!1})},nextChallenge:()=>{const{currentIndex:r,challenges:n}=e();r<n.length-1?e().setCurrentChallenge(r+1):t({isComplete:!0})},selectStructure:r=>{const n=e();if(n.showResult)return;if(n.selectedStructure===r){t({selectedStructure:null});return}if(n.matches.some(s=>s.structureId===r))return;t({selectedStructure:r});const{selectedApplication:i}=e();i&&e().createMatch(r,i)},selectApplication:r=>{const n=e();if(n.showResult)return;if(n.selectedApplication===r){t({selectedApplication:null});return}if(n.matches.some(s=>s.applicationId===r))return;t({selectedApplication:r});const{selectedStructure:i}=e();i&&e().createMatch(i,r)},createMatch:(r,n)=>{t(a=>({matches:[...a.matches,{structureId:r,applicationId:n}],selectedStructure:null,selectedApplication:null}))},clearSelection:()=>{t({selectedStructure:null,selectedApplication:null})},removeMatch:r=>{e().showResult||t(a=>({matches:a.matches.filter(i=>i.applicationId!==r)}))},resetMatches:()=>{t({matches:[],selectedStructure:null,selectedApplication:null,validatedMatches:{}})},validateMatches:()=>{const r=e(),n=r.currentChallenge;if(!n||r.matches.length!==n.applications.length)return!1;for(const a of r.matches){const i=n.applications.find(s=>s.id===a.applicationId);if(!i||i.matchesStructure!==a.structureId)return!1}return!0},submitMatches:()=>{const r=e(),n=r.currentChallenge;if(!n)return;const a={};let i=0;for(const c of r.matches){const d=n.applications.find(v=>v.id===c.applicationId),f=(d==null?void 0:d.matchesStructure)===c.structureId;a[c.applicationId]=f,f&&i++}const s=i===n.applications.length,o=s?r.streak+1:0,u=Math.min(r.timeSpent,120),l=al(n.difficulty,u,o,s);t({showResult:!0,validatedMatches:a,streak:o,score:{correct:r.score.correct+(s?1:0),total:r.score.total+1,points:r.score.points+l}})},incrementTime:()=>{t(r=>({timeSpent:r.timeSpent+1}))},resetChallenge:()=>{t({matches:[],selectedStructure:null,selectedApplication:null,validatedMatches:{},showResult:!1})},resetAll:()=>{t({...qd,challenges:[],currentChallenge:null})}})),Qk=[{id:1,title:"Binary Search Basics",description:"Complete the binary search algorithm to find a target value.",type:"fill-blank",difficulty:"easy",category:"Searching",algorithm:"Binary Search",language:"pseudocode",codeTemplate:`function binarySearch(arr, target):
    left = 0
    right = ___BLANK1___

    while left <= right:
        mid = (left + right) / 2

        if arr[mid] == target:
            return ___BLANK2___
        else if arr[mid] < target:
            left = ___BLANK3___
        else:
            right = mid - 1

    return -1`,blanks:[{id:"BLANK1",lineNumber:3,position:12,length:12,correctAnswer:"arr.length - 1",hint:"Last valid index"},{id:"BLANK2",lineNumber:9,position:19,length:8,correctAnswer:"mid",hint:"What index did we find?"},{id:"BLANK3",lineNumber:11,position:19,length:10,correctAnswer:"mid + 1",hint:"Search right half"}],explanation:"Binary search divides the search space in half each iteration. We update left to mid+1 when target is larger, and right to mid-1 when target is smaller.",hint:"Think about which half of the array to search next."},{id:2,title:"Stack Push & Pop",description:"Complete the basic stack operations.",type:"fill-blank",difficulty:"easy",category:"Data Structure Operations",algorithm:"Stack",language:"pseudocode",codeTemplate:`class Stack:
    items = []

    function push(item):
        items.___BLANK1___(item)

    function pop():
        if isEmpty():
            return null
        return items.___BLANK2___()

    function isEmpty():
        return items.length == ___BLANK3___`,blanks:[{id:"BLANK1",lineNumber:5,position:14,length:10,correctAnswer:"append",hint:"Add to the end"},{id:"BLANK2",lineNumber:10,position:21,length:8,correctAnswer:"pop",hint:"Remove from end"},{id:"BLANK3",lineNumber:13,position:30,length:5,correctAnswer:"0",hint:"Empty means no items"}],explanation:"Stacks use LIFO (Last-In-First-Out). Push adds to the top (end), pop removes from the top. isEmpty checks if length is 0.",hint:"Stacks add and remove from the same end."},{id:3,title:"Linear Search",description:"Complete the simple linear search algorithm.",type:"fill-blank",difficulty:"easy",category:"Searching",algorithm:"Linear Search",language:"pseudocode",codeTemplate:`function linearSearch(arr, target):
    for i = 0 to ___BLANK1___:
        if arr[___BLANK2___] == target:
            return ___BLANK3___
    return -1`,blanks:[{id:"BLANK1",lineNumber:2,position:17,length:12,correctAnswer:"arr.length - 1",hint:"Loop through all elements"},{id:"BLANK2",lineNumber:3,position:15,length:5,correctAnswer:"i",hint:"Current index"},{id:"BLANK3",lineNumber:4,position:19,length:5,correctAnswer:"i",hint:"Return found index"}],explanation:"Linear search checks each element one by one until finding the target or reaching the end.",hint:"We need to check every element from start to end."},{id:4,title:"Basic Complexity Analysis",description:"Identify the time complexity of these common operations.",type:"complexity",difficulty:"easy",category:"Algorithm Analysis",algorithm:"Various",language:"pseudocode",codeTemplate:`// Operation 1: Array access
value = arr[5]

// Operation 2: Linear search
for i = 0 to n:
    if arr[i] == target: return i

// Operation 3: Nested loops
for i = 0 to n:
    for j = 0 to n:
        print(i, j)`,blanks:[],complexityQuestions:[{id:"Q1",question:"Array access by index (arr[5])",correctAnswer:"O(1)",options:["O(1)","O(n)","O(log n)","O(n)"]},{id:"Q2",question:"Linear search through array",correctAnswer:"O(n)",options:["O(1)","O(n)","O(log n)","O(n)"]},{id:"Q3",question:"Nested loops (both 0 to n)",correctAnswer:"O(n)",options:["O(n)","O(n log n)","O(n)","O(2^n)"]}],explanation:"Array access is O(1) - direct index. Linear search is O(n) - may check all elements. Nested loops multiply: n  n = O(n).",hint:"Count how many times the innermost operation runs."},{id:5,title:"Merge Sort Merge Step",description:"Complete the merge function that combines two sorted arrays.",type:"fill-blank",difficulty:"medium",category:"Sorting",algorithm:"Merge Sort",language:"pseudocode",codeTemplate:`function merge(left, right):
    result = []
    i = 0, j = 0

    while i < left.length AND j < right.length:
        if left[i] ___BLANK1___ right[j]:
            result.append(left[i])
            i = ___BLANK2___
        else:
            result.append(right[j])
            j = j + 1

    // Append remaining elements
    while i < left.length:
        result.append(___BLANK3___)
        i = i + 1

    while j < right.length:
        result.append(right[j])
        j = j + 1

    return result`,blanks:[{id:"BLANK1",lineNumber:6,position:20,length:5,correctAnswer:"<=",hint:"For stable sort, include equal"},{id:"BLANK2",lineNumber:8,position:16,length:8,correctAnswer:"i + 1",hint:"Move to next left element"},{id:"BLANK3",lineNumber:16,position:23,length:8,correctAnswer:"left[i]",hint:"Remaining left elements"}],explanation:"Merge compares elements from both sorted arrays, taking the smaller one each time. Using <= makes it stable (preserves order of equal elements).",hint:"We compare and take the smaller element, then move that pointer forward."},{id:6,title:"BST Insert",description:"Complete the binary search tree insertion algorithm.",type:"fill-blank",difficulty:"medium",category:"Tree Traversal",algorithm:"BST Insert",language:"pseudocode",codeTemplate:`function insert(root, value):
    if root == ___BLANK1___:
        return new Node(value)

    if value < root.value:
        root.left = insert(___BLANK2___, value)
    else:
        root.right = insert(___BLANK3___, value)

    return root`,blanks:[{id:"BLANK1",lineNumber:2,position:17,length:6,correctAnswer:"null",hint:"Base case: empty spot"},{id:"BLANK2",lineNumber:6,position:28,length:10,correctAnswer:"root.left",hint:"Recurse into left subtree"},{id:"BLANK3",lineNumber:8,position:29,length:11,correctAnswer:"root.right",hint:"Recurse into right subtree"}],explanation:"BST insert recursively finds the correct position. Values less than current go left, greater go right. When we hit null, we create the new node.",hint:"BST property: left < parent < right."},{id:7,title:"Queue with Array",description:"Complete the queue implementation using an array.",type:"fill-blank",difficulty:"medium",category:"Data Structure Operations",algorithm:"Queue",language:"pseudocode",codeTemplate:`class Queue:
    items = []

    function enqueue(item):
        items.___BLANK1___(item)

    function dequeue():
        if isEmpty():
            return null
        return items.___BLANK2___(0)

    function front():
        if isEmpty():
            return null
        return items[___BLANK3___]`,blanks:[{id:"BLANK1",lineNumber:5,position:14,length:8,correctAnswer:"append",hint:"Add to the back"},{id:"BLANK2",lineNumber:10,position:21,length:8,correctAnswer:"remove",hint:"Remove from front"},{id:"BLANK3",lineNumber:15,position:21,length:5,correctAnswer:"0",hint:"Front is first element"}],explanation:"Queues use FIFO (First-In-First-Out). Enqueue adds to back (append), dequeue removes from front (index 0).",hint:"Queue: first in, first out - like a line of people."},{id:8,title:"Sorting Complexity",description:"Identify the time complexity of common sorting algorithms.",type:"complexity",difficulty:"medium",category:"Sorting",algorithm:"Various Sorting",language:"pseudocode",codeTemplate:`// Bubble Sort (average case)
for i = 0 to n:
    for j = 0 to n-i-1:
        if arr[j] > arr[j+1]: swap

// Merge Sort
function mergeSort(arr):
    if length <= 1: return arr
    mid = length / 2
    left = mergeSort(arr[0:mid])
    right = mergeSort(arr[mid:])
    return merge(left, right)

// Quick Sort (average case)
Divide and conquer with pivot`,blanks:[],complexityQuestions:[{id:"Q1",question:"Bubble Sort (average/worst case)",correctAnswer:"O(n)",options:["O(n)","O(n log n)","O(n)","O(log n)"]},{id:"Q2",question:"Merge Sort (all cases)",correctAnswer:"O(n log n)",options:["O(n)","O(n log n)","O(n)","O(log n)"]},{id:"Q3",question:"Quick Sort (average case)",correctAnswer:"O(n log n)",options:["O(n)","O(n log n)","O(n)","O(log n)"]}],explanation:"Bubble sort has nested loops = O(n). Merge/Quick sort divide the problem (log n levels) and do O(n) work per level = O(n log n).",hint:"Divide-and-conquer algorithms often have log n in their complexity."},{id:9,title:"Quick Sort Partition",description:"Complete the partition function and identify its complexity.",type:"mixed",difficulty:"medium",category:"Sorting",algorithm:"Quick Sort",language:"pseudocode",codeTemplate:`function partition(arr, low, high):
    pivot = arr[___BLANK1___]
    i = low - 1

    for j = low to high - 1:
        if arr[j] < pivot:
            i = ___BLANK2___
            swap(arr[i], arr[j])

    swap(arr[___BLANK3___], arr[high])
    return i + 1`,blanks:[{id:"BLANK1",lineNumber:2,position:16,length:6,correctAnswer:"high",hint:"Use last element as pivot"},{id:"BLANK2",lineNumber:7,position:16,length:8,correctAnswer:"i + 1",hint:"Move partition boundary"},{id:"BLANK3",lineNumber:10,position:14,length:8,correctAnswer:"i + 1",hint:"Place pivot in correct position"}],complexityQuestions:[{id:"Q1",question:"Time complexity of partition function",correctAnswer:"O(n)",options:["O(1)","O(log n)","O(n)","O(n)"]}],explanation:"Partition uses the last element as pivot and rearranges so smaller elements are left, larger are right. It scans once through the array = O(n).",hint:"The partition function processes each element exactly once."},{id:10,title:"Dijkstra's Algorithm",description:"Complete Dijkstra's shortest path algorithm.",type:"fill-blank",difficulty:"hard",category:"Graph Algorithms",algorithm:"Dijkstra",language:"pseudocode",codeTemplate:`function dijkstra(graph, start):
    dist = {v: INFINITY for v in graph}
    dist[start] = ___BLANK1___
    pq = PriorityQueue()
    pq.push((0, start))

    while not pq.isEmpty():
        (d, u) = pq.pop()

        if d > dist[u]:
            ___BLANK2___

        for each neighbor v of u:
            newDist = dist[u] + ___BLANK3___
            if newDist < dist[v]:
                dist[v] = newDist
                pq.push((newDist, v))

    return dist`,blanks:[{id:"BLANK1",lineNumber:3,position:18,length:5,correctAnswer:"0",hint:"Distance to start from start"},{id:"BLANK2",lineNumber:11,position:12,length:10,correctAnswer:"continue",hint:"Skip if already processed better"},{id:"BLANK3",lineNumber:14,position:33,length:15,correctAnswer:"weight(u, v)",hint:"Edge weight to neighbor"}],explanation:"Dijkstra uses a priority queue to always process the closest unvisited node. Distance to start is 0, and we relax edges to find shorter paths.",hint:"We always process the node with minimum distance first."},{id:11,title:"DFS Traversal",description:"Complete the depth-first search algorithm.",type:"fill-blank",difficulty:"hard",category:"Graph Algorithms",algorithm:"DFS",language:"pseudocode",codeTemplate:`function DFS(graph, start):
    visited = Set()
    stack = [start]
    result = []

    while not stack.isEmpty():
        node = stack.___BLANK1___()

        if node in visited:
            continue

        visited.___BLANK2___(node)
        result.append(node)

        for neighbor in graph[node]:
            if neighbor not in ___BLANK3___:
                stack.push(neighbor)

    return result`,blanks:[{id:"BLANK1",lineNumber:7,position:21,length:6,correctAnswer:"pop",hint:"LIFO - Last In First Out"},{id:"BLANK2",lineNumber:12,position:16,length:6,correctAnswer:"add",hint:"Mark as visited"},{id:"BLANK3",lineNumber:16,position:32,length:8,correctAnswer:"visited",hint:"Check if already seen"}],explanation:"DFS uses a stack (LIFO) to explore as deep as possible before backtracking. We mark nodes visited to avoid cycles.",hint:"DFS goes deep first - stack gives us LIFO behavior."},{id:12,title:"BFS Traversal",description:"Complete the breadth-first search algorithm.",type:"fill-blank",difficulty:"hard",category:"Graph Algorithms",algorithm:"BFS",language:"pseudocode",codeTemplate:`function BFS(graph, start):
    visited = Set()
    queue = [start]
    visited.add(start)
    result = []

    while not queue.isEmpty():
        node = queue.___BLANK1___()
        result.append(node)

        for neighbor in graph[node]:
            if neighbor not in visited:
                visited.add(neighbor)
                queue.___BLANK2___(___BLANK3___)

    return result`,blanks:[{id:"BLANK1",lineNumber:8,position:22,length:10,correctAnswer:"dequeue",hint:"FIFO - First In First Out"},{id:"BLANK2",lineNumber:14,position:22,length:8,correctAnswer:"enqueue",hint:"Add to back of queue"},{id:"BLANK3",lineNumber:14,position:31,length:10,correctAnswer:"neighbor",hint:"Add the unvisited neighbor"}],explanation:"BFS uses a queue (FIFO) to explore level by level. We mark nodes visited when adding to queue to prevent duplicates.",hint:"BFS explores all neighbors at current depth before going deeper."},{id:13,title:"Advanced Complexity",description:"Analyze the complexity of these algorithms.",type:"complexity",difficulty:"hard",category:"Algorithm Analysis",algorithm:"Various",language:"pseudocode",codeTemplate:`// Binary Search
function binarySearch(arr, target):
    // Divides search space in half each time

// Fibonacci (naive recursive)
function fib(n):
    if n <= 1: return n
    return fib(n-1) + fib(n-2)

// Matrix multiplication (naive)
for i = 0 to n:
    for j = 0 to n:
        for k = 0 to n:
            C[i][j] += A[i][k] * B[k][j]`,blanks:[],complexityQuestions:[{id:"Q1",question:"Binary Search",correctAnswer:"O(log n)",options:["O(1)","O(log n)","O(n)","O(n log n)"]},{id:"Q2",question:"Naive Recursive Fibonacci",correctAnswer:"O(2^n)",options:["O(n)","O(n)","O(2^n)","O(n!)"]},{id:"Q3",question:"Naive Matrix Multiplication",correctAnswer:"O(n)",options:["O(n)","O(n)","O(n)","O(2^n)"]}],explanation:"Binary search halves input = O(log n). Naive Fibonacci has overlapping subproblems = O(2^n). Matrix multiply has 3 nested loops = O(n).",hint:"Count how the work grows as n increases."},{id:14,title:"Dynamic Programming - Fibonacci",description:"Complete the memoized Fibonacci and analyze complexity.",type:"mixed",difficulty:"hard",category:"Dynamic Programming",algorithm:"Fibonacci",language:"pseudocode",codeTemplate:`function fibMemo(n, memo = {}):
    if n in memo:
        return ___BLANK1___

    if n <= ___BLANK2___:
        return n

    memo[n] = fibMemo(n-1, memo) + fibMemo(___BLANK3___, memo)
    return memo[n]`,blanks:[{id:"BLANK1",lineNumber:3,position:15,length:8,correctAnswer:"memo[n]",hint:"Return cached result"},{id:"BLANK2",lineNumber:5,position:12,length:5,correctAnswer:"1",hint:"Base case: fib(0)=0, fib(1)=1"},{id:"BLANK3",lineNumber:8,position:43,length:6,correctAnswer:"n - 2",hint:"Second recursive call"}],complexityQuestions:[{id:"Q1",question:"Time complexity with memoization",correctAnswer:"O(n)",options:["O(1)","O(n)","O(n)","O(2^n)"]},{id:"Q2",question:"Space complexity (memo table)",correctAnswer:"O(n)",options:["O(1)","O(log n)","O(n)","O(n)"]}],explanation:"Memoization caches results, so each fib(k) is computed only once. We compute n values = O(n) time, store n values = O(n) space.",hint:"Memoization prevents redundant calculations."},{id:15,title:"Heap Operations",description:"Complete heap insert and analyze complexity.",type:"mixed",difficulty:"hard",category:"Data Structure Operations",algorithm:"Binary Heap",language:"pseudocode",codeTemplate:`function heapInsert(heap, value):
    heap.append(value)
    index = heap.length - 1

    // Bubble up
    while index > 0:
        parent = (index - 1) / 2

        if heap[index] > heap[___BLANK1___]:
            swap(heap[index], heap[parent])
            index = ___BLANK2___
        else:
            ___BLANK3___`,blanks:[{id:"BLANK1",lineNumber:9,position:32,length:8,correctAnswer:"parent",hint:"Compare with parent"},{id:"BLANK2",lineNumber:11,position:20,length:8,correctAnswer:"parent",hint:"Move up to parent position"},{id:"BLANK3",lineNumber:13,position:12,length:8,correctAnswer:"break",hint:"Heap property satisfied"}],complexityQuestions:[{id:"Q1",question:"Heap insert time complexity",correctAnswer:"O(log n)",options:["O(1)","O(log n)","O(n)","O(n log n)"]}],explanation:"Heap insert adds at the end and bubbles up. The tree height is log n, so worst case we swap log n times = O(log n).",hint:"How many levels might we need to bubble up?"},{id:16,title:"Hash Table Operations",description:"Complete hash table insert and understand complexity.",type:"mixed",difficulty:"medium",category:"Data Structure Operations",algorithm:"Hash Table",language:"pseudocode",codeTemplate:`function hashInsert(table, key, value):
    index = ___BLANK1___(key) % table.size

    // Handle collision with chaining
    if table[index] == null:
        table[index] = []

    // Check if key exists
    for item in table[index]:
        if item.key == ___BLANK2___:
            item.value = value
            return

    table[index].append({key: key, value: ___BLANK3___})`,blanks:[{id:"BLANK1",lineNumber:2,position:12,length:6,correctAnswer:"hash",hint:"Compute hash of key"},{id:"BLANK2",lineNumber:10,position:24,length:5,correctAnswer:"key",hint:"Compare with input key"},{id:"BLANK3",lineNumber:14,position:46,length:8,correctAnswer:"value",hint:"Store the value"}],complexityQuestions:[{id:"Q1",question:"Average case insert/lookup",correctAnswer:"O(1)",options:["O(1)","O(log n)","O(n)","O(n)"]},{id:"Q2",question:"Worst case (all collisions)",correctAnswer:"O(n)",options:["O(1)","O(log n)","O(n)","O(n)"]}],explanation:"Hash tables have O(1) average case due to direct indexing. Worst case is O(n) if all keys hash to the same bucket (rare with good hash function).",hint:"Consider what happens with no collisions vs all collisions."}],Yk=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},Vd={currentIndex:0,currentChallenge:null,blankAnswers:{},complexityAnswers:{},validatedBlanks:{},validatedComplexity:{},isComplete:!1,showResult:!1,score:{correct:0,total:0,points:0},timeSpent:0,streak:0,activeBlank:null},Xk=As((t,e)=>({challenges:[],...Vd,initializeChallenges:()=>{const r=Yk([...Qk]).slice(0,8);t({...Vd,challenges:r,currentChallenge:r[0]||null})},setCurrentChallenge:r=>{const{challenges:n}=e();r>=0&&r<n.length&&t({currentIndex:r,currentChallenge:n[r],blankAnswers:{},complexityAnswers:{},validatedBlanks:{},validatedComplexity:{},showResult:!1,activeBlank:null})},nextChallenge:()=>{const{currentIndex:r,challenges:n}=e();r<n.length-1?e().setCurrentChallenge(r+1):t({isComplete:!0})},setBlankAnswer:(r,n)=>{t(a=>({blankAnswers:{...a.blankAnswers,[r]:n}}))},setComplexityAnswer:(r,n)=>{t(a=>({complexityAnswers:{...a.complexityAnswers,[r]:n}}))},setActiveBlank:r=>{t({activeBlank:r})},resetAnswers:()=>{t({blankAnswers:{},complexityAnswers:{},validatedBlanks:{},validatedComplexity:{},activeBlank:null})},validateAnswers:()=>{var l,c;const r=e(),n=r.currentChallenge;if(!n)return{blanksCorrect:0,complexityCorrect:0,total:0};let a=0,i=0;for(const d of n.blanks){const f=((l=r.blankAnswers[d.id])==null?void 0:l.trim().toLowerCase())||"",v=d.correctAnswer.trim().toLowerCase();f===v&&a++}if(n.complexityQuestions)for(const d of n.complexityQuestions)r.complexityAnswers[d.id]===d.correctAnswer&&i++;const s=n.blanks.length,o=((c=n.complexityQuestions)==null?void 0:c.length)||0,u=s+o;return{blanksCorrect:a,complexityCorrect:i,total:u}},submitAnswers:()=>{var h,y;const r=e(),n=r.currentChallenge;if(!n)return;const a={},i={};for(const b of n.blanks){const g=((h=r.blankAnswers[b.id])==null?void 0:h.trim().toLowerCase())||"",p=b.correctAnswer.trim().toLowerCase();a[b.id]=g===p}if(n.complexityQuestions)for(const b of n.complexityQuestions){const g=r.complexityAnswers[b.id];i[b.id]=g===b.correctAnswer}const s=Object.values(a).filter(Boolean).length,o=Object.values(i).filter(Boolean).length,u=s+o,l=n.blanks.length+(((y=n.complexityQuestions)==null?void 0:y.length)||0),c=u===l,d=c?r.streak+1:0,f=Math.min(r.timeSpent,120),v=al(n.difficulty,f,d,c);t({showResult:!0,validatedBlanks:a,validatedComplexity:i,streak:d,score:{correct:r.score.correct+(c?1:0),total:r.score.total+1,points:r.score.points+v}})},incrementTime:()=>{t(r=>({timeSpent:r.timeSpent+1}))},resetChallenge:()=>{t({blankAnswers:{},complexityAnswers:{},validatedBlanks:{},validatedComplexity:{},showResult:!1,activeBlank:null})},resetAll:()=>{t({...Vd,challenges:[],currentChallenge:null})}})),Zk={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-400",success:"bg-emerald-600 text-white hover:bg-emerald-700 focus:ring-emerald-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-400",outline:"bg-transparent border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-400",gradient:"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 focus:ring-purple-500"},Jk={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-5 py-2.5 text-base gap-2"},We=ce.forwardRef(({variant:t="primary",size:e="md",loading:r=!1,fullWidth:n=!1,leftIcon:a,rightIcon:i,bounce:s=!1,className:o="",disabled:u,children:l,...c},d)=>{const f=u||r;return x.jsx("button",{ref:d,disabled:f,className:`
          inline-flex items-center justify-center
          font-medium rounded-lg
          transition-all duration-150
          focus:outline-none focus:ring-2 focus:ring-offset-2
          disabled:opacity-50 disabled:cursor-not-allowed
          ${Zk[t]}
          ${Jk[e]}
          ${n?"w-full":""}
          ${s?"hover:scale-105 active:scale-95":""}
          ${o}
        `,...c,children:r?x.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):x.jsxs(x.Fragment,{children:[a&&x.jsx("span",{className:"flex-shrink-0",children:a}),x.jsx("span",{children:l}),i&&x.jsx("span",{className:"flex-shrink-0",children:i})]})})});We.displayName="Button";const eT={none:"",sm:"p-4",md:"p-6",lg:"p-8"},tT={default:"bg-white shadow-lg",elevated:"bg-white shadow-playful-lg",glass:"glass backdrop-saturate-150",gradient:"bg-gradient-to-br from-white to-gray-50 shadow-lg",interactive:"bg-white shadow-lg card-interactive cursor-pointer",glow:"bg-white shadow-lg card-glow"};function Rn({children:t,padding:e="md",variant:r="default",hover:n=!1,className:a="",...i}){return x.jsx("div",{className:`
        rounded-2xl overflow-hidden
        ${tT[r]}
        ${eT[e]}
        ${n&&r!=="interactive"?"transition-all duration-300 hover:shadow-xl hover:-translate-y-1":""}
        ${a}
      `,...i,children:t})}const Pm={xs:"h-1",sm:"h-2",md:"h-3",lg:"h-4"},Bm={blue:"bg-gradient-to-r from-primary-400 to-primary-600",green:"bg-gradient-to-r from-mint-400 to-success-500",purple:"bg-gradient-to-r from-lavender-400 to-accent-600",orange:"bg-gradient-to-r from-coral-400 to-amber-500",pink:"bg-gradient-to-r from-candy-400 to-rose-500",gradient:"bg-gradient-to-r from-primary-500 via-accent-500 to-candy-500"},rT={blue:"text-primary-600",green:"text-success-600",purple:"text-accent-600",orange:"text-coral-600",pink:"text-candy-600",gradient:"text-accent-600"};function ol({value:t,max:e=100,showLabel:r=!1,labelPosition:n="top",size:a="md",color:i="blue",animated:s=!0,striped:o=!1,milestones:u,celebrate:l=!1,className:c=""}){const[d,f]=ce.useState(!1),[v,h]=ce.useState(t),y=Math.min(Math.max(t/e*100,0),100);ce.useEffect(()=>{if(l&&y===100&&v<100){f(!0);const g=setTimeout(()=>f(!1),1500);return()=>clearTimeout(g)}h(y)},[y,v,l]);const b=()=>r?x.jsxs("span",{className:`text-sm font-semibold ${rT[i]}`,children:[Math.round(y),"%"]}):null;return x.jsxs("div",{className:c,children:[n==="top"&&x.jsx("div",{className:"flex items-center justify-between mb-1",children:b()}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${Pm[a]}`,children:x.jsx("div",{className:`
              ${Pm[a]}
              ${Bm[i]}
              rounded-full
              ${s?"transition-all duration-500 ease-out":""}
              ${o?"progress-stripes animate-stripe-slide":""}
              ${d?"shimmer":""}
            `,style:{width:`${y}%`},children:n==="inside"&&a==="lg"&&x.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-semibold text-white",children:[Math.round(y),"%"]})})}),u&&u.length>0&&x.jsx("div",{className:"absolute inset-0 flex items-center",children:u.map((g,p)=>{const w=g.value/e*100,E=y>=w;return x.jsxs("div",{className:"absolute flex flex-col items-center transform -translate-x-1/2",style:{left:`${w}%`},children:[x.jsx("div",{className:`
                      w-3 h-3 rounded-full border-2 border-white
                      transition-all duration-300
                      ${E?`${Bm[i]} shadow-md scale-110`:"bg-gray-300"}
                    `,children:g.icon&&E&&x.jsx("span",{className:"absolute -top-5 left-1/2 transform -translate-x-1/2 text-sm animate-bounce-in",children:g.icon})}),g.label&&x.jsx("span",{className:`
                        text-2xs mt-1 whitespace-nowrap
                        ${E?"text-gray-700 font-medium":"text-gray-400"}
                      `,children:g.label})]},p)})}),d&&x.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-visible",children:Array.from({length:8},(g,p)=>x.jsx("span",{className:"absolute right-0 top-1/2 animate-confetti",style:{animationDelay:`${p*50}ms`,transform:`rotate(${p*45}deg) translateX(${5+p*3}px)`},children:["","","",""][p%4]},p))})]}),n==="bottom"&&x.jsx("div",{className:"flex items-center justify-end mt-1",children:b()}),n==="inline"&&x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx("div",{className:"flex-1"}),b()]})]})}const nT={default:"bg-gray-100 text-gray-700",success:"bg-gradient-to-r from-mint-100 to-success-100 text-success-700",warning:"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700",error:"bg-gradient-to-r from-red-100 to-rose-100 text-red-700",info:"bg-gradient-to-r from-primary-100 to-blue-100 text-primary-700",purple:"bg-gradient-to-r from-lavender-100 to-purple-100 text-lavender-700",gradient:"bg-gradient-to-r from-primary-500 via-accent-500 to-candy-500 text-white"},aT={default:"",success:"shadow-glow-green",warning:"shadow-glow-orange",error:"shadow-glow-pink",info:"shadow-glow-blue",purple:"shadow-glow-purple",gradient:"shadow-glow-purple"},iT={xs:"px-1.5 py-0.5 text-2xs gap-0.5",sm:"px-2 py-0.5 text-xs gap-1",md:"px-2.5 py-1 text-sm gap-1.5"},sT={xs:"w-2.5 h-2.5",sm:"w-3 h-3",md:"w-4 h-4"};function or({children:t,variant:e="default",size:r="sm",icon:n,pulse:a=!1,glow:i=!1,className:s="",...o}){return x.jsxs("span",{className:`
        inline-flex items-center font-semibold rounded-full
        transition-all duration-200
        ${nT[e]}
        ${iT[r]}
        ${a?"animate-pulse":""}
        ${i?aT[e]:""}
        ${s}
      `,...o,children:[n&&x.jsx("span",{className:`flex-shrink-0 ${sT[r]}`,children:n}),t]})}const oT={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},lT={blue:"text-blue-600",white:"text-white",gradient:"text-purple-600"};function uT({size:t="md",color:e="blue",className:r=""}){return x.jsxs("svg",{className:`animate-spin ${lT[e]} ${oT[t]} ${r}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const cT={success:"bg-gradient-to-r from-mint-500 to-success-500",error:"bg-gradient-to-r from-red-500 to-rose-600",warning:"bg-gradient-to-r from-coral-400 to-amber-500",info:"bg-gradient-to-r from-primary-500 to-blue-600"},dT={success:x.jsx(wb,{size:20}),error:x.jsx(zC,{size:20}),warning:x.jsx(xb,{size:20}),info:x.jsx(WC,{size:20})};function fT({id:t,message:e,variant:r="info",duration:n=4e3,icon:a,action:i,onClose:s}){const[o,u]=ce.useState(!1),[l,c]=ce.useState(100),d=ce.useCallback(()=>{u(!0),setTimeout(()=>s(t),200)},[t,s]);return ce.useEffect(()=>{if(n<=0)return;const f=Date.now(),v=setInterval(()=>{const h=Date.now()-f,y=Math.max(0,100-h/n*100);c(y),y<=0&&(clearInterval(v),d())},50);return()=>clearInterval(v)},[n,d]),x.jsxs("div",{className:`
        relative overflow-hidden rounded-xl shadow-playful-lg
        transform transition-all duration-200
        ${o?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}
        ${cT[r]}
      `,role:"alert",children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 text-white",children:[x.jsx("span",{className:"flex-shrink-0",children:a||dT[r]}),x.jsx("p",{className:"flex-1 text-sm font-medium",children:e}),i&&x.jsx("button",{onClick:i.onClick,className:"flex-shrink-0 px-2 py-1 text-xs font-semibold bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:i.label}),x.jsx("button",{onClick:d,className:"flex-shrink-0 p-1 rounded-lg hover:bg-white/20 transition-colors","aria-label":"Close",children:x.jsx(kb,{size:16})})]}),n>0&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10",children:x.jsx("div",{className:"h-full bg-white/40 transition-all duration-75 ease-linear",style:{width:`${l}%`}})})]})}const hT=ce.createContext(null),vT={"top-right":"top-4 right-4","top-left":"top-4 left-4","bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-center":"top-4 left-1/2 -translate-x-1/2","bottom-center":"bottom-4 left-1/2 -translate-x-1/2"};function pT({children:t,maxToasts:e=5,position:r="bottom-right"}){const[n,a]=ce.useState([]),i=ce.useCallback(h=>{const y=`toast-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,b={...h,id:y};return a(g=>[b,...g].slice(0,e)),y},[e]),s=ce.useCallback(h=>{a(y=>y.filter(b=>b.id!==h))},[]),o=ce.useCallback(()=>{a([])},[]),u=ce.useCallback(h=>i(h),[i]),l=ce.useCallback((h,y)=>i({message:h,variant:"success",...y}),[i]),c=ce.useCallback((h,y)=>i({message:h,variant:"error",...y}),[i]),d=ce.useCallback((h,y)=>i({message:h,variant:"warning",...y}),[i]),f=ce.useCallback((h,y)=>i({message:h,variant:"info",...y}),[i]),v={toast:u,success:l,error:c,warning:d,info:f,dismiss:s,dismissAll:o};return x.jsxs(hT.Provider,{value:v,children:[t,x.jsx("div",{className:`fixed z-50 flex flex-col gap-2 pointer-events-none ${vT[r]}`,style:{maxWidth:"400px",width:"100%"},children:n.map(h=>x.jsx("div",{className:"pointer-events-auto",children:x.jsx(fT,{id:h.id,message:h.message,variant:h.variant,duration:h.duration,icon:h.icon,action:h.action,onClose:s})},h.id))})]})}const gT={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};function mT({isOpen:t,onClose:e,title:r,children:n,size:a="md",closeOnBackdrop:i=!0,closeOnEscape:s=!0,showCloseButton:o=!0,footer:u,variant:l="default"}){const c=ce.useRef(null);if(ce.useEffect(()=>{if(!t||!s)return;const f=v=>{v.key==="Escape"&&e()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[t,s,e]),ce.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),ce.useEffect(()=>{if(!t)return;const f=c.current;if(!f)return;const v=f.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');v.length>0&&v[0].focus()},[t]),!t)return null;const d=f=>{i&&f.target===f.currentTarget&&e()};return x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":r?"modal-title":void 0,children:[x.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:d,"aria-hidden":"true"}),x.jsxs("div",{ref:c,className:`
          relative w-full ${gT[a]}
          bg-white rounded-2xl shadow-playful-lg
          animate-scale-in
          ${l==="celebration"?"overflow-hidden":""}
        `,children:[l==="celebration"&&x.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-500 via-accent-500 to-candy-500"}),(r||o)&&x.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[r&&x.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:r}),o&&x.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors","aria-label":"Close modal",children:x.jsx(kb,{size:20})})]}),x.jsx("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto scrollbar-thin",children:n}),u&&x.jsx("div",{className:"px-6 py-4 border-t bg-gray-50/80 rounded-b-2xl",children:u})]})]})}function fv({title:t="Oops! Something went wrong",message:e="Don't worry, it happens to the best of us.",icon:r,onRetry:n,onGoHome:a,variant:i="playful"}){return i==="minimal"?x.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[x.jsx(xb,{className:"w-12 h-12 text-coral-500 mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:t}),x.jsx("p",{className:"text-gray-600 mb-4",children:e}),n&&x.jsx(We,{variant:"secondary",onClick:n,leftIcon:x.jsx(Sm,{size:16}),children:"Try Again"})]}):x.jsx("div",{className:"max-w-md mx-auto animate-fade-in p-4",children:x.jsxs(Rn,{variant:"elevated",padding:"none",children:[x.jsxs("div",{className:"bg-gradient-to-r from-coral-400 to-rose-500 px-6 py-8 text-center text-white",children:[x.jsx("div",{className:"flex justify-center mb-4",children:r||x.jsx("div",{className:"text-6xl animate-wiggle",children:i==="playful"?"":""})}),x.jsx("h2",{className:"text-xl font-bold text-shadow",children:t})]}),x.jsxs("div",{className:"p-6 text-center",children:[x.jsx("p",{className:"text-gray-600 mb-6",children:e}),i==="playful"&&x.jsxs("div",{className:"bg-coral-50 rounded-xl p-4 mb-6 text-left",children:[x.jsx("p",{className:"text-sm text-coral-700 font-medium mb-2",children:"Things you can try:"}),x.jsxs("ul",{className:"text-sm text-coral-600 space-y-1",children:[x.jsx("li",{children:" Refresh the page"}),x.jsx("li",{children:" Check your internet connection"}),x.jsx("li",{children:" Try again in a few moments"})]})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a&&x.jsx(We,{variant:"secondary",onClick:a,leftIcon:x.jsx(VC,{size:16}),fullWidth:!0,children:"Go Home"}),n&&x.jsx(We,{variant:"primary",onClick:n,leftIcon:x.jsx(Sm,{size:16}),fullWidth:!0,bounce:!0,children:"Try Again"})]})]})]})})}class yT extends ce.Component{constructor(r){super(r);jn(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){var a,i;console.error("ErrorBoundary caught an error:",r,n),(i=(a=this.props).onError)==null||i.call(a,r,n)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:x.jsx(fv,{title:"Something went wrong",message:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred",onRetry:this.handleRetry}):this.props.children}}const xT=[{id:"theory",title:"Theory Quiz",description:"Test your knowledge with multiple choice questions covering all DSA topics.",icon:"",color:"bg-blue-500",available:!0},{id:"diagrams",title:"Diagram Challenge",description:"Complete interactive tree and graph diagrams by placing nodes correctly.",icon:"",color:"bg-green-500",available:!0},{id:"traversals",title:"Traversal Game",description:"Click nodes in the correct order for different tree traversals.",icon:"",color:"bg-purple-500",available:!0},{id:"realWorld",title:"Real-World Match",description:"Match data structures to their real-world applications.",icon:"",color:"bg-orange-500",available:!0},{id:"codeCompletion",title:"Code Completion",description:"Fill in missing parts of algorithm pseudocode and identify complexities.",icon:"",color:"bg-pink-500",available:!0}];function bT({onSelectModule:t}){const{scores:e,overallProgress:r,loadScores:n,refreshOverallProgress:a,setPracticeMode:i}=Ei();ce.useEffect(()=>{n(),a()},[n,a]);const s=(o,u=!1)=>{i(u),t(o)};return x.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"DSA Learning Game"}),x.jsx("p",{className:"text-gray-500",children:"CSC 731  Data Structures & Algorithms"})]}),r&&r.total>0&&x.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 mb-8",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Overall Progress"}),x.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[r.percentage,"%"]}),x.jsxs("p",{className:"text-sm text-gray-500",children:[r.correct," of ",r.total," correct"]})]}),x.jsx("div",{className:"text-right",children:r.passed?x.jsxs("span",{className:"inline-flex items-center gap-1.5 text-emerald-600 font-medium",children:[x.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Passed"]}):x.jsx("span",{className:"text-sm text-gray-500",children:"70% needed to pass"})})]}),x.jsx("div",{className:"mt-4 bg-gray-100 rounded-full h-2 overflow-hidden",children:x.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${r.passed?"bg-emerald-500":"bg-blue-500"}`,style:{width:`${r.percentage}%`}})})]}),x.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:xT.map(o=>{const u=e[o.id],l=u&&u.total>0,c=l&&Ps(u.correct,u.total),d=l?Ci(u.correct,u.total):0;return x.jsxs("div",{className:`
                bg-white border rounded-lg overflow-hidden
                ${o.available?"border-gray-200 hover:border-gray-300":"border-gray-100 opacity-60"}
                transition-colors
              `,children:[x.jsx("div",{className:"p-4 border-b border-gray-100",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-2xl",children:o.icon}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h3",{className:"font-medium text-gray-900 truncate",children:o.title}),!o.available&&x.jsx("span",{className:"text-xs text-gray-400",children:"Coming soon"}),c&&x.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"Passed"})]})]})}),x.jsxs("div",{className:"p-4",children:[x.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:o.description}),l&&o.available&&x.jsxs("div",{className:"mb-4",children:[x.jsxs("div",{className:"flex justify-between text-sm mb-1.5",children:[x.jsx("span",{className:"text-gray-500",children:"Best score"}),x.jsxs("span",{className:c?"text-emerald-600":"text-gray-700",children:[d,"%"]})]}),x.jsx("div",{className:"bg-gray-100 rounded-full h-1.5 overflow-hidden",children:x.jsx("div",{className:`h-full rounded-full ${c?"bg-emerald-500":"bg-blue-500"}`,style:{width:`${d}%`}})})]}),o.available&&x.jsxs("div",{className:"flex gap-2",children:[x.jsx(We,{variant:l?"outline":"primary",size:"sm",onClick:()=>s(o.id),fullWidth:!0,leftIcon:l?x.jsx(za,{size:14}):x.jsx(Sb,{size:14}),children:l?"Retry":"Start"}),l&&x.jsx(We,{variant:"ghost",size:"sm",onClick:()=>s(o.id,!0),title:"Practice mode",children:x.jsx(bb,{size:14})})]})]})]},o.id)})}),x.jsx("p",{className:"text-center text-sm text-gray-400 mt-8",children:"Progress is saved automatically"})]})}function wT({question:t,selectedAnswer:e,showResult:r,onSelectAnswer:n}){const a=o=>{switch(o){case"easy":return x.jsx(or,{variant:"success",children:o});case"medium":return x.jsx(or,{variant:"warning",children:o});case"hard":return x.jsx(or,{variant:"error",children:o});default:return x.jsx(or,{children:o})}},i=o=>{const u="w-full p-4 text-left rounded-xl border-2 transition-all duration-200 flex items-center gap-3";return r?o===t.correctAnswer?`${u} border-green-500 bg-green-50 text-green-800`:o===e&&o!==t.correctAnswer?`${u} border-red-500 bg-red-50 text-red-800 animate-shake`:`${u} border-gray-200 bg-gray-50 text-gray-500`:e===o?`${u} border-blue-500 bg-blue-50 text-blue-800`:`${u} border-gray-200 hover:border-blue-300 hover:bg-blue-50 cursor-pointer`},s=o=>{const u="w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium shrink-0";return r?o===t.correctAnswer?`${u} bg-green-500 text-white`:o===e&&o!==t.correctAnswer?`${u} bg-red-500 text-white`:`${u} bg-gray-200 text-gray-600`:e===o?`${u} bg-blue-500 text-white`:`${u} bg-gray-200 text-gray-600`};return x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden animate-fade-in",children:[x.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600 font-medium",children:t.category}),a(t.difficulty)]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:t.question}),x.jsx("div",{className:"space-y-3",children:t.options.map((o,u)=>x.jsxs("button",{onClick:()=>!r&&n(u),disabled:r,className:i(u),children:[x.jsx("span",{className:s(u),children:String.fromCharCode(65+u)}),x.jsx("span",{className:"flex-1",children:o}),r&&u===t.correctAnswer&&x.jsx("span",{className:"text-green-500 text-lg",children:""}),r&&u===e&&u!==t.correctAnswer&&x.jsx("span",{className:"text-red-500 text-lg",children:""})]},u))})]}),r&&x.jsxs("div",{className:`p-6 border-t ${e===t.correctAnswer?"bg-green-50":"bg-orange-50"}`,children:[x.jsxs("div",{className:`flex items-start gap-3 mb-4 ${e===t.correctAnswer?"text-green-800":"text-orange-800"}`,children:[x.jsx("span",{className:"text-2xl",children:e===t.correctAnswer?"":""}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-1",children:e===t.correctAnswer?"Correct!":"Not quite right"}),x.jsx("p",{className:"text-sm opacity-90",children:t.explanation})]})]}),x.jsxs("div",{className:"mt-4 p-4 bg-white bg-opacity-60 rounded-xl",children:[x.jsxs("h4",{className:"font-medium text-gray-700 mb-1 flex items-center gap-2",children:[x.jsx("span",{children:""})," Real-World Application"]}),x.jsx("p",{className:"text-sm text-gray-600",children:t.realWorld})]})]})]})}function ST({current:t,total:e,correct:r,streak:n,timeSpent:a}){return x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Question ",t+1," of ",e]}),x.jsxs("div",{className:"flex items-center gap-3",children:[n>=3&&x.jsxs(or,{variant:"warning",className:"animate-pulse",children:[" ",n," streak!"]}),x.jsx("span",{className:"text-gray-600 font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:Dn(a)}),x.jsxs("span",{className:"text-sm font-medium text-green-600",children:[r," correct"]})]})]}),x.jsx(ol,{value:t+1,max:e,size:"md",color:"purple",animated:!0})]})}function ET({score:t,timeSpent:e,incorrectQuestions:r,practiceMode:n,onRetry:a,onBack:i}){const s=Ci(t.correct,t.total),o=Ps(t.correct,t.total),u=il(s),l=Mk(r);return x.jsx("div",{className:"max-w-2xl mx-auto animate-fade-in",children:x.jsxs(Rn,{padding:"none",children:[x.jsxs("div",{className:`p-8 text-white text-center ${o?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-orange-500 to-red-500"}`,children:[x.jsx("div",{className:"text-6xl mb-3",children:o?"":""}),x.jsx("h2",{className:"text-2xl font-bold mb-1",children:u.label}),x.jsx("p",{className:"opacity-90",children:n?"Practice Session Complete":"Quiz Complete"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[s,"%"]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Accuracy"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t.correct,"/",t.total]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Correct"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsx("div",{className:"text-3xl font-bold text-purple-600",children:Dn(e)}),x.jsx("div",{className:"text-sm text-gray-500",children:"Time"})]})]}),x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("span",{className:`inline-block text-6xl font-bold ${u.colorClass}`,children:u.grade}),x.jsx("div",{className:"text-sm text-gray-500 mt-2",children:o?"70% threshold reached!":"Need 70% to pass"})]}),!n&&x.jsxs("div",{className:"text-center mb-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[x.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[t.points," pts"]}),x.jsx("div",{className:"text-sm text-yellow-700",children:"Total Points Earned"})]}),l.length>0&&x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"Areas to Review:"}),x.jsx("div",{className:"space-y-2",children:l.map((c,d)=>x.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 rounded-lg",children:[x.jsx("span",{className:"text-red-500",children:""}),x.jsxs("div",{className:"flex-1",children:[x.jsx("span",{className:"font-medium text-gray-800",children:c.category}),x.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",c.count," missed)"]})]})]},d))})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsx(We,{variant:"secondary",onClick:i,fullWidth:!0,children:"Back to Menu"}),x.jsx(We,{variant:"primary",onClick:a,fullWidth:!0,children:"Try Again"})]})]})]})})}function CT({selectedCategory:t,onSelectCategory:e}){const r=["all",...Array.from(new Set(bu.map(a=>a.category)))],n=a=>a==="all"?bu.length:bu.filter(i=>i.category===a).length;return x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select a topic to focus on:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(a=>x.jsxs("button",{onClick:()=>e(a),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${t===a?"bg-blue-500 text-white shadow-md scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:scale-102"}`,children:[a==="all"?"All Topics":a,x.jsxs("span",{className:`ml-1.5 text-xs ${t===a?"text-blue-100":"text-gray-500"}`,children:["(",n(a),")"]})]},a))})]})}function kT({onBack:t}){const{questions:e,currentIndex:r,selectedAnswer:n,showResult:a,score:i,streak:s,timeSpent:o,quizComplete:u,incorrectQuestions:l,selectedCategory:c,initializeQuiz:d,selectAnswer:f,nextQuestion:v,resetQuiz:h,setCategory:y,incrementTime:b}=Ik(),{practiceMode:g,updateModuleScore:p}=Ei();ce.useEffect(()=>{d()},[d]),ce.useEffect(()=>{if(u)return;const N=setInterval(()=>{b()},1e3);return()=>clearInterval(N)},[u,b]),ce.useEffect(()=>{u&&!g&&p("theory",i.correct,i.total,i.points,o)},[u,g,i,o,p]);const w=ce.useCallback(()=>{v()},[v]),E=ce.useCallback(()=>{h()},[h]),k=e[r];return u?x.jsx(ET,{score:i,timeSpent:o,incorrectQuestions:l,practiceMode:g,onRetry:E,onBack:t}):k?x.jsxs("div",{className:"max-w-2xl mx-auto animate-fade-in",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx(We,{variant:"ghost",onClick:t,leftIcon:x.jsx(bs,{size:20}),children:"Back"}),g&&x.jsx("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium",children:"Practice Mode"})]}),r===0&&!a&&x.jsx(CT,{selectedCategory:c,onSelectCategory:y}),x.jsx(ST,{current:r,total:e.length,correct:i.correct,streak:s,timeSpent:o}),x.jsx(wT,{question:k,selectedAnswer:n,showResult:a,onSelectAnswer:f}),a&&x.jsx("div",{className:"mt-4",children:x.jsx(We,{onClick:w,fullWidth:!0,size:"lg",children:r<e.length-1?x.jsxs(x.Fragment,{children:["Next Question",x.jsx(bs,{className:"rotate-180 ml-2",size:20})]}):x.jsxs(x.Fragment,{children:["See Results",x.jsx("span",{className:"ml-2",children:""})]})})})]}):x.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),x.jsx("p",{className:"text-gray-600",children:"Loading questions..."})]})})}function hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function TT(t){if(Array.isArray(t))return t}function NT(t){if(Array.isArray(t))return hv(t)}function Fa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ib(n.key),n)}}function qa(t,e,r){return e&&AT(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Or(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Pp(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){o=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function Ob(t,e,r){return(e=Ib(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PT(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BT(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(c){l=!0,a=c}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw a}}return o}}function DT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(t,e){return TT(t)||BT(t,e)||Pp(t,e)||DT()}function rc(t){return NT(t)||PT(t)||Pp(t)||RT()}function LT(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ib(t){var e=LT(t,"string");return typeof e=="symbol"?e:e+""}function Qt(t){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(t)}function Pp(t,e){if(t){if(typeof t=="string")return hv(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hv(t,e):void 0}}var Ut=typeof window>"u"?null:window,Dm=Ut?Ut.navigator:null;Ut&&Ut.document;var _T=Qt(""),jb=Qt({}),MT=Qt(function(){}),OT=typeof HTMLElement>"u"?"undefined":Qt(HTMLElement),ll=function(e){return e&&e.instanceString&&Bt(e.instanceString)?e.instanceString():null},_e=function(e){return e!=null&&Qt(e)==_T},Bt=function(e){return e!=null&&Qt(e)===MT},gt=function(e){return!$r(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},ot=function(e){return e!=null&&Qt(e)===jb&&!gt(e)&&e.constructor===Object},IT=function(e){return e!=null&&Qt(e)===jb},ge=function(e){return e!=null&&Qt(e)===Qt(1)&&!isNaN(e)},jT=function(e){return ge(e)&&Math.floor(e)===e},nc=function(e){if(OT!=="undefined")return e!=null&&e instanceof HTMLElement},$r=function(e){return ul(e)||zb(e)},ul=function(e){return ll(e)==="collection"&&e._private.single},zb=function(e){return ll(e)==="collection"&&!e._private.single},Bp=function(e){return ll(e)==="core"},Fb=function(e){return ll(e)==="stylesheet"},zT=function(e){return ll(e)==="event"},Ba=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},FT=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},qT=function(e){return ot(e)&&ge(e.x1)&&ge(e.x2)&&ge(e.y1)&&ge(e.y2)},VT=function(e){return IT(e)&&Bt(e.then)},WT=function(){return Dm&&Dm.userAgent.match(/msie|trident|edge/i)},Ss=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);return i.join("$")});var n=function(){var i=this,s=arguments,o,u=r.apply(i,s),l=n.cache;return(o=l[u])||(o=l[u]=e.apply(i,s)),o};return n.cache={},n},Dp=Ss(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Mc=Ss(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),qb=Ss(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Rm=function(e){return Ba(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},pa=function(e,r){return e.slice(-1*r.length)===r},Kt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",$T="rgb[a]?\\(("+Kt+"[%]?)\\s*,\\s*("+Kt+"[%]?)\\s*,\\s*("+Kt+"[%]?)(?:\\s*,\\s*("+Kt+"))?\\)",UT="rgb[a]?\\((?:"+Kt+"[%]?)\\s*,\\s*(?:"+Kt+"[%]?)\\s*,\\s*(?:"+Kt+"[%]?)(?:\\s*,\\s*(?:"+Kt+"))?\\)",HT="hsl[a]?\\(("+Kt+")\\s*,\\s*("+Kt+"[%])\\s*,\\s*("+Kt+"[%])(?:\\s*,\\s*("+Kt+"))?\\)",GT="hsl[a]?\\((?:"+Kt+")\\s*,\\s*(?:"+Kt+"[%])\\s*,\\s*(?:"+Kt+"[%])(?:\\s*,\\s*(?:"+Kt+"))?\\)",KT="\\#[0-9a-fA-F]{3}",QT="\\#[0-9a-fA-F]{6}",Vb=function(e,r){return e<r?-1:e>r?1:0},YT=function(e,r){return-1*Vb(e,r)},je=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var s=a[i];t[s]=n[s]}}return t},XT=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,s=16;return r?(n=parseInt(e[1]+e[1],s),a=parseInt(e[2]+e[2],s),i=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),a=parseInt(e[3]+e[4],s),i=parseInt(e[5]+e[6],s)),[n,a,i]}},ZT=function(e){var r,n,a,i,s,o,u,l;function c(h,y,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?h+(y-h)*6*b:b<1/2?y:b<2/3?h+(y-h)*(2/3-b)*6:h}var d=new RegExp("^"+HT+"$").exec(e);if(d){if(n=parseInt(d[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(d[2]),a<0||a>100||(a=a/100,i=parseFloat(d[3]),i<0||i>100)||(i=i/100,s=d[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(a===0)o=u=l=Math.round(i*255);else{var f=i<.5?i*(1+a):i+a-i*a,v=2*i-f;o=Math.round(255*c(v,f,n+1/3)),u=Math.round(255*c(v,f,n)),l=Math.round(255*c(v,f,n-1/3))}r=[o,u,l,s]}return r},JT=function(e){var r,n=new RegExp("^"+$T+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var s=n[i];if(s[s.length-1]==="%"&&(a[i]=!0),s=parseFloat(s),a[i]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(o&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},eN=function(e){return tN[e.toLowerCase()]},Wb=function(e){return(gt(e)?e:null)||eN(e)||XT(e)||JT(e)||ZT(e)},tN={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$b=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(ot(s))throw Error("Tried to set map with object key");i<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},Ub=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(ot(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wd,Lm;function dl(){if(Lm)return Wd;Lm=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Wd=t,Wd}var $d,_m;function rN(){if(_m)return $d;_m=1;var t=typeof Ql=="object"&&Ql&&Ql.Object===Object&&Ql;return $d=t,$d}var Ud,Mm;function Oc(){if(Mm)return Ud;Mm=1;var t=rN(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Ud=r,Ud}var Hd,Om;function nN(){if(Om)return Hd;Om=1;var t=Oc(),e=function(){return t.Date.now()};return Hd=e,Hd}var Gd,Im;function aN(){if(Im)return Gd;Im=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Gd=e,Gd}var Kd,jm;function iN(){if(jm)return Kd;jm=1;var t=aN(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Kd=r,Kd}var Qd,zm;function Rp(){if(zm)return Qd;zm=1;var t=Oc(),e=t.Symbol;return Qd=e,Qd}var Yd,Fm;function sN(){if(Fm)return Yd;Fm=1;var t=Rp(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=r.call(s,a),u=s[a];try{s[a]=void 0;var l=!0}catch{}var c=n.call(s);return l&&(o?s[a]=u:delete s[a]),c}return Yd=i,Yd}var Xd,qm;function oN(){if(qm)return Xd;qm=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Xd=r,Xd}var Zd,Vm;function Hb(){if(Vm)return Zd;Vm=1;var t=Rp(),e=sN(),r=oN(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?e(o):r(o)}return Zd=s,Zd}var Jd,Wm;function lN(){if(Wm)return Jd;Wm=1;function t(e){return e!=null&&typeof e=="object"}return Jd=t,Jd}var ef,$m;function fl(){if($m)return ef;$m=1;var t=Hb(),e=lN(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return ef=n,ef}var tf,Um;function uN(){if(Um)return tf;Um=1;var t=iN(),e=dl(),r=fl(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=t(l);var d=i.test(l);return d||s.test(l)?o(l.slice(2),d?2:8):a.test(l)?n:+l}return tf=u,tf}var rf,Hm;function cN(){if(Hm)return rf;Hm=1;var t=dl(),e=nN(),r=uN(),n="Expected a function",a=Math.max,i=Math.min;function s(o,u,l){var c,d,f,v,h,y,b=0,g=!1,p=!1,w=!0;if(typeof o!="function")throw new TypeError(n);u=r(u)||0,t(l)&&(g=!!l.leading,p="maxWait"in l,f=p?a(r(l.maxWait)||0,u):f,w="trailing"in l?!!l.trailing:w);function E(L){var I=c,z=d;return c=d=void 0,b=L,v=o.apply(z,I),v}function k(L){return b=L,h=setTimeout(A,u),g?E(L):v}function N(L){var I=L-y,z=L-b,F=u-I;return p?i(F,f-z):F}function C(L){var I=L-y,z=L-b;return y===void 0||I>=u||I<0||p&&z>=f}function A(){var L=e();if(C(L))return B(L);h=setTimeout(A,N(L))}function B(L){return h=void 0,w&&c?E(L):(c=d=void 0,v)}function P(){h!==void 0&&clearTimeout(h),b=0,c=y=d=h=void 0}function D(){return h===void 0?v:B(e())}function M(){var L=e(),I=C(L);if(c=arguments,d=this,y=L,I){if(h===void 0)return k(y);if(p)return clearTimeout(h),h=setTimeout(A,u),E(y)}return h===void 0&&(h=setTimeout(A,u)),v}return M.cancel=P,M.flush=D,M}return rf=s,rf}var dN=cN(),hl=cl(dN),nf=Ut?Ut.performance:null,Gb=nf&&nf.now?function(){return nf.now()}:function(){return Date.now()},fN=function(){if(Ut){if(Ut.requestAnimationFrame)return function(t){Ut.requestAnimationFrame(t)};if(Ut.mozRequestAnimationFrame)return function(t){Ut.mozRequestAnimationFrame(t)};if(Ut.webkitRequestAnimationFrame)return function(t){Ut.webkitRequestAnimationFrame(t)};if(Ut.msRequestAnimationFrame)return function(t){Ut.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Gb())},1e3/60)}}(),ac=function(e){return fN(e)},Xn=Gb,ti=9261,Kb=65599,qi=5381,Qb=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ti,n=r,a;a=e.next(),!a.done;)n=n*Kb+a.value|0;return n},Wo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ti;return r*Kb+e|0},$o=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qi;return(r<<5)+r+e|0},hN=function(e,r){return e*2097152+r},sa=function(e){return e[0]*2097152+e[1]},Yl=function(e,r){return[Wo(e[0],r[0]),$o(e[1],r[1])]},Gm=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return Qb(s,r)},pi=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return Qb(s,r)},Yb=function(){return vN(arguments)},vN=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=pi(a):r=pi(a,r)}return r};function pN(t,e,r,n,a){var i=a*Math.PI/180,s=Math.cos(i)*(t-r)-Math.sin(i)*(e-n)+r,o=Math.sin(i)*(t-r)+Math.cos(i)*(e-n)+n;return{x:s,y:o}}var gN=function(e,r,n,a,i,s){return{x:(e-n)*i+n,y:(r-a)*s+a}};function mN(t,e,r){if(r===0)return t;var n=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,i=e.w/e.h,s=1/i,o=pN(t.x,t.y,n,a,r),u=gN(o.x,o.y,n,a,i,s);return{x:u.x,y:u.y}}var Km=!0,yN=console.warn!=null,xN=console.trace!=null,Lp=Number.MAX_SAFE_INTEGER||9007199254740991,Xb=function(){return!0},ic=function(){return!1},Qm=function(){return 0},_p=function(){},kt=function(e){throw new Error(e)},Zb=function(e){if(e!==void 0)Km=!!e;else return Km},dt=function(e){Zb()&&(yN?console.warn(e):(console.log(e),xN&&console.trace()))},bN=function(e){return je({},e)},An=function(e){return e==null?e:gt(e)?e.slice():ot(e)?bN(e):e},wN=function(e){return e.slice()},Jb=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},SN={},ew=function(){return SN},fr=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var s=r[i],o=n==null?void 0:n[s];a[s]=o===void 0?e[s]:o}return a}},Da=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},Mp=function(e){e.splice(0,e.length)},EN=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},Lr=function(e,r,n){return n&&(r=qb(n,r)),e[r]},Vn=function(e,r,n,a){n&&(r=qb(n,r)),e[r]=a},CN=function(){function t(){Fa(this,t),this._obj={}}return qa(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),Un=typeof Map<"u"?Map:CN,kN="undefined",TN=function(){function t(e){if(Fa(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return qa(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),Bs=(typeof Set>"u"?"undefined":Qt(Set))!==kN?Set:TN,Ic=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Bp(e)){kt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){kt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new Bs,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),u=e.zoom();i.position={x:(s.x-o.x)/u,y:(s.y-o.y)/u}}var l=[];gt(r.classes)?l=r.classes:_e(r.classes)&&(l=r.classes.split(/\s+/));for(var c=0,d=l.length;c<d;c++){var f=l[c];!f||f===""||i.classes.add(f)}this.createEmitter(),(n===void 0||n)&&this.restore();var v=r.style||r.css;v&&(dt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(v))},Ym=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var s;ot(n)&&!$r(n)&&(s=n,n=s.roots||s.root,a=s.visit,i=s.directed),i=arguments.length===2&&!Bt(a)?a:i,a=Bt(a)?a:function(){};for(var o=this._private.cy,u=n=_e(n)?this.filter(n):n,l=[],c=[],d={},f={},v={},h=0,y,b=this.byGroup(),g=b.nodes,p=b.edges,w=0;w<u.length;w++){var E=u[w],k=E.id();E.isNode()&&(l.unshift(E),e.bfs&&(v[k]=!0,c.push(E)),f[k]=0)}for(var N=function(){var L=e.bfs?l.shift():l.pop(),I=L.id();if(e.dfs){if(v[I])return 0;v[I]=!0,c.push(L)}var z=f[I],F=d[I],j=F!=null?F.source():null,O=F!=null?F.target():null,V=F==null?void 0:L.same(j)?O[0]:j[0],$;if($=a(L,F,V,h++,z),$===!0)return y=L,1;if($===!1)return 1;for(var W=L.connectedEdges().filter(function(le){return(!i||le.source().same(L))&&p.has(le)}),H=0;H<W.length;H++){var ee=W[H],re=ee.connectedNodes().filter(function(le){return!le.same(L)&&g.has(le)}),te=re.id();re.length!==0&&!v[te]&&(re=re[0],l.push(re),e.bfs&&(v[te]=!0,c.push(re)),d[te]=ee,f[te]=f[I]+1)}},C;l.length!==0&&(C=N(),!(C!==0&&C===1)););for(var A=o.collection(),B=0;B<c.length;B++){var P=c[B],D=d[P.id()];D!=null&&A.push(D),A.push(P)}return{path:o.collection(A),found:o.collection(y)}}},Uo={breadthFirstSearch:Ym({bfs:!0}),depthFirstSearch:Ym({dfs:!0})};Uo.bfs=Uo.breadthFirstSearch;Uo.dfs=Uo.depthFirstSearch;var wu={exports:{}},NN=wu.exports,Xm;function AN(){return Xm||(Xm=1,function(t,e){(function(){var r,n,a,i,s,o,u,l,c,d,f,v,h,y,b;a=Math.floor,d=Math.min,n=function(g,p){return g<p?-1:g>p?1:0},c=function(g,p,w,E,k){var N;if(w==null&&(w=0),k==null&&(k=n),w<0)throw new Error("lo must be non-negative");for(E==null&&(E=g.length);w<E;)N=a((w+E)/2),k(p,g[N])<0?E=N:w=N+1;return[].splice.apply(g,[w,w-w].concat(p)),p},o=function(g,p,w){return w==null&&(w=n),g.push(p),y(g,0,g.length-1,w)},s=function(g,p){var w,E;return p==null&&(p=n),w=g.pop(),g.length?(E=g[0],g[0]=w,b(g,0,p)):E=w,E},l=function(g,p,w){var E;return w==null&&(w=n),E=g[0],g[0]=p,b(g,0,w),E},u=function(g,p,w){var E;return w==null&&(w=n),g.length&&w(g[0],p)<0&&(E=[g[0],p],p=E[0],g[0]=E[1],b(g,0,w)),p},i=function(g,p){var w,E,k,N,C,A;for(p==null&&(p=n),N=(function(){A=[];for(var B=0,P=a(g.length/2);0<=P?B<P:B>P;0<=P?B++:B--)A.push(B);return A}).apply(this).reverse(),C=[],E=0,k=N.length;E<k;E++)w=N[E],C.push(b(g,w,p));return C},h=function(g,p,w){var E;if(w==null&&(w=n),E=g.indexOf(p),E!==-1)return y(g,0,E,w),b(g,E,w)},f=function(g,p,w){var E,k,N,C,A;if(w==null&&(w=n),k=g.slice(0,p),!k.length)return k;for(i(k,w),A=g.slice(p),N=0,C=A.length;N<C;N++)E=A[N],u(k,E,w);return k.sort(w).reverse()},v=function(g,p,w){var E,k,N,C,A,B,P,D,M;if(w==null&&(w=n),p*10<=g.length){if(N=g.slice(0,p).sort(w),!N.length)return N;for(k=N[N.length-1],P=g.slice(p),C=0,B=P.length;C<B;C++)E=P[C],w(E,k)<0&&(c(N,E,0,null,w),N.pop(),k=N[N.length-1]);return N}for(i(g,w),M=[],A=0,D=d(p,g.length);0<=D?A<D:A>D;0<=D?++A:--A)M.push(s(g,w));return M},y=function(g,p,w,E){var k,N,C;for(E==null&&(E=n),k=g[w];w>p;){if(C=w-1>>1,N=g[C],E(k,N)<0){g[w]=N,w=C;continue}break}return g[w]=k},b=function(g,p,w){var E,k,N,C,A;for(w==null&&(w=n),k=g.length,A=p,N=g[p],E=2*p+1;E<k;)C=E+1,C<k&&!(w(g[E],g[C])<0)&&(E=C),g[p]=g[E],p=E,E=2*p+1;return g[p]=N,y(g,A,p,w)},r=function(){g.push=o,g.pop=s,g.replace=l,g.pushpop=u,g.heapify=i,g.updateItem=h,g.nlargest=f,g.nsmallest=v;function g(p){this.cmp=p??n,this.nodes=[]}return g.prototype.push=function(p){return o(this.nodes,p,this.cmp)},g.prototype.pop=function(){return s(this.nodes,this.cmp)},g.prototype.peek=function(){return this.nodes[0]},g.prototype.contains=function(p){return this.nodes.indexOf(p)!==-1},g.prototype.replace=function(p){return l(this.nodes,p,this.cmp)},g.prototype.pushpop=function(p){return u(this.nodes,p,this.cmp)},g.prototype.heapify=function(){return i(this.nodes,this.cmp)},g.prototype.updateItem=function(p){return h(this.nodes,p,this.cmp)},g.prototype.clear=function(){return this.nodes=[]},g.prototype.empty=function(){return this.nodes.length===0},g.prototype.size=function(){return this.nodes.length},g.prototype.clone=function(){var p;return p=new g,p.nodes=this.nodes.slice(0),p},g.prototype.toArray=function(){return this.nodes.slice(0)},g.prototype.insert=g.prototype.push,g.prototype.top=g.prototype.peek,g.prototype.front=g.prototype.peek,g.prototype.has=g.prototype.contains,g.prototype.copy=g.prototype.clone,g}(),function(g,p){return t.exports=p()}(this,function(){return r})}).call(NN)}(wu)),wu.exports}var af,Zm;function PN(){return Zm||(Zm=1,af=AN()),af}var BN=PN(),vl=cl(BN),DN=fr({root:null,weight:function(e){return 1},directed:!1}),RN={dijkstra:function(e){if(!ot(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=DN(e),a=n.root,i=n.weight,s=n.directed,o=this,u=i,l=_e(a)?this.filter(a)[0]:a[0],c={},d={},f={},v=this.byGroup(),h=v.nodes,y=v.edges;y.unmergeBy(function(z){return z.isLoop()});for(var b=function(F){return c[F.id()]},g=function(F,j){c[F.id()]=j,p.updateItem(F)},p=new vl(function(z,F){return b(z)-b(F)}),w=0;w<h.length;w++){var E=h[w];c[E.id()]=E.same(l)?0:1/0,p.push(E)}for(var k=function(F,j){for(var O=(s?F.edgesTo(j):F.edgesWith(j)).intersect(y),V=1/0,$,W=0;W<O.length;W++){var H=O[W],ee=u(H);(ee<V||!$)&&(V=ee,$=H)}return{edge:$,dist:V}};p.size()>0;){var N=p.pop(),C=b(N),A=N.id();if(f[A]=C,C!==1/0)for(var B=N.neighborhood().intersect(h),P=0;P<B.length;P++){var D=B[P],M=D.id(),L=k(N,D),I=C+L.dist;I<b(D)&&(g(D,I),d[M]={node:N,edge:L.edge})}}return{distanceTo:function(F){var j=_e(F)?h.filter(F)[0]:F[0];return f[j.id()]},pathTo:function(F){var j=_e(F)?h.filter(F)[0]:F[0],O=[],V=j,$=V.id();if(j.length>0)for(O.unshift(j);d[$];){var W=d[$];O.unshift(W.edge),O.unshift(W.node),V=W.node,$=V.id()}return o.spawn(O)}}}},LN={kruskal:function(e){e=e||function(w){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,s=new Array(i),o=n,u=function(E){for(var k=0;k<s.length;k++){var N=s[k];if(N.has(E))return k}},l=0;l<i;l++)s[l]=this.spawn(n[l]);for(var c=a.sort(function(w,E){return e(w)-e(E)}),d=0;d<c.length;d++){var f=c[d],v=f.source()[0],h=f.target()[0],y=u(v),b=u(h),g=s[y],p=s[b];y!==b&&(o.merge(f),g.merge(p),s.splice(b,1))}return o}},_N=fr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),MN={aStar:function(e){var r=this.cy(),n=_N(e),a=n.root,i=n.goal,s=n.heuristic,o=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var l=a.id(),c=i.id(),d={},f={},v={},h=new vl(function($,W){return f[$.id()]-f[W.id()]}),y=new Bs,b={},g={},p=function(W,H){h.push(W),y.add(H)},w,E,k=function(){w=h.pop(),E=w.id(),y.delete(E)},N=function(W){return y.has(W)};p(a,l),d[l]=0,f[l]=s(a);for(var C=0;h.size()>0;){if(k(),C++,E===c){for(var A=[],B=i,P=c,D=g[P];A.unshift(B),D!=null&&A.unshift(D),B=b[P],B!=null;)P=B.id(),D=g[P];return{found:!0,distance:d[E],path:this.spawn(A),steps:C}}v[E]=!0;for(var M=w._private.edges,L=0;L<M.length;L++){var I=M[L];if(this.hasElementWithId(I.id())&&!(o&&I.data("source")!==E)){var z=I.source(),F=I.target(),j=z.id()!==E?z:F,O=j.id();if(this.hasElementWithId(O)&&!v[O]){var V=d[E]+u(I);if(!N(O)){d[O]=V,f[O]=V+s(j),p(j,O),b[O]=w,g[O]=I;continue}V<d[O]&&(d[O]=V,f[O]=V+s(j),b[O]=w,g[O]=I)}}}}return{found:!1,distance:void 0,path:void 0,steps:C}}},ON=fr({weight:function(e){return 1},directed:!1}),IN={floydWarshall:function(e){for(var r=this.cy(),n=ON(e),a=n.weight,i=n.directed,s=a,o=this.byGroup(),u=o.nodes,l=o.edges,c=u.length,d=c*c,f=function(ee){return u.indexOf(ee)},v=function(ee){return u[ee]},h=new Array(d),y=0;y<d;y++){var b=y%c,g=(y-b)/c;g===b?h[y]=0:h[y]=1/0}for(var p=new Array(d),w=new Array(d),E=0;E<l.length;E++){var k=l[E],N=k.source()[0],C=k.target()[0];if(N!==C){var A=f(N),B=f(C),P=A*c+B,D=s(k);if(h[P]>D&&(h[P]=D,p[P]=B,w[P]=k),!i){var M=B*c+A;!i&&h[M]>D&&(h[M]=D,p[M]=A,w[M]=k)}}}for(var L=0;L<c;L++)for(var I=0;I<c;I++)for(var z=I*c+L,F=0;F<c;F++){var j=I*c+F,O=L*c+F;h[z]+h[O]<h[j]&&(h[j]=h[z]+h[O],p[j]=p[z])}var V=function(ee){return(_e(ee)?r.filter(ee):ee)[0]},$=function(ee){return f(V(ee))},W={distance:function(ee,re){var te=$(ee),le=$(re);return h[te*c+le]},path:function(ee,re){var te=$(ee),le=$(re),fe=v(te);if(te===le)return fe.collection();if(p[te*c+le]==null)return r.collection();var me=r.collection(),ue=te,G;for(me.merge(fe);te!==le;)ue=te,te=p[te*c+le],G=w[ue*c+te],me.merge(G),me.merge(v(te));return me}};return W}},jN=fr({weight:function(e){return 1},directed:!1,root:null}),zN={bellmanFord:function(e){var r=this,n=jN(e),a=n.weight,i=n.directed,s=n.root,o=a,u=this,l=this.cy(),c=this.byGroup(),d=c.edges,f=c.nodes,v=f.length,h=new Un,y=!1,b=[];s=l.collection(s)[0],d.unmergeBy(function($e){return $e.isLoop()});for(var g=d.length,p=function(Ie){var De=h.get(Ie.id());return De||(De={},h.set(Ie.id(),De)),De},w=function(Ie){return(_e(Ie)?l.$(Ie):Ie)[0]},E=function(Ie){return p(w(Ie)).dist},k=function(Ie){for(var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,ye=w(Ie),ke=[],Pe=ye;;){if(Pe==null)return r.spawn();var Ue=p(Pe),Re=Ue.edge,He=Ue.pred;if(ke.unshift(Pe[0]),Pe.same(De)&&ke.length>0)break;Re!=null&&ke.unshift(Re),Pe=He}return u.spawn(ke)},N=0;N<v;N++){var C=f[N],A=p(C);C.same(s)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var B=!1,P=function(Ie,De,ye,ke,Pe,Ue){var Re=ke.dist+Ue;Re<Pe.dist&&!ye.same(ke.edge)&&(Pe.dist=Re,Pe.pred=Ie,Pe.edge=ye,B=!0)},D=1;D<v;D++){B=!1;for(var M=0;M<g;M++){var L=d[M],I=L.source(),z=L.target(),F=o(L),j=p(I),O=p(z);P(I,z,L,j,O,F),i||P(z,I,L,O,j,F)}if(!B)break}if(B)for(var V=[],$=0;$<g;$++){var W=d[$],H=W.source(),ee=W.target(),re=o(W),te=p(H).dist,le=p(ee).dist;if(te+re<le||!i&&le+re<te)if(y||(dt("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var fe=[];te+re<le&&fe.push(H),!i&&le+re<te&&fe.push(ee);for(var me=fe.length,ue=0;ue<me;ue++){var G=fe[ue],Q=[G];Q.push(p(G).edge);for(var X=p(G).pred;Q.indexOf(X)===-1;)Q.push(X),Q.push(p(X).edge),X=p(X).pred;Q=Q.slice(Q.indexOf(X));for(var ae=Q[0].id(),pe=0,Te=2;Te<Q.length;Te+=2)Q[Te].id()<ae&&(ae=Q[Te].id(),pe=Te);Q=Q.slice(pe).concat(Q.slice(0,pe)),Q.push(Q[0]);var Be=Q.map(function($e){return $e.id()}).join(",");V.indexOf(Be)===-1&&(b.push(u.spawn(Q)),V.push(Be))}}else break}return{distanceTo:E,pathTo:k,hasNegativeWeightCycle:y,negativeWeightCycles:b}}},FN=Math.sqrt(2),qN=function(e,r,n){n.length===0&&kt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],s=a[2],o=r[i],u=r[s],l=n,c=l.length-1;c>=0;c--){var d=l[c],f=d[1],v=d[2];(r[f]===o&&r[v]===u||r[f]===u&&r[v]===o)&&l.splice(c,1)}for(var h=0;h<l.length;h++){var y=l[h];y[1]===u?(l[h]=y.slice(),l[h][1]=o):y[2]===u&&(l[h]=y.slice(),l[h][2]=o)}for(var b=0;b<r.length;b++)r[b]===u&&(r[b]=o);return l},sf=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=qN(i,e,r),n--}return r},VN={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(O){return O.isLoop()});var i=n.length,s=a.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/FN);if(i<2){kt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<s;c++){var d=a[c];l.push([c,n.indexOf(d.source()),n.indexOf(d.target())])}for(var f=1/0,v=[],h=new Array(i),y=new Array(i),b=new Array(i),g=function(V,$){for(var W=0;W<i;W++)$[W]=V[W]},p=0;p<=o;p++){for(var w=0;w<i;w++)y[w]=w;var E=sf(y,l.slice(),i,u),k=E.slice();g(y,b);var N=sf(y,E,u,2),C=sf(b,k,u,2);N.length<=C.length&&N.length<f?(f=N.length,v=N,g(y,h)):C.length<=N.length&&C.length<f&&(f=C.length,v=C,g(b,h))}for(var A=this.spawn(v.map(function(O){return a[O[0]]})),B=this.spawn(),P=this.spawn(),D=h[0],M=0;M<h.length;M++){var L=h[M],I=n[M];L===D?B.merge(I):P.merge(I)}var z=function(V){var $=e.spawn();return V.forEach(function(W){$.merge(W),W.connectedEdges().forEach(function(H){e.contains(H)&&!A.contains(H)&&$.merge(H)})}),$},F=[z(B),z(P)],j={cut:A,components:F,partition1:B,partition2:P};return j}},of,WN=function(e){return{x:e.x,y:e.y}},jc=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},tw=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},es=function(e){return{x:e[0],y:e[1]}},$N=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.min(s,a))}return a},UN=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.max(s,a))}return a},HN=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(a+=o,i++)}return a/i},GN=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,u=e.length-1;u>=0;u--){var l=e[u];s?isFinite(l)||(e[u]=-1/0,o++):e.splice(u,1)}i&&e.sort(function(f,v){return f-v});var c=e.length,d=Math.floor(c/2);return c%2!==0?e[d+1+o]:(e[d-1+o]+e[d+o])/2},KN=function(e){return Math.PI*e/180},Xl=function(e,r){return Math.atan2(r,e)-Math.PI/2},Op=Math.log2||function(t){return Math.log(t)/Math.log(2)},Ip=function(e){return e>0?1:e<0?-1:0},gi=function(e,r){return Math.sqrt(Ja(e,r))},Ja=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},QN=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},er=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},us=function(e,r,n,a){return{x:er(e.x,r.x,n.x,a),y:er(e.y,r.y,n.y,a)}},YN=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},s=gi(e,r),o={x:i.x/s,y:i.y/s};return n=n??0,a=a??n*s,{x:e.x+o.x*a,y:e.y+o.y*a}},Ho=function(e,r,n){return Math.max(e,Math.min(n,r))},kr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},XN=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},ZN=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},JN=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},rw=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Su=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Eu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,s;if(r.length===1)n=a=i=s=r[0];else if(r.length===2)n=i=r[0],s=a=r[1];else if(r.length===4){var o=Ft(r,4);n=o[0],a=o[1],i=o[2],s=o[3]}return e.x1-=s,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Jm=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},jp=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},ga=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},ey=function(e,r){return ga(e,r.x,r.y)},nw=function(e,r){return ga(e,r.x1,r.y1)&&ga(e,r.x2,r.y2)},eA=(of=Math.hypot)!==null&&of!==void 0?of:function(t,e){return Math.sqrt(t*t+e*e)};function tA(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=function(A,B){return{x:A.x+B.x,y:A.y+B.y}},n=function(A,B){return{x:A.x-B.x,y:A.y-B.y}},a=function(A,B){return{x:A.x*B,y:A.y*B}},i=function(A,B){return A.x*B.y-A.y*B.x},s=function(A){var B=eA(A.x,A.y);return B===0?{x:0,y:0}:{x:A.x/B,y:A.y/B}},o=function(A){for(var B=0,P=0;P<A.length;P++){var D=A[P],M=A[(P+1)%A.length];B+=D.x*M.y-M.x*D.y}return B/2},u=function(A,B,P,D){var M=n(B,A),L=n(D,P),I=i(M,L);if(Math.abs(I)<1e-9)return r(A,a(M,.5));var z=i(n(P,A),L)/I;return r(A,a(M,z))},l=t.map(function(C){return{x:C.x,y:C.y}});o(l)<0&&l.reverse();for(var c=l.length,d=[],f=0;f<c;f++){var v=l[f],h=l[(f+1)%c],y=n(h,v),b=s({x:y.y,y:-y.x});d.push(b)}for(var g=d.map(function(C,A){var B=r(l[A],a(C,e)),P=r(l[(A+1)%c],a(C,e));return{p1:B,p2:P}}),p=[],w=0;w<c;w++){var E=g[(w-1+c)%c],k=g[w],N=u(E.p1,E.p2,k.p1,k.p2);p.push(N)}return p}function rA(t,e,r,n,a,i){var s=dA(t,e,r,n,a),o=tA(s,i),u=kr();return o.forEach(function(l){return rw(u,l.x,l.y)}),u}var aw=function(e,r,n,a,i,s,o){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?Ra(i,s):u,c=i/2,d=s/2;l=Math.min(l,c,d);var f=l!==c,v=l!==d,h;if(f){var y=n-c+l-o,b=a-d-o,g=n+c-l+o,p=b;if(h=ma(e,r,n,a,y,b,g,p,!1),h.length>0)return h}if(v){var w=n+c+o,E=a-d+l-o,k=w,N=a+d-l+o;if(h=ma(e,r,n,a,w,E,k,N,!1),h.length>0)return h}if(f){var C=n-c+l-o,A=a+d+o,B=n+c-l+o,P=A;if(h=ma(e,r,n,a,C,A,B,P,!1),h.length>0)return h}if(v){var D=n-c-o,M=a-d+l-o,L=D,I=a+d-l+o;if(h=ma(e,r,n,a,D,M,L,I,!1),h.length>0)return h}var z;{var F=n-c+l,j=a-d+l;if(z=uo(e,r,n,a,F,j,l+o),z.length>0&&z[0]<=F&&z[1]<=j)return[z[0],z[1]]}{var O=n+c-l,V=a-d+l;if(z=uo(e,r,n,a,O,V,l+o),z.length>0&&z[0]>=O&&z[1]<=V)return[z[0],z[1]]}{var $=n+c-l,W=a+d-l;if(z=uo(e,r,n,a,$,W,l+o),z.length>0&&z[0]>=$&&z[1]>=W)return[z[0],z[1]]}{var H=n-c+l,ee=a+d-l;if(z=uo(e,r,n,a,H,ee,l+o),z.length>0&&z[0]<=H&&z[1]>=ee)return[z[0],z[1]]}return[]},nA=function(e,r,n,a,i,s,o){var u=o,l=Math.min(n,i),c=Math.max(n,i),d=Math.min(a,s),f=Math.max(a,s);return l-u<=e&&e<=c+u&&d-u<=r&&r<=f+u},aA=function(e,r,n,a,i,s,o,u,l){var c={x1:Math.min(n,o,i)-l,x2:Math.max(n,o,i)+l,y1:Math.min(a,u,s)-l,y2:Math.max(a,u,s)+l};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},iA=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var s=Math.sqrt(i),o=2*e,u=(-r+s)/o,l=(-r-s)/o;return[u,l]},sA=function(e,r,n,a,i){var s=1e-5;e===0&&(e=s),r/=e,n/=e,a/=e;var o,u,l,c,d,f,v,h;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,o=u*u*u+l*l,i[1]=0,v=r/3,o>0){d=l+Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),f=l-Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),i[0]=-v+d+f,v+=(d+f)/2,i[4]=i[2]=-v,v=Math.sqrt(3)*(-f+d)/2,i[3]=v,i[5]=-v;return}if(i[5]=i[3]=0,o===0){h=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-v+2*h,i[4]=i[2]=-(h+v);return}u=-u,c=u*u*u,c=Math.acos(l/Math.sqrt(c)),h=2*Math.sqrt(u),i[0]=-v+h*Math.cos(c/3),i[2]=-v+h*Math.cos((c+2*Math.PI)/3),i[4]=-v+h*Math.cos((c+4*Math.PI)/3)},oA=function(e,r,n,a,i,s,o,u){var l=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+a*a-4*a*s+2*a*u+4*s*s-4*s*u+u*u,c=1*9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*a*s-3*a*a-3*a*u-6*s*s+3*s*u,d=1*3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*a*a-6*a*s+a*u-a*r+2*s*s+2*s*r-u*r,f=1*n*i-n*n+n*e-i*e+a*s-a*a+a*r-s*r,v=[];sA(l,c,d,f,v);for(var h=1e-7,y=[],b=0;b<6;b+=2)Math.abs(v[b+1])<h&&v[b]>=0&&v[b]<=1&&y.push(v[b]);y.push(1),y.push(0);for(var g=-1,p,w,E,k=0;k<y.length;k++)p=Math.pow(1-y[k],2)*n+2*(1-y[k])*y[k]*i+y[k]*y[k]*o,w=Math.pow(1-y[k],2)*a+2*(1-y[k])*y[k]*s+y[k]*y[k]*u,E=Math.pow(p-e,2)+Math.pow(w-r,2),g>=0?E<g&&(g=E):g=E;return g},lA=function(e,r,n,a,i,s){var o=[e-n,r-a],u=[i-n,s-a],l=u[0]*u[0]+u[1]*u[1],c=o[0]*o[0]+o[1]*o[1],d=o[0]*u[0]+o[1]*u[1],f=d*d/l;return d<0?c:f>l?(e-i)*(e-i)+(r-s)*(r-s):c-f},_r=function(e,r,n){for(var a,i,s,o,u,l=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(s=n[(c+1)*2],o=n[(c+1)*2+1]):(s=n[(c+1-n.length/2)*2],o=n[(c+1-n.length/2)*2+1]),!(a==e&&s==e))if(a>=e&&e>=s||a<=e&&e<=s)u=(e-a)/(s-a)*(o-i)+i,u>r&&l++;else continue;return l%2!==0},Zn=function(e,r,n,a,i,s,o,u,l){var c=new Array(n.length),d;u[0]!=null?(d=Math.atan(u[1]/u[0]),u[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=u;for(var f=Math.cos(-d),v=Math.sin(-d),h=0;h<c.length/2;h++)c[h*2]=s/2*(n[h*2]*f-n[h*2+1]*v),c[h*2+1]=o/2*(n[h*2+1]*f+n[h*2]*v),c[h*2]+=a,c[h*2+1]+=i;var y;if(l>0){var b=oc(c,-l);y=sc(b)}else y=c;return _r(e,r,y)},uA=function(e,r,n,a,i,s,o,u){for(var l=new Array(n.length*2),c=0;c<u.length;c++){var d=u[c];l[c*4+0]=d.startX,l[c*4+1]=d.startY,l[c*4+2]=d.stopX,l[c*4+3]=d.stopY;var f=Math.pow(d.cx-e,2)+Math.pow(d.cy-r,2);if(f<=Math.pow(d.radius,2))return!0}return _r(e,r,l)},sc=function(e){for(var r=new Array(e.length/2),n,a,i,s,o,u,l,c,d=0;d<e.length/4;d++){n=e[d*4],a=e[d*4+1],i=e[d*4+2],s=e[d*4+3],d<e.length/4-1?(o=e[(d+1)*4],u=e[(d+1)*4+1],l=e[(d+1)*4+2],c=e[(d+1)*4+3]):(o=e[0],u=e[1],l=e[2],c=e[3]);var f=ma(n,a,i,s,o,u,l,c,!0);r[d*2]=f[0],r[d*2+1]=f[1]}return r},oc=function(e,r){for(var n=new Array(e.length*2),a,i,s,o,u=0;u<e.length/2;u++){a=e[u*2],i=e[u*2+1],u<e.length/2-1?(s=e[(u+1)*2],o=e[(u+1)*2+1]):(s=e[0],o=e[1]);var l=o-i,c=-(s-a),d=Math.sqrt(l*l+c*c),f=l/d,v=c/d;n[u*4]=a+f*r,n[u*4+1]=i+v*r,n[u*4+2]=s+f*r,n[u*4+3]=o+v*r}return n},cA=function(e,r,n,a,i,s){var o=n-e,u=a-r;o/=i,u/=s;var l=Math.sqrt(o*o+u*u),c=l-1;if(c<0)return[];var d=c/l;return[(n-e)*d+e,(a-r)*d+r]},si=function(e,r,n,a,i,s,o){return e-=i,r-=s,e/=n/2+o,r/=a/2+o,e*e+r*r<=1},uo=function(e,r,n,a,i,s,o){var u=[n-e,a-r],l=[e-i,r-s],c=u[0]*u[0]+u[1]*u[1],d=2*(l[0]*u[0]+l[1]*u[1]),f=l[0]*l[0]+l[1]*l[1]-o*o,v=d*d-4*c*f;if(v<0)return[];var h=(-d+Math.sqrt(v))/(2*c),y=(-d-Math.sqrt(v))/(2*c),b=Math.min(h,y),g=Math.max(h,y),p=[];if(b>=0&&b<=1&&p.push(b),g>=0&&g<=1&&p.push(g),p.length===0)return[];var w=p[0]*u[0]+e,E=p[0]*u[1]+r;if(p.length>1){if(p[0]==p[1])return[w,E];var k=p[1]*u[0]+e,N=p[1]*u[1]+r;return[w,E,k,N]}else return[w,E]},lf=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},ma=function(e,r,n,a,i,s,o,u,l){var c=e-i,d=n-e,f=o-i,v=r-s,h=a-r,y=u-s,b=f*v-y*c,g=d*v-h*c,p=y*d-f*h;if(p!==0){var w=b/p,E=g/p,k=.001,N=0-k,C=1+k;return N<=w&&w<=C&&N<=E&&E<=C?[e+w*d,r+w*h]:l?[e+w*d,r+w*h]:[]}else return b===0||g===0?lf(e,n,o)===o?[o,u]:lf(e,n,i)===i?[i,s]:lf(i,o,n)===n?[n,a]:[]:[]},dA=function(e,r,n,a,i){var s=[],o=a/2,u=i/2,l=r,c=n;s.push({x:l+o*e[0],y:c+u*e[1]});for(var d=1;d<e.length/2;d++)s.push({x:l+o*e[d*2],y:c+u*e[d*2+1]});return s},Go=function(e,r,n,a,i,s,o,u){var l=[],c,d=new Array(n.length),f=!0;s==null&&(f=!1);var v;if(f){for(var h=0;h<d.length/2;h++)d[h*2]=n[h*2]*s+a,d[h*2+1]=n[h*2+1]*o+i;if(u>0){var y=oc(d,-u);v=sc(y)}else v=d}else v=n;for(var b,g,p,w,E=0;E<v.length/2;E++)b=v[E*2],g=v[E*2+1],E<v.length/2-1?(p=v[(E+1)*2],w=v[(E+1)*2+1]):(p=v[0],w=v[1]),c=ma(e,r,a,i,b,g,p,w),c.length!==0&&l.push(c[0],c[1]);return l},fA=function(e,r,n,a,i,s,o,u,l){var c=[],d,f=new Array(n.length*2);l.forEach(function(p,w){w===0?(f[f.length-2]=p.startX,f[f.length-1]=p.startY):(f[w*4-2]=p.startX,f[w*4-1]=p.startY),f[w*4]=p.stopX,f[w*4+1]=p.stopY,d=uo(e,r,a,i,p.cx,p.cy,p.radius),d.length!==0&&c.push(d[0],d[1])});for(var v=0;v<f.length/4;v++)d=ma(e,r,a,i,f[v*4],f[v*4+1],f[v*4+2],f[v*4+3],!1),d.length!==0&&c.push(d[0],d[1]);if(c.length>2){for(var h=[c[0],c[1]],y=Math.pow(h[0]-e,2)+Math.pow(h[1]-r,2),b=1;b<c.length/2;b++){var g=Math.pow(c[b*2]-e,2)+Math.pow(c[b*2+1]-r,2);g<=y&&(h[0]=c[b*2],h[1]=c[b*2+1],y=g)}return h}return c},Zl=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=(i-n)/i;return s<0&&(s=1e-5),[r[0]+s*a[0],r[1]+s*a[1]]},Sr=function(e,r){var n=vv(e,r);return n=iw(n),n},iw=function(e){for(var r,n,a=e.length/2,i=1/0,s=1/0,o=-1/0,u=-1/0,l=0;l<a;l++)r=e[2*l],n=e[2*l+1],i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),u=Math.max(u,n);for(var c=2/(o-i),d=2/(u-s),f=0;f<a;f++)r=e[2*f]=e[2*f]*c,n=e[2*f+1]=e[2*f+1]*d,i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),u=Math.max(u,n);if(s<-1)for(var v=0;v<a;v++)n=e[2*v+1]=e[2*v+1]+(-1-s);return e},vv=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),s,o=0;o<e;o++)s=o*n+a,i[2*o]=Math.cos(s),i[2*o+1]=Math.sin(-s);return i},Ra=function(e,r){return Math.min(e/4,r/4,8)},sw=function(e,r){return Math.min(e/10,r/10,8)},zp=function(){return 8},hA=function(e,r,n){return[e-2*r+n,2*(r-e),e]},pv=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function uf(t,e){function r(d){for(var f=[],v=0;v<d.length;v++){var h=d[v],y=d[(v+1)%d.length],b={x:y.x-h.x,y:y.y-h.y},g={x:-b.y,y:b.x},p=Math.sqrt(g.x*g.x+g.y*g.y);f.push({x:g.x/p,y:g.y/p})}return f}function n(d,f){var v=1/0,h=-1/0,y=Or(d),b;try{for(y.s();!(b=y.n()).done;){var g=b.value,p=g.x*f.x+g.y*f.y;v=Math.min(v,p),h=Math.max(h,p)}}catch(w){y.e(w)}finally{y.f()}return{min:v,max:h}}function a(d,f){return!(d.max<f.min||f.max<d.min)}var i=[].concat(rc(r(t)),rc(r(e))),s=Or(i),o;try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n(t,u),c=n(e,u);if(!a(l,c))return!1}}catch(d){s.e(d)}finally{s.f()}return!0}var vA=fr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),pA={pageRank:function(e){for(var r=vA(e),n=r.dampingFactor,a=r.precision,i=r.iterations,s=r.weight,o=this._private.cy,u=this.byGroup(),l=u.nodes,c=u.edges,d=l.length,f=d*d,v=c.length,h=new Array(f),y=new Array(d),b=(1-n)/d,g=0;g<d;g++){for(var p=0;p<d;p++){var w=g*d+p;h[w]=0}y[g]=0}for(var E=0;E<v;E++){var k=c[E],N=k.data("source"),C=k.data("target");if(N!==C){var A=l.indexOfId(N),B=l.indexOfId(C),P=s(k),D=B*d+A;h[D]+=P,y[A]+=P}}for(var M=1/d+b,L=0;L<d;L++)if(y[L]===0)for(var I=0;I<d;I++){var z=I*d+L;h[z]=M}else for(var F=0;F<d;F++){var j=F*d+L;h[j]=h[j]/y[L]+b}for(var O=new Array(d),V=new Array(d),$,W=0;W<d;W++)O[W]=1;for(var H=0;H<i;H++){for(var ee=0;ee<d;ee++)V[ee]=0;for(var re=0;re<d;re++)for(var te=0;te<d;te++){var le=re*d+te;V[re]+=h[le]*O[te]}QN(V),$=O,O=V,V=$;for(var fe=0,me=0;me<d;me++){var ue=$[me]-O[me];fe+=ue*ue}if(fe<a)break}var G={rank:function(X){return X=o.collection(X)[0],O[l.indexOf(X)]}};return G}},ty=fr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),cs={degreeCentralityNormalized:function(e){e=ty(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},d={},f=0,v=0,h=0;h<a;h++){var y=n[h],b=y.id();e.root=y;var g=this.degreeCentrality(e);f<g.indegree&&(f=g.indegree),v<g.outdegree&&(v=g.outdegree),c[b]=g.indegree,d[b]=g.outdegree}return{indegree:function(w){return f==0?0:(_e(w)&&(w=r.filter(w)),c[w.id()]/f)},outdegree:function(w){return v===0?0:(_e(w)&&(w=r.filter(w)),d[w.id()]/v)}}}else{for(var i={},s=0,o=0;o<a;o++){var u=n[o];e.root=u;var l=this.degreeCentrality(e);s<l.degree&&(s=l.degree),i[u.id()]=l.degree}return{degree:function(w){return s===0?0:(_e(w)&&(w=r.filter(w)),i[w.id()]/s)}}}},degreeCentrality:function(e){e=ty(e);var r=this.cy(),n=this,a=e,i=a.root,s=a.weight,o=a.directed,u=a.alpha;if(i=r.collection(i)[0],o){for(var v=i.connectedEdges(),h=v.filter(function(N){return N.target().same(i)&&n.has(N)}),y=v.filter(function(N){return N.source().same(i)&&n.has(N)}),b=h.length,g=y.length,p=0,w=0,E=0;E<h.length;E++)p+=s(h[E]);for(var k=0;k<y.length;k++)w+=s(y[k]);return{indegree:Math.pow(b,1-u)*Math.pow(p,u),outdegree:Math.pow(g,1-u)*Math.pow(w,u)}}else{for(var l=i.connectedEdges().intersection(n),c=l.length,d=0,f=0;f<l.length;f++)d+=s(l[f]);return{degree:Math.pow(c,1-u)*Math.pow(d,u)}}}};cs.dc=cs.degreeCentrality;cs.dcn=cs.degreeCentralityNormalised=cs.degreeCentralityNormalized;var ry=fr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ds={closenessCentralityNormalized:function(e){for(var r=ry(e),n=r.harmonic,a=r.weight,i=r.directed,s=this.cy(),o={},u=0,l=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),d=0;d<l.length;d++){for(var f=0,v=l[d],h=0;h<l.length;h++)if(d!==h){var y=c.distance(v,l[h]);n?f+=1/y:f+=y}n||(f=1/f),u<f&&(u=f),o[v.id()]=f}return{closeness:function(g){return u==0?0:(_e(g)?g=s.filter(g)[0].id():g=g.id(),o[g]/u)}}},closenessCentrality:function(e){var r=ry(e),n=r.root,a=r.weight,i=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:a,directed:i}),u=0,l=this.nodes(),c=0;c<l.length;c++){var d=l[c];if(!d.same(n)){var f=o.distanceTo(d);s?u+=1/f:u+=f}}return s?u:1/u}};ds.cc=ds.closenessCentrality;ds.ccn=ds.closenessCentralityNormalised=ds.closenessCentralityNormalized;var gA=fr({weight:null,directed:!1}),gv={betweennessCentrality:function(e){for(var r=gA(e),n=r.directed,a=r.weight,i=a!=null,s=this.cy(),o=this.nodes(),u={},l={},c=0,d={set:function(w,E){l[w]=E,E>c&&(c=E)},get:function(w){return l[w]}},f=0;f<o.length;f++){var v=o[f],h=v.id();n?u[h]=v.outgoers().nodes():u[h]=v.openNeighborhood().nodes(),d.set(h,0)}for(var y=function(){for(var w=o[b].id(),E=[],k={},N={},C={},A=new vl(function(re,te){return C[re]-C[te]}),B=0;B<o.length;B++){var P=o[B].id();k[P]=[],N[P]=0,C[P]=1/0}for(N[w]=1,C[w]=0,A.push(w);!A.empty();){var D=A.pop();if(E.push(D),i)for(var M=0;M<u[D].length;M++){var L=u[D][M],I=s.getElementById(D),z=void 0;I.edgesTo(L).length>0?z=I.edgesTo(L)[0]:z=L.edgesTo(I)[0];var F=a(z);L=L.id(),C[L]>C[D]+F&&(C[L]=C[D]+F,A.nodes.indexOf(L)<0?A.push(L):A.updateItem(L),N[L]=0,k[L]=[]),C[L]==C[D]+F&&(N[L]=N[L]+N[D],k[L].push(D))}else for(var j=0;j<u[D].length;j++){var O=u[D][j].id();C[O]==1/0&&(A.push(O),C[O]=C[D]+1),C[O]==C[D]+1&&(N[O]=N[O]+N[D],k[O].push(D))}}for(var V={},$=0;$<o.length;$++)V[o[$].id()]=0;for(;E.length>0;){for(var W=E.pop(),H=0;H<k[W].length;H++){var ee=k[W][H];V[ee]=V[ee]+N[ee]/N[W]*(1+V[W])}W!=o[b].id()&&d.set(W,d.get(W)+V[W])}},b=0;b<o.length;b++)y();var g={betweenness:function(w){var E=s.collection(w).id();return d.get(E)},betweennessNormalized:function(w){if(c==0)return 0;var E=s.collection(w).id();return d.get(E)/c}};return g.betweennessNormalised=g.betweennessNormalized,g}};gv.bc=gv.betweennessCentrality;var mA=fr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),yA=function(e){return mA(e)},xA=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},bA=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},ow=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var s=0;s<r;s++)e[s*r+a]=e[s*r+a]/n}},wA=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var s=0;s<n;s++)a[i*n+s]=0;for(var o=0;o<n;o++)for(var u=0;u<n;u++)a[i*n+u]+=e[i*n+o]*r[o*n+u]}return a},SA=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=wA(e,a,r);return e},EA=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return ow(a,r),a},CA=function(e,r,n,a){for(var i=0;i<n;i++){var s=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),o=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(s!==o)return!1}return!0},kA=function(e,r,n,a){for(var i=[],s=0;s<r;s++){for(var o=[],u=0;u<r;u++)Math.round(e[s*r+u]*1e3)/1e3>0&&o.push(n[u]);o.length!==0&&i.push(a.collection(o))}return i},TA=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},NA=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&TA(e[r],e[n])&&e.splice(n,1);return e},ny=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=yA(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var u=r.length,l=u*u,c=new Array(l),d,f=0;f<l;f++)c[f]=0;for(var v=0;v<n.length;v++){var h=n[v],y=s[h.source().id()],b=s[h.target().id()],g=xA(h,i.attributes);c[y*u+b]+=g,c[b*u+y]+=g}bA(c,u,i.multFactor),ow(c,u);for(var p=!0,w=0;p&&w<i.maxIterations;)p=!1,d=SA(c,u,i.expandFactor),c=EA(d,u,i.inflateFactor),CA(c,d,l,4)||(p=!0),w++;var E=kA(c,u,r,a);return E=NA(E),E},AA={markovClustering:ny,mcl:ny},PA=function(e){return e},lw=function(e,r){return Math.abs(r-e)},ay=function(e,r,n){return e+lw(r,n)},iy=function(e,r,n){return e+Math.pow(n-r,2)},BA=function(e){return Math.sqrt(e)},DA=function(e,r,n){return Math.max(e,lw(r,n))},Zs=function(e,r,n,a,i){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:PA,o=a,u,l,c=0;c<e;c++)u=r(c),l=n(c),o=i(o,u,l);return s(o)},Es={euclidean:function(e,r,n){return e>=2?Zs(e,r,n,0,iy,BA):Zs(e,r,n,0,ay)},squaredEuclidean:function(e,r,n){return Zs(e,r,n,0,iy)},manhattan:function(e,r,n){return Zs(e,r,n,0,ay)},max:function(e,r,n){return Zs(e,r,n,-1/0,DA)}};Es["squared-euclidean"]=Es.squaredEuclidean;Es.squaredeuclidean=Es.squaredEuclidean;function zc(t,e,r,n,a,i){var s;return Bt(t)?s=t:s=Es[t]||Es.euclidean,e===0&&Bt(t)?s(a,i):s(e,r,n,a,i)}var RA=fr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Fp=function(e){return RA(e)},lc=function(e,r,n,a,i){var s=i!=="kMedoids",o=s?function(d){return n[d]}:function(d){return a[d](n)},u=function(f){return a[f](r)},l=n,c=r;return zc(e,a.length,o,u,l,c)},cf=function(e,r,n){for(var a=n.length,i=new Array(a),s=new Array(a),o=new Array(r),u=null,l=0;l<a;l++)i[l]=e.min(n[l]).value,s[l]=e.max(n[l]).value;for(var c=0;c<r;c++){u=[];for(var d=0;d<a;d++)u[d]=Math.random()*(s[d]-i[d])+i[d];o[c]=u}return o},uw=function(e,r,n,a,i){for(var s=1/0,o=0,u=0;u<r.length;u++){var l=lc(n,e,r[u],a,i);l<s&&(s=l,o=u)}return o},cw=function(e,r,n){for(var a=[],i=null,s=0;s<r.length;s++)i=r[s],n[i.id()]===e&&a.push(i);return a},LA=function(e,r,n){return Math.abs(r-e)<=n},_A=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var s=Math.abs(e[a][i]-r[a][i]);if(s>n)return!1}return!0},MA=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},sy=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];MA(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},oy=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=lc("manhattan",r[i],e,n,"kMedoids");return a},OA=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Fp(e),s=new Array(i.k),o={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=cf(n,i.k,i.attributes)):Qt(i.testCentroids)==="object"?u=i.testCentroids:u=cf(n,i.k,i.attributes):u=cf(n,i.k,i.attributes);for(var l=!0,c=0;l&&c<i.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],o[a.id()]=uw(a,u,i.distance,i.attributes,"kMeans");l=!1;for(var f=0;f<i.k;f++){var v=cw(f,n,o);if(v.length!==0){for(var h=i.attributes.length,y=u[f],b=new Array(h),g=new Array(h),p=0;p<h;p++){g[p]=0;for(var w=0;w<v.length;w++)a=v[w],g[p]+=i.attributes[p](a);b[p]=g[p]/v.length,LA(b[p],y[p],i.sensitivityThreshold)||(l=!0)}u[f]=b,s[f]=r.collection(v)}}c++}return s},IA=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Fp(e),s=new Array(i.k),o,u={},l,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Qt(i.testCentroids)==="object"?o=i.testCentroids:o=sy(n,i.k)):o=sy(n,i.k);for(var d=!0,f=0;d&&f<i.maxIterations;){for(var v=0;v<n.length;v++)a=n[v],u[a.id()]=uw(a,o,i.distance,i.attributes,"kMedoids");d=!1;for(var h=0;h<o.length;h++){var y=cw(h,n,u);if(y.length!==0){c[h]=oy(o[h],y,i.attributes);for(var b=0;b<y.length;b++)l=oy(y[b],y,i.attributes),l<c[h]&&(c[h]=l,o[h]=y[b],d=!0);s[h]=r.collection(y)}}f++}return s},jA=function(e,r,n,a,i){for(var s,o,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)a[u][l]=Math.pow(n[u][l],i.m);for(var c=0;c<e.length;c++)for(var d=0;d<i.attributes.length;d++){s=0,o=0;for(var f=0;f<r.length;f++)s+=a[f][c]*i.attributes[d](r[f]),o+=a[f][c];e[c][d]=s/o}},zA=function(e,r,n,a,i){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,u,l,c=2/(i.m-1),d=0;d<n.length;d++)for(var f=0;f<a.length;f++){o=0;for(var v=0;v<n.length;v++)u=lc(i.distance,a[f],n[d],i.attributes,"cmeans"),l=lc(i.distance,a[f],n[v],i.attributes,"cmeans"),o+=Math.pow(u/l,c);e[f][d]=1/o}},FA=function(e,r,n,a){for(var i=new Array(n.k),s=0;s<i.length;s++)i[s]=[];for(var o,u,l=0;l<r.length;l++){o=-1/0,u=-1;for(var c=0;c<r[0].length;c++)r[l][c]>o&&(o=r[l][c],u=c);i[u].push(e[l])}for(var d=0;d<i.length;d++)i[d]=a.collection(i[d]);return i},ly=function(e){var r=this.cy(),n=this.nodes(),a=Fp(e),i,s,o,u,l;u=new Array(n.length);for(var c=0;c<n.length;c++)u[c]=new Array(a.k);o=new Array(n.length);for(var d=0;d<n.length;d++)o[d]=new Array(a.k);for(var f=0;f<n.length;f++){for(var v=0,h=0;h<a.k;h++)o[f][h]=Math.random(),v+=o[f][h];for(var y=0;y<a.k;y++)o[f][y]=o[f][y]/v}s=new Array(a.k);for(var b=0;b<a.k;b++)s[b]=new Array(a.attributes.length);l=new Array(n.length);for(var g=0;g<n.length;g++)l[g]=new Array(a.k);for(var p=!0,w=0;p&&w<a.maxIterations;)p=!1,jA(s,n,o,l,a),zA(o,u,s,n,a),_A(o,u,a.sensitivityThreshold)||(p=!0),w++;return i=FA(n,o,a,r),{clusters:i,degreeOfMembership:o}},qA={kMeans:OA,kMedoids:IA,fuzzyCMeans:ly,fcm:ly},VA=fr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),WA={single:"min",complete:"max"},$A=function(e){var r=VA(e),n=WA[r.linkage];return n!=null&&(r.linkage=n),r},uy=function(e,r,n,a,i){for(var s=0,o=1/0,u,l=i.attributes,c=function(B,P){return zc(i.distance,l.length,function(D){return l[D](B)},function(D){return l[D](P)},B,P)},d=0;d<e.length;d++){var f=e[d].key,v=n[f][a[f]];v<o&&(s=f,o=v)}if(i.mode==="threshold"&&o>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var h=r[s],y=r[a[s]],b;i.mode==="dendrogram"?b={left:h,right:y,key:h.key}:b={value:h.value.concat(y.value),key:h.key},e[h.index]=b,e.splice(y.index,1),r[h.key]=b;for(var g=0;g<e.length;g++){var p=e[g];h.key===p.key?u=1/0:i.linkage==="min"?(u=n[h.key][p.key],n[h.key][p.key]>n[y.key][p.key]&&(u=n[y.key][p.key])):i.linkage==="max"?(u=n[h.key][p.key],n[h.key][p.key]<n[y.key][p.key]&&(u=n[y.key][p.key])):i.linkage==="mean"?u=(n[h.key][p.key]*h.size+n[y.key][p.key]*y.size)/(h.size+y.size):i.mode==="dendrogram"?u=c(p.value,h.value):u=c(p.value[0],h.value[0]),n[h.key][p.key]=n[p.key][h.key]=u}for(var w=0;w<e.length;w++){var E=e[w].key;if(a[E]===h.key||a[E]===y.key){for(var k=E,N=0;N<e.length;N++){var C=e[N].key;n[E][C]<n[E][k]&&(k=C)}a[E]=k}e[w].index=w}return h.key=y.key=h.index=y.index=null,!0},ts=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&ts(e.left,r),e.right&&ts(e.right,r)))},mv=function(e,r){if(!e)return"";if(e.left&&e.right){var n=mv(e.left,r),a=mv(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},yv=function(e,r,n){if(!e)return[];var a=[],i=[],s=[];return r===0?(e.left&&ts(e.left,a),e.right&&ts(e.right,i),s=a.concat(i),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&ts(e.left,a),e.right&&ts(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=yv(e.left,r-1,n)),e.right&&(i=yv(e.right,r-1,n)),a.concat(i))},cy=function(e){for(var r=this.cy(),n=this.nodes(),a=$A(e),i=a.attributes,s=function(w,E){return zc(a.distance,i.length,function(k){return i[k](w)},function(k){return i[k](E)},w,E)},o=[],u=[],l=[],c=[],d=0;d<n.length;d++){var f={value:a.mode==="dendrogram"?n[d]:[n[d]],key:d,index:d};o[d]=f,c[d]=f,u[d]=[],l[d]=0}for(var v=0;v<o.length;v++)for(var h=0;h<=v;h++){var y=void 0;a.mode==="dendrogram"?y=v===h?1/0:s(o[v].value,o[h].value):y=v===h?1/0:s(o[v].value[0],o[h].value[0]),u[v][h]=y,u[h][v]=y,y<u[v][l[v]]&&(l[v]=h)}for(var b=uy(o,c,u,l,a);b;)b=uy(o,c,u,l,a);var g;return a.mode==="dendrogram"?(g=yv(o[0],a.dendrogramDepth,r),a.addDendrogram&&mv(o[0],r)):(g=new Array(o.length),o.forEach(function(p,w){p.key=p.index=null,g[w]=r.collection(p.value)})),g},UA={hierarchicalClustering:cy,hca:cy},HA=fr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),GA=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||kt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||ge(n)||kt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),HA(e)},KA=function(e,r,n,a){var i=function(o,u){return a[u](o)};return-zc(e,a.length,function(s){return i(r,s)},function(s){return i(n,s)},r,n)},QA=function(e,r){var n=null;return r==="median"?n=GN(e):r==="mean"?n=HN(e):r==="min"?n=$N(e):r==="max"?n=UN(e):n=r,n},YA=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},dy=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var s=-1,o=-1/0,u=0;u<n.length;u++){var l=n[u];r[i*e+l]>o&&(s=l,o=r[i*e+l])}s>0&&a.push(s)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},XA=function(e,r,n){for(var a=dy(e,r,n),i=0;i<n.length;i++){for(var s=[],o=0;o<a.length;o++)a[o]===n[i]&&s.push(o);for(var u=-1,l=-1/0,c=0;c<s.length;c++){for(var d=0,f=0;f<s.length;f++)d+=r[s[f]*e+s[c]];d>l&&(u=c,l=d)}n[i]=s[u]}return a=dy(e,r,n),a},fy=function(e){for(var r=this.cy(),n=this.nodes(),a=GA(e),i={},s=0;s<n.length;s++)i[n[s].id()]=s;var o,u,l,c,d,f;o=n.length,u=o*o,l=new Array(u);for(var v=0;v<u;v++)l[v]=-1/0;for(var h=0;h<o;h++)for(var y=0;y<o;y++)h!==y&&(l[h*o+y]=KA(a.distance,n[h],n[y],a.attributes));c=QA(l,a.preference);for(var b=0;b<o;b++)l[b*o+b]=c;d=new Array(u);for(var g=0;g<u;g++)d[g]=0;f=new Array(u);for(var p=0;p<u;p++)f[p]=0;for(var w=new Array(o),E=new Array(o),k=new Array(o),N=0;N<o;N++)w[N]=0,E[N]=0,k[N]=0;for(var C=new Array(o*a.minIterations),A=0;A<C.length;A++)C[A]=0;var B;for(B=0;B<a.maxIterations;B++){for(var P=0;P<o;P++){for(var D=-1/0,M=-1/0,L=-1,I=0,z=0;z<o;z++)w[z]=d[P*o+z],I=f[P*o+z]+l[P*o+z],I>=D?(M=D,D=I,L=z):I>M&&(M=I);for(var F=0;F<o;F++)d[P*o+F]=(1-a.damping)*(l[P*o+F]-D)+a.damping*w[F];d[P*o+L]=(1-a.damping)*(l[P*o+L]-M)+a.damping*w[L]}for(var j=0;j<o;j++){for(var O=0,V=0;V<o;V++)w[V]=f[V*o+j],E[V]=Math.max(0,d[V*o+j]),O+=E[V];O-=E[j],E[j]=d[j*o+j],O+=E[j];for(var $=0;$<o;$++)f[$*o+j]=(1-a.damping)*Math.min(0,O-E[$])+a.damping*w[$];f[j*o+j]=(1-a.damping)*(O-E[j])+a.damping*w[j]}for(var W=0,H=0;H<o;H++){var ee=f[H*o+H]+d[H*o+H]>0?1:0;C[B%a.minIterations*o+H]=ee,W+=ee}if(W>0&&(B>=a.minIterations-1||B==a.maxIterations-1)){for(var re=0,te=0;te<o;te++){k[te]=0;for(var le=0;le<a.minIterations;le++)k[te]+=C[le*o+te];(k[te]===0||k[te]===a.minIterations)&&re++}if(re===o)break}}for(var fe=YA(o,d,f),me=XA(o,l,fe),ue={},G=0;G<fe.length;G++)ue[fe[G]]=[];for(var Q=0;Q<n.length;Q++){var X=i[n[Q].id()],ae=me[X];ae!=null&&ue[ae].push(n[Q])}for(var pe=new Array(fe.length),Te=0;Te<fe.length;Te++)pe[Te]=r.collection(ue[fe[Te]]);return pe},ZA={affinityPropagation:fy,ap:fy},JA=fr({root:void 0,directed:!1}),e5={hierholzer:function(e){if(!ot(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=JA(e),a=n.root,i=n.directed,s=this,o=!1,u,l,c;a&&(c=_e(a)?this.filter(a)[0].id():a[0].id());var d={},f={};i?s.forEach(function(p){var w=p.id();if(p.isNode()){var E=p.indegree(!0),k=p.outdegree(!0),N=E-k,C=k-E;N==1?u?o=!0:u=w:C==1?l?o=!0:l=w:(C>1||N>1)&&(o=!0),d[w]=[],p.outgoers().forEach(function(A){A.isEdge()&&d[w].push(A.id())})}else f[w]=[void 0,p.target().id()]}):s.forEach(function(p){var w=p.id();if(p.isNode()){var E=p.degree(!0);E%2&&(u?l?o=!0:l=w:u=w),d[w]=[],p.connectedEdges().forEach(function(k){return d[w].push(k.id())})}else f[w]=[p.source().id(),p.target().id()]});var v={found:!1,trail:void 0};if(o)return v;if(l&&u)if(i){if(c&&l!=c)return v;c=l}else{if(c&&l!=c&&u!=c)return v;c||(c=l)}else c||(c=s[0].id());var h=function(w){for(var E=w,k=[w],N,C,A;d[E].length;)N=d[E].shift(),C=f[N][0],A=f[N][1],E!=A?(d[A]=d[A].filter(function(B){return B!=N}),E=A):!i&&E!=C&&(d[C]=d[C].filter(function(B){return B!=N}),E=C),k.unshift(N),k.unshift(E);return k},y=[],b=[];for(b=h(c);b.length!=1;)d[b[0]].length==0?(y.unshift(s.getElementById(b.shift())),y.unshift(s.getElementById(b.shift()))):b=h(b.shift()).concat(b);y.unshift(s.getElementById(b.shift()));for(var g in d)if(d[g].length)return v;return v.found=!0,v.trail=this.spawn(y,!0),v}},Jl=function(){var e=this,r={},n=0,a=0,i=[],s=[],o={},u=function(f,v){for(var h=s.length-1,y=[],b=e.spawn();s[h].x!=f||s[h].y!=v;)y.push(s.pop().edge),h--;y.push(s.pop().edge),y.forEach(function(g){var p=g.connectedNodes().intersection(e);b.merge(g),p.forEach(function(w){var E=w.id(),k=w.connectedEdges().intersection(e);b.merge(w),r[E].cutVertex?b.merge(k.filter(function(N){return N.isLoop()})):b.merge(k)})}),i.push(b)},l=function(f,v,h){f===h&&(a+=1),r[v]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(v).connectedEdges().intersection(e);if(y.size()===0)i.push(e.spawn(e.getElementById(v)));else{var b,g,p,w;y.forEach(function(E){b=E.source().id(),g=E.target().id(),p=b===v?g:b,p!==h&&(w=E.id(),o[w]||(o[w]=!0,s.push({x:v,y:p,edge:E})),p in r?r[v].low=Math.min(r[v].low,r[p].id):(l(f,p,v),r[v].low=Math.min(r[v].low,r[p].low),r[v].id<=r[p].low&&(r[v].cutVertex=!0,u(v,p))))})}};e.forEach(function(d){if(d.isNode()){var f=d.id();f in r||(a=0,l(f,f),r[f].cutVertex=a>1)}});var c=Object.keys(r).filter(function(d){return r[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(c),components:i}},t5={hopcroftTarjanBiconnected:Jl,htbc:Jl,htb:Jl,hopcroftTarjanBiconnectedComponents:Jl},eu=function(){var e=this,r={},n=0,a=[],i=[],s=e.spawn(e),o=function(l){i.push(l),r[l]={index:n,low:n++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(y){var b=y.target().id();b!==l&&(b in r||o(b),r[b].explored||(r[l].low=Math.min(r[l].low,r[b].low)))}),r[l].index===r[l].low){for(var d=e.spawn();;){var f=i.pop();if(d.merge(e.getElementById(f)),r[f].low=r[l].index,r[f].explored=!0,f===l)break}var v=d.edgesWith(d),h=d.merge(v);a.push(h),s=s.difference(h)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||o(l)}}),{cut:s,components:a}},r5={tarjanStronglyConnected:eu,tsc:eu,tscc:eu,tarjanStronglyConnectedComponents:eu},dw={};[Uo,RN,LN,MN,IN,zN,VN,pA,cs,ds,gv,AA,qA,UA,ZA,e5,t5,r5].forEach(function(t){je(dw,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var fw=0,hw=1,vw=2,bn=function(e){if(!(this instanceof bn))return new bn(e);this.id="Thenable/1.0.7",this.state=fw,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};bn.prototype={fulfill:function(e){return hy(this,hw,"fulfillValue",e)},reject:function(e){return hy(this,vw,"rejectReason",e)},then:function(e,r){var n=this,a=new bn;return n.onFulfilled.push(py(e,a,"fulfill")),n.onRejected.push(py(r,a,"reject")),pw(n),a.proxy}};var hy=function(e,r,n,a){return e.state===fw&&(e.state=r,e[n]=a,pw(e)),e},pw=function(e){e.state===hw?vy(e,"onFulfilled",e.fulfillValue):e.state===vw&&vy(e,"onRejected",e.rejectReason)},vy=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var o=0;o<a.length;o++)a[o](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},py=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(s){r.reject(s);return}gw(r,i)}}},gw=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Qt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):gw(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};bn.all=function(t){return new bn(function(e,r){for(var n=new Array(t.length),a=0,i=function(u,l){n[u]=l,a++,a===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var u=t[o],l=u!=null&&u.then!=null;if(l)u.then(function(d){i(o,d)},function(d){r(d)});else{var c=u;i(o,c)}})(s)})};bn.resolve=function(t){return new bn(function(e,r){e(t)})};bn.reject=function(t){return new bn(function(e,r){r(t)})};var Ds=typeof Promise<"u"?Promise:bn,xv=function(e,r,n){var a=Bp(e),i=!a,s=this._private=je({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&Bt(s.complete)&&s.completes.push(s.complete),i){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(a){var u=e.pan();s.startPan={x:u.x,y:u.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},mi=xv.prototype;je(mi,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),$r(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,c){var d=e[l];d!=null&&(e[l]=e[c],e[c]=d)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],s=i.name,o=e.startStyle[s];e.startStyle[s]=i,e.style[a]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Ds(function(a,i){n.push(function(){a()})})}});mi.complete=mi.completed;mi.run=mi.play;mi.running=mi.playing;var n5={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var s=a[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var s=0;s<a.length;s++){var o=a[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this,u=!i,l=!u;if(!o.styleEnabled())return this;var c=o.style();r=je({},r,n);var d=Object.keys(r).length===0;if(d)return new xv(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var f=r.renderedPosition,v=o.pan(),h=o.zoom();r.position=tw(f,h,v)}if(u&&r.panBy!=null){var y=r.panBy,b=o.pan();r.pan={x:b.x+y.x,y:b.y+y.y}}var g=r.center||r.centre;if(u&&g!=null){var p=o.getCenterPan(g.eles,r.zoom);p!=null&&(r.pan=p)}if(u&&r.fit!=null){var w=r.fit,E=o.getFitViewport(w.eles||w.boundingBox,w.padding);E!=null&&(r.pan=E.pan,r.zoom=E.zoom)}if(u&&ot(r.zoom)){var k=o.getZoomedViewport(r.zoom);k!=null?(k.zoomed&&(r.zoom=k.zoom),k.panned&&(r.pan=k.pan)):r.zoom=null}return new xv(s[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=je({},r,n));for(var u=0;u<s.length;u++){var l=s[u],c=l.animated()&&(r.queue===void 0||r.queue),d=l.animation(r,c?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var u=0;u<s.length;u++){for(var l=s[u],c=l._private,d=c.animation.current,f=0;f<d.length;f++){var v=d[f],h=v._private;n&&(h.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return o.notify("draw"),this}}},df,gy;function Fc(){if(gy)return df;gy=1;var t=Array.isArray;return df=t,df}var ff,my;function a5(){if(my)return ff;my=1;var t=Fc(),e=fl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return ff=a,ff}var hf,yy;function i5(){if(yy)return hf;yy=1;var t=Hb(),e=dl(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var u=t(o);return u==n||u==a||u==r||u==i}return hf=s,hf}var vf,xy;function s5(){if(xy)return vf;xy=1;var t=Oc(),e=t["__core-js_shared__"];return vf=e,vf}var pf,by;function o5(){if(by)return pf;by=1;var t=s5(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return pf=r,pf}var gf,wy;function l5(){if(wy)return gf;wy=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return gf=r,gf}var mf,Sy;function u5(){if(Sy)return mf;Sy=1;var t=i5(),e=o5(),r=dl(),n=l5(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,l=o.hasOwnProperty,c=RegExp("^"+u.call(l).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!r(f)||e(f))return!1;var v=t(f)?c:i;return v.test(n(f))}return mf=d,mf}var yf,Ey;function c5(){if(Ey)return yf;Ey=1;function t(e,r){return e==null?void 0:e[r]}return yf=t,yf}var xf,Cy;function qp(){if(Cy)return xf;Cy=1;var t=u5(),e=c5();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return xf=r,xf}var bf,ky;function qc(){if(ky)return bf;ky=1;var t=qp(),e=t(Object,"create");return bf=e,bf}var wf,Ty;function d5(){if(Ty)return wf;Ty=1;var t=qc();function e(){this.__data__=t?t(null):{},this.size=0}return wf=e,wf}var Sf,Ny;function f5(){if(Ny)return Sf;Ny=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Sf=t,Sf}var Ef,Ay;function h5(){if(Ay)return Ef;Ay=1;var t=qc(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return n.call(s,i)?s[i]:void 0}return Ef=a,Ef}var Cf,Py;function v5(){if(Py)return Cf;Py=1;var t=qc(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Cf=n,Cf}var kf,By;function p5(){if(By)return kf;By=1;var t=qc(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return kf=r,kf}var Tf,Dy;function g5(){if(Dy)return Tf;Dy=1;var t=d5(),e=f5(),r=h5(),n=v5(),a=p5();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Tf=i,Tf}var Nf,Ry;function m5(){if(Ry)return Nf;Ry=1;function t(){this.__data__=[],this.size=0}return Nf=t,Nf}var Af,Ly;function mw(){if(Ly)return Af;Ly=1;function t(e,r){return e===r||e!==e&&r!==r}return Af=t,Af}var Pf,_y;function Vc(){if(_y)return Pf;_y=1;var t=mw();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Pf=e,Pf}var Bf,My;function y5(){if(My)return Bf;My=1;var t=Vc(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return Bf=n,Bf}var Df,Oy;function x5(){if(Oy)return Df;Oy=1;var t=Vc();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Df=e,Df}var Rf,Iy;function b5(){if(Iy)return Rf;Iy=1;var t=Vc();function e(r){return t(this.__data__,r)>-1}return Rf=e,Rf}var Lf,jy;function w5(){if(jy)return Lf;jy=1;var t=Vc();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Lf=e,Lf}var _f,zy;function S5(){if(zy)return _f;zy=1;var t=m5(),e=y5(),r=x5(),n=b5(),a=w5();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,_f=i,_f}var Mf,Fy;function E5(){if(Fy)return Mf;Fy=1;var t=qp(),e=Oc(),r=t(e,"Map");return Mf=r,Mf}var Of,qy;function C5(){if(qy)return Of;qy=1;var t=g5(),e=S5(),r=E5();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Of=n,Of}var If,Vy;function k5(){if(Vy)return If;Vy=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return If=t,If}var jf,Wy;function Wc(){if(Wy)return jf;Wy=1;var t=k5();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return jf=e,jf}var zf,$y;function T5(){if($y)return zf;$y=1;var t=Wc();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return zf=e,zf}var Ff,Uy;function N5(){if(Uy)return Ff;Uy=1;var t=Wc();function e(r){return t(this,r).get(r)}return Ff=e,Ff}var qf,Hy;function A5(){if(Hy)return qf;Hy=1;var t=Wc();function e(r){return t(this,r).has(r)}return qf=e,qf}var Vf,Gy;function P5(){if(Gy)return Vf;Gy=1;var t=Wc();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Vf=e,Vf}var Wf,Ky;function B5(){if(Ky)return Wf;Ky=1;var t=C5(),e=T5(),r=N5(),n=A5(),a=P5();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Wf=i,Wf}var $f,Qy;function D5(){if(Qy)return $f;Qy=1;var t=B5(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],u=i.cache;if(u.has(o))return u.get(o);var l=n.apply(this,s);return i.cache=u.set(o,l)||u,l};return i.cache=new(r.Cache||t),i}return r.Cache=t,$f=r,$f}var Uf,Yy;function R5(){if(Yy)return Uf;Yy=1;var t=D5(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Uf=r,Uf}var Hf,Xy;function yw(){if(Xy)return Hf;Xy=1;var t=R5(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,u,l){i.push(u?l.replace(r,"$1"):o||s)}),i});return Hf=n,Hf}var Gf,Zy;function xw(){if(Zy)return Gf;Zy=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Gf=t,Gf}var Kf,Jy;function L5(){if(Jy)return Kf;Jy=1;var t=Rp(),e=xw(),r=Fc(),n=fl(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return i?i.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return Kf=s,Kf}var Qf,e0;function bw(){if(e0)return Qf;e0=1;var t=L5();function e(r){return r==null?"":t(r)}return Qf=e,Qf}var Yf,t0;function ww(){if(t0)return Yf;t0=1;var t=Fc(),e=a5(),r=yw(),n=bw();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return Yf=a,Yf}var Xf,r0;function Vp(){if(r0)return Xf;r0=1;var t=fl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Xf=e,Xf}var Zf,n0;function _5(){if(n0)return Zf;n0=1;var t=ww(),e=Vp();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return Zf=r,Zf}var Jf,a0;function M5(){if(a0)return Jf;a0=1;var t=_5();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return Jf=e,Jf}var O5=M5(),I5=cl(O5),eh,i0;function j5(){if(i0)return eh;i0=1;var t=qp(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return eh=e,eh}var th,s0;function z5(){if(s0)return th;s0=1;var t=j5();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return th=e,th}var rh,o0;function F5(){if(o0)return rh;o0=1;var t=z5(),e=mw(),r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o){var u=i[s];(!(n.call(i,s)&&e(u,o))||o===void 0&&!(s in i))&&t(i,s,o)}return rh=a,rh}var nh,l0;function q5(){if(l0)return nh;l0=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return nh=r,nh}var ah,u0;function V5(){if(u0)return ah;u0=1;var t=F5(),e=ww(),r=q5(),n=dl(),a=Vp();function i(s,o,u,l){if(!n(s))return s;o=e(o,s);for(var c=-1,d=o.length,f=d-1,v=s;v!=null&&++c<d;){var h=a(o[c]),y=u;if(h==="__proto__"||h==="constructor"||h==="prototype")return s;if(c!=f){var b=v[h];y=l?l(b,h,v):void 0,y===void 0&&(y=n(b)?b:r(o[c+1])?[]:{})}t(v,h,y),v=v[h]}return s}return ah=i,ah}var ih,c0;function W5(){if(c0)return ih;c0=1;var t=V5();function e(r,n,a){return r==null?r:t(r,n,a)}return ih=e,ih}var $5=W5(),U5=cl($5),sh,d0;function H5(){if(d0)return sh;d0=1;function t(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}return sh=t,sh}var oh,f0;function G5(){if(f0)return oh;f0=1;var t=xw(),e=H5(),r=Fc(),n=fl(),a=yw(),i=Vp(),s=bw();function o(u){return r(u)?t(u,i):n(u)?[u]:e(a(s(u)))}return oh=o,oh}var K5=G5(),Q5=cl(K5),Y5={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=je({},r,e),function(a,i){var s=e,o=this,u=o.length!==void 0,l=u?o:[o],c=u?o[0]:o;if(_e(a)){var d=a.indexOf(".")!==-1,f=d&&Q5(a);if(s.allowGetting&&i===void 0){var v;return c&&(s.beforeGet(c),f&&c._private[s.field][a]===void 0?v=I5(c._private[s.field],f):v=c._private[s.field][a]),v}else if(s.allowSetting&&i!==void 0){var h=!s.immutableKeys[a];if(h){var y=Ob({},a,i);s.beforeSet(o,y);for(var b=0,g=l.length;b<g;b++){var p=l[b];s.canSet(p)&&(f&&c._private[s.field][a]===void 0?U5(p._private[s.field],f,i):p._private[s.field][a]=i)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&ot(a)){var w=a,E,k,N=Object.keys(w);s.beforeSet(o,w);for(var C=0;C<N.length;C++){E=N[C],k=w[E];var A=!s.immutableKeys[E];if(A)for(var B=0;B<l.length;B++){var P=l[B];s.canSet(P)&&(P._private[s.field][E]=k)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&Bt(a)){var D=a;o.on(s.bindingEvent,D)}else if(s.allowGetting&&a===void 0){var M;return c&&(s.beforeGet(c),M=c._private[s.field]),M}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=je({},r,e),function(a){var i=e,s=this,o=s.length!==void 0,u=o?s:[s];if(_e(a)){for(var l=a.split(/\s+/),c=l.length,d=0;d<c;d++){var f=l[d];if(!Ba(f)){var v=!i.immutableKeys[f];if(v)for(var h=0,y=u.length;h<y;h++)u[h]._private[i.field][f]=void 0}}i.triggerEvent&&s[i.triggerFnName](i.event)}else if(a===void 0){for(var b=0,g=u.length;b<g;b++)for(var p=u[b]._private[i.field],w=Object.keys(p),E=0;E<w.length;E++){var k=w[E],N=!i.immutableKeys[k];N&&(p[k]=void 0)}i.triggerEvent&&s[i.triggerFnName](i.event)}return s}}},X5={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,s=Array.prototype.slice.call(arguments,0);return new Ds(function(o,u){var l=function(v){i.off.apply(i,d),o(v)},c=s.concat([l]),d=c.concat([]);i.on.apply(i,c)})}}},ct={};[n5,Y5,X5].forEach(function(t){je(ct,t)});var Z5={animate:ct.animate(),animation:ct.animation(),animated:ct.animated(),clearQueue:ct.clearQueue(),delay:ct.delay(),delayAnimation:ct.delayAnimation(),stop:ct.stop()},Cu={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(h){return n.push(h)}),n}else gt(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new Bs(e),s=0;s<r.length;s++){for(var o=r[s],u=o._private,l=u.classes,c=!1,d=0;d<e.length;d++){var f=e[d],v=l.has(f);if(!v){c=!0;break}}c||(c=l.size!==e.length),c&&(u.classes=i,a.push(o))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){gt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],s=0,o=n.length;s<o;s++)for(var u=n[s],l=u._private.classes,c=!1,d=0;d<e.length;d++){var f=e[d],v=l.has(f),h=!1;r||a&&!v?(l.add(f),h=!0):(!r||a&&v)&&(l.delete(f),h=!0),!c&&h&&(i.push(u),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Cu.className=Cu.classNames=Cu.classes;var it={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Kt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};it.variable="(?:[\\w-.]|(?:\\\\"+it.metaChar+"))+";it.className="(?:[\\w-]|(?:\\\\"+it.metaChar+"))+";it.value=it.string+"|"+it.number;it.id=it.variable;(function(){var t,e,r;for(t=it.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],it.comparatorOp+="|@"+e;for(t=it.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(it.comparatorOp+="|\\!"+e)})();var pt=function(){return{checks:[]}},Ce={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},bv=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return YT(t.selector,e.selector)}),J5=function(){for(var t={},e,r=0;r<bv.length;r++)e=bv[r],t[e.selector]=e.matches;return t}(),eP=function(e,r){return J5[e](r)},tP="("+bv.map(function(t){return t.selector}).join("|")+")",Li=function(e){return e.replace(new RegExp("\\\\("+it.metaChar+")","g"),function(r,n){return n})},oa=function(e,r,n){e[e.length-1]=n},wv=[{name:"group",query:!0,regex:"("+it.group+")",populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:Ce.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:tP,populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:Ce.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+it.id+")",populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:Ce.ID,value:Li(i)})}},{name:"className",query:!0,regex:"\\.("+it.className+")",populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:Ce.CLASS,value:Li(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+it.variable+")\\s*\\]",populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:Ce.DATA_EXIST,field:Li(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+it.variable+")\\s*("+it.comparatorOp+")\\s*("+it.value+")\\s*\\]",populate:function(e,r,n){var a=Ft(n,3),i=a[0],s=a[1],o=a[2],u=new RegExp("^"+it.string+"$").exec(o)!=null;u?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:Ce.DATA_COMPARE,field:Li(i),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+it.boolOp+")\\s*("+it.variable+")\\s*\\]",populate:function(e,r,n){var a=Ft(n,2),i=a[0],s=a[1];r.checks.push({type:Ce.DATA_BOOL,field:Li(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+it.meta+")\\s*("+it.comparatorOp+")\\s*("+it.number+")\\s*\\]\\]",populate:function(e,r,n){var a=Ft(n,3),i=a[0],s=a[1],o=a[2];r.checks.push({type:Ce.META_COMPARE,field:Li(i),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:it.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=a,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=pt();return o}},{name:"directedEdge",separator:!0,regex:it.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=pt(),a=r,i=pt();return n.checks.push({type:Ce.DIRECTED_EDGE,source:a,target:i}),oa(e,r,n),e.edgeCount++,i}else{var s=pt(),o=r,u=pt();return s.checks.push({type:Ce.NODE_SOURCE,source:o,target:u}),oa(e,r,s),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:it.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=pt(),a=r,i=pt();return n.checks.push({type:Ce.UNDIRECTED_EDGE,nodes:[a,i]}),oa(e,r,n),e.edgeCount++,i}else{var s=pt(),o=r,u=pt();return s.checks.push({type:Ce.NODE_NEIGHBOR,node:o,neighbor:u}),oa(e,r,s),u}}},{name:"child",separator:!0,regex:it.child,populate:function(e,r){if(e.currentSubject==null){var n=pt(),a=pt(),i=e[e.length-1];return n.checks.push({type:Ce.CHILD,parent:i,child:a}),oa(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=pt(),o=e[e.length-1],u=pt(),l=pt(),c=pt(),d=pt();return s.checks.push({type:Ce.COMPOUND_SPLIT,left:o,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:Ce.TRUE}],d.checks.push({type:Ce.TRUE}),u.checks.push({type:Ce.PARENT,parent:d,child:c}),oa(e,o,s),e.currentSubject=l,e.compoundCount++,c}else{var f=pt(),v=pt(),h=[{type:Ce.PARENT,parent:f,child:v}];return f.checks=r.checks,r.checks=h,e.compoundCount++,v}}},{name:"descendant",separator:!0,regex:it.descendant,populate:function(e,r){if(e.currentSubject==null){var n=pt(),a=pt(),i=e[e.length-1];return n.checks.push({type:Ce.DESCENDANT,ancestor:i,descendant:a}),oa(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=pt(),o=e[e.length-1],u=pt(),l=pt(),c=pt(),d=pt();return s.checks.push({type:Ce.COMPOUND_SPLIT,left:o,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:Ce.TRUE}],d.checks.push({type:Ce.TRUE}),u.checks.push({type:Ce.ANCESTOR,ancestor:d,descendant:c}),oa(e,o,s),e.currentSubject=l,e.compoundCount++,c}else{var f=pt(),v=pt(),h=[{type:Ce.ANCESTOR,ancestor:f,descendant:v}];return f.checks=r.checks,r.checks=h,e.compoundCount++,v}}},{name:"subject",modifier:!0,regex:it.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return dt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===Ce.DIRECTED_EDGE?a.type=Ce.NODE_TARGET:i===Ce.UNDIRECTED_EDGE&&(a.type=Ce.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];wv.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var rP=function(e){for(var r,n,a,i=0;i<wv.length;i++){var s=wv[i],o=s.name,u=e.match(s.regexObj);if(u!=null){n=u,r=s,a=o;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:e}},nP=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},aP=function(e){var r=this,n=r.inputText=e,a=r[0]=pt();for(r.length=1,n=nP(n);;){var i=rP(n);if(i.expr==null)return dt("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),o=i.expr.populate(r,a,s);if(o===!1)return!1;if(o!=null&&(a=o),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var c=r[l];if(c.compoundCount>0&&c.edgeCount>0)return dt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return dt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&dt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},iP=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return _e(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,d){var f=c.type,v=c.value;switch(f){case Ce.GROUP:{var h=e(v);return h.substring(0,h.length-1)}case Ce.DATA_COMPARE:{var y=c.field,b=c.operator;return"["+y+n(e(b))+r(v)+"]"}case Ce.DATA_BOOL:{var g=c.operator,p=c.field;return"["+e(g)+p+"]"}case Ce.DATA_EXIST:{var w=c.field;return"["+w+"]"}case Ce.META_COMPARE:{var E=c.operator,k=c.field;return"[["+k+n(e(E))+r(v)+"]]"}case Ce.STATE:return v;case Ce.ID:return"#"+v;case Ce.CLASS:return"."+v;case Ce.PARENT:case Ce.CHILD:return i(c.parent,d)+n(">")+i(c.child,d);case Ce.ANCESTOR:case Ce.DESCENDANT:return i(c.ancestor,d)+" "+i(c.descendant,d);case Ce.COMPOUND_SPLIT:{var N=i(c.left,d),C=i(c.subject,d),A=i(c.right,d);return N+(N.length>0?" ":"")+C+A}case Ce.TRUE:return""}},i=function(c,d){return c.checks.reduce(function(f,v,h){return f+(d===c&&h===0?"$":"")+a(v,d)},"")},s="",o=0;o<this.length;o++){var u=this[o];s+=i(u,u.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},sP={parse:aP,toString:iP},Sw=function(e,r,n){var a,i=_e(e),s=ge(e),o=_e(n),u,l,c=!1,d=!1,f=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),d=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||o||c)&&(u=!i&&!s?"":""+e,l=""+n),c&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=e===n;break;case">":f=!0,a=e>n;break;case">=":f=!0,a=e>=n;break;case"<":f=!0,a=e<n;break;case"<=":f=!0,a=e<=n;break;default:a=!1;break}return d&&(e!=null||!f)&&(a=!a),a},oP=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},lP=function(e){return e!==void 0},Wp=function(e,r){return e.data(r)},uP=function(e,r){return e[r]()},Mt=[],Et=function(e,r){return e.checks.every(function(n){return Mt[n.type](n,r)})};Mt[Ce.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Mt[Ce.STATE]=function(t,e){var r=t.value;return eP(r,e)};Mt[Ce.ID]=function(t,e){var r=t.value;return e.id()===r};Mt[Ce.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Mt[Ce.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Sw(uP(e,r),n,a)};Mt[Ce.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Sw(Wp(e,r),n,a)};Mt[Ce.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return oP(Wp(e,r),n)};Mt[Ce.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,lP(Wp(e,r))};Mt[Ce.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return Et(r,a)&&Et(n,i)||Et(n,a)&&Et(r,i)};Mt[Ce.NODE_NEIGHBOR]=function(t,e){return Et(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Et(t.neighbor,r)})};Mt[Ce.DIRECTED_EDGE]=function(t,e){return Et(t.source,e.source())&&Et(t.target,e.target())};Mt[Ce.NODE_SOURCE]=function(t,e){return Et(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Et(t.target,r)})};Mt[Ce.NODE_TARGET]=function(t,e){return Et(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Et(t.source,r)})};Mt[Ce.CHILD]=function(t,e){return Et(t.child,e)&&Et(t.parent,e.parent())};Mt[Ce.PARENT]=function(t,e){return Et(t.parent,e)&&e.children().some(function(r){return Et(t.child,r)})};Mt[Ce.DESCENDANT]=function(t,e){return Et(t.descendant,e)&&e.ancestors().some(function(r){return Et(t.ancestor,r)})};Mt[Ce.ANCESTOR]=function(t,e){return Et(t.ancestor,e)&&e.descendants().some(function(r){return Et(t.descendant,r)})};Mt[Ce.COMPOUND_SPLIT]=function(t,e){return Et(t.subject,e)&&Et(t.left,e)&&Et(t.right,e)};Mt[Ce.TRUE]=function(){return!0};Mt[Ce.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Mt[Ce.FILTER]=function(t,e){var r=t.value;return r(e)};var cP=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Ce.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var s=0;s<r.length;s++){var o=r[s];if(Et(o,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},dP=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Et(a,e))return!0}return!1},fP={matches:dP,filter:cP},La=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||_e(e)&&e.match(/^\s*$/)||($r(e)?this.addQuery({checks:[{type:Ce.COLLECTION,value:e.collection()}]}):Bt(e)?this.addQuery({checks:[{type:Ce.FILTER,value:e}]}):_e(e)?this.parse(e)||(this.invalid=!0):kt("A selector must be created from a string; found "))},_a=La.prototype;[sP,fP].forEach(function(t){return je(_a,t)});_a.text=function(){return this.inputText};_a.size=function(){return this.length};_a.eq=function(t){return this[t]};_a.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};_a.addQuery=function(t){this[this.length++]=t};_a.selector=_a.toString;var Ta={allAre:function(e){var r=new La(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new La(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Ta.allAreNeighbours=Ta.allAreNeighbors;Ta.has=Ta.contains;Ta.equal=Ta.equals=Ta.same;var rn=function(e,r){return function(a,i,s,o){var u=a,l=this,c;if(u==null?c="":$r(u)&&u.length===1&&(c=u.id()),l.length===1&&c){var d=l[0]._private,f=d.traversalCache=d.traversalCache||{},v=f[r]=f[r]||[],h=pi(c),y=v[h];return y||(v[h]=e.call(l,a,i,s,o))}else return e.call(l,a,i,s,o)}},Cs={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],s=i._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:rn(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var s=a[i];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function $p(t,e,r,n){for(var a=[],i=new Bs,s=t.cy(),o=s.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?a.push(l):o&&n(a,i,l)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),o&&n(a,i,c)}return t}function Ew(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}Cs.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $p(this,t,e,Ew)};function Cw(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Cs.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $p(this,t,e,Cw)};function hP(t,e,r){Cw(t,e,r),Ew(t,e,r)}Cs.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return $p(this,t,e,hP)};Cs.ancestors=Cs.parents;var Ko,kw;Ko=kw={data:ct.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ct.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ct.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ct.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ct.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ct.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Ko.attr=Ko.data;Ko.removeAttr=Ko.removeData;var vP=kw,$c={};function lh(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,s=0;s<i.length;s++){var o=i[s];!e&&o.isLoop()||(n+=t(a,o))}return n}else return}}je($c,{degree:lh(function(t,e){return e.source().same(e.target())?2:1}),indegree:lh(function(t,e){return e.target().same(t)?1:0}),outdegree:lh(function(t,e){return e.source().same(t)?1:0})});function _i(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var s=a[i],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}je($c,{minDegree:_i("degree",function(t,e){return t<e}),maxDegree:_i("degree",function(t,e){return t>e}),minIndegree:_i("indegree",function(t,e){return t<e}),maxIndegree:_i("indegree",function(t,e){return t>e}),minOutdegree:_i("outdegree",function(t,e){return t<e}),maxOutdegree:_i("outdegree",function(t,e){return t>e})});je($c,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var yn,Tw,Nw=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var s=i._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};i.isParent()&&!(o.x===0&&o.y===0)&&i.children().shift(o,n),i.dirtyBoundingBoxCache()}}},h0={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Nw(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};yn=Tw={position:ct.data(h0),silentPosition:ct.data(je({},h0,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Nw(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(ot(e))r?this.silentPosition(e):this.position(e);else if(Bt(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var s=this[i],o=void 0;(o=n(s,i))&&(r?s.silentPosition(o):s.position(o))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(ot(e)?(a={x:ge(e.x)?e.x:0,y:ge(e.y)?e.y:0},n=r):_e(e)&&ge(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var u=o.position(),l={x:u.x+a.x,y:u.y+a.y};n?o.silentPosition(l):o.position(l)}}i.endBatch()}return this},silentShift:function(e,r){return ot(e)?this.shift(e,!0):_e(e)&&ge(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),s=a.pan(),o=ot(e)?e:void 0,u=o!==void 0||r!==void 0&&_e(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var c=this[l];r!==void 0?c.position(e,(r-s[e])/i):o!==void 0&&c.position(tw(o,i,s))}else{var d=n.position();return o=jc(d,i,s),e===void 0?o:o[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=ot(e)?e:void 0,s=i!==void 0||r!==void 0&&_e(e),o=a.hasCompoundNodes();if(n&&n.isNode())if(s)for(var u=0;u<this.length;u++){var l=this[u],c=o?l.parent():null,d=c&&c.length>0,f=d;d&&(c=c[0]);var v=f?c.position():{x:0,y:0};r!==void 0?l.position(e,r+v[e]):i!==void 0&&l.position({x:i.x+v.x,y:i.y+v.y})}else{var h=n.position(),y=o?n.parent():null,b=y&&y.length>0,g=b;b&&(y=y[0]);var p=g?y.position():{x:0,y:0};return i={x:h.x-p.x,y:h.y-p.y},e===void 0?i:i[e]}else if(!s)return;return this}};yn.modelPosition=yn.point=yn.position;yn.modelPositions=yn.points=yn.positions;yn.renderedPoint=yn.renderedPosition;yn.relativePoint=yn.relativePosition;var pP=Tw,fs,Va;fs=Va={};Va.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,s=e.x2*n+a.x,o=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:i,x2:s,y1:o,y2:u,w:s-i,h:u-o}};Va.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Va.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,u=s.children(),l=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},d=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),f=o.position;(d.w===0||d.h===0)&&(d={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},d.x1=f.x-d.w/2,d.x2=f.x+d.w/2,d.y1=f.y-d.h/2,d.y2=f.y+d.h/2);function v(B,P,D){var M=0,L=0,I=P+D;return B>0&&I>0&&(M=P/I*B,L=D/I*B),{biasDiff:M,biasComplementDiff:L}}function h(B,P,D,M){if(D.units==="%")switch(M){case"width":return B>0?D.pfValue*B:0;case"height":return P>0?D.pfValue*P:0;case"average":return B>0&&P>0?D.pfValue*(B+P)/2:0;case"min":return B>0&&P>0?B>P?D.pfValue*P:D.pfValue*B:0;case"max":return B>0&&P>0?B>P?D.pfValue*B:D.pfValue*P:0;default:return 0}else return D.units==="px"?D.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var b=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(b=b*100/c.width.val);var g=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var p=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(p=p*100/c.height.val);var w=v(c.width.val-d.w,y,b),E=w.biasDiff,k=w.biasComplementDiff,N=v(c.height.val-d.h,g,p),C=N.biasDiff,A=N.biasComplementDiff;o.autoPadding=h(d.w,d.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(d.w,c.width.val),f.x=(-E+d.x1+d.x2+k)/2,o.autoHeight=Math.max(d.h,c.height.val),f.y=(-C+d.y1+d.y2+A)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var en=function(e){return e===1/0||e===-1/0?0:e},vn=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ca=function(e,r){return r==null?e:vn(e,r.x1,r.y1,r.x2,r.y2)},Js=function(e,r,n){return Lr(e,r,n)},tu=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,s=i.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,u,l;if(o!=="none"){n==="source"?(u=i.srcX,l=i.srcY):n==="target"?(u=i.tgtX,l=i.tgtY):(u=i.midX,l=i.midY);var c=a.arrowBounds=a.arrowBounds||{},d=c[n]=c[n]||{};d.x1=u-s,d.y1=l-s,d.x2=u+s,d.y2=l+s,d.w=d.x2-d.x1,d.h=d.y2-d.y1,Su(d,1),vn(e,d.x1,d.y1,d.x2,d.y2)}}},uh=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,s=i.rstyle,o=r.pstyle(a+"label").strValue;if(o){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),c=Js(s,"labelWidth",n),d=Js(s,"labelHeight",n),f=Js(s,"labelX",n),v=Js(s,"labelY",n),h=r.pstyle(a+"text-margin-x").pfValue,y=r.pstyle(a+"text-margin-y").pfValue,b=r.isEdge(),g=r.pstyle(a+"text-rotation"),p=r.pstyle("text-outline-width").pfValue,w=r.pstyle("text-border-width").pfValue,E=w/2,k=r.pstyle("text-background-padding").pfValue,N=2,C=d,A=c,B=A/2,P=C/2,D,M,L,I;if(b)D=f-B,M=f+B,L=v-P,I=v+P;else{switch(u.value){case"left":D=f-A,M=f;break;case"center":D=f-B,M=f+B;break;case"right":D=f,M=f+A;break}switch(l.value){case"top":L=v-C,I=v;break;case"center":L=v-P,I=v+P;break;case"bottom":L=v,I=v+C;break}}var z=h-Math.max(p,E)-k-N,F=h+Math.max(p,E)+k+N,j=y-Math.max(p,E)-k-N,O=y+Math.max(p,E)+k+N;D+=z,M+=F,L+=j,I+=O;var V=n||"main",$=i.labelBounds,W=$[V]=$[V]||{};W.x1=D,W.y1=L,W.x2=M,W.y2=I,W.w=M-D,W.h=I-L,W.leftPad=z,W.rightPad=F,W.topPad=j,W.botPad=O;var H=b&&g.strValue==="autorotate",ee=g.pfValue!=null&&g.pfValue!==0;if(H||ee){var re=H?Js(i.rstyle,"labelAngle",n):g.pfValue,te=Math.cos(re),le=Math.sin(re),fe=(D+M)/2,me=(L+I)/2;if(!b){switch(u.value){case"left":fe=M;break;case"right":fe=D;break}switch(l.value){case"top":me=I;break;case"bottom":me=L;break}}var ue=function($e,Ie){return $e=$e-fe,Ie=Ie-me,{x:$e*te-Ie*le+fe,y:$e*le+Ie*te+me}},G=ue(D,L),Q=ue(D,I),X=ue(M,L),ae=ue(M,I);D=Math.min(G.x,Q.x,X.x,ae.x),M=Math.max(G.x,Q.x,X.x,ae.x),L=Math.min(G.y,Q.y,X.y,ae.y),I=Math.max(G.y,Q.y,X.y,ae.y)}var pe=V+"Rot",Te=$[pe]=$[pe]||{};Te.x1=D,Te.y1=L,Te.x2=M,Te.y2=I,Te.w=M-D,Te.h=I-L,vn(e,D,L,M,I),vn(i.labelBounds.all,D,L,M,I)}return e}},v0=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value,i=r.pstyle("outline-offset").value,s=a+i;Aw(e,r,n,s,"outside",s/2)}},Aw=function(e,r,n,a,i,s){if(!(n===0||a<=0||i==="inside")){var o=r.cy(),u=r.pstyle("shape").value,l=o.renderer().nodeShapes[u],c=r.position(),d=c.x,f=c.y,v=r.width(),h=r.height();if(l.hasMiterBounds){i==="center"&&(a/=2);var y=l.miterBounds(d,f,v,h,a);ca(e,y)}else s!=null&&s>0&&Eu(e,[s,s,s,s])}},gP=function(e,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,a=r.pstyle("border-width").pfValue,i=r.pstyle("border-position").value;Aw(e,r,n,a,i)}},mP=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),s=kr(),o=e._private,u=e.isNode(),l=e.isEdge(),c,d,f,v,h,y,b=o.rstyle,g=u&&a?e.pstyle("bounds-expansion").pfValue:[0],p=function(Be){return Be.pstyle("display").value!=="none"},w=!a||p(e)&&(!l||p(e.source())&&p(e.target()));if(w){var E=0,k=0;a&&r.includeOverlays&&(E=e.pstyle("overlay-opacity").value,E!==0&&(k=e.pstyle("overlay-padding").value));var N=0,C=0;a&&r.includeUnderlays&&(N=e.pstyle("underlay-opacity").value,N!==0&&(C=e.pstyle("underlay-padding").value));var A=Math.max(k,C),B=0,P=0;if(a&&(B=e.pstyle("width").pfValue,P=B/2),u&&r.includeNodes){var D=e.position();h=D.x,y=D.y;var M=e.outerWidth(),L=M/2,I=e.outerHeight(),z=I/2;c=h-L,d=h+L,f=y-z,v=y+z,vn(s,c,f,d,v),a&&v0(s,e),a&&r.includeOutlines&&!i&&v0(s,e),a&&gP(s,e)}else if(l&&r.includeEdges)if(a&&!i){var F=e.pstyle("curve-style").strValue;if(c=Math.min(b.srcX,b.midX,b.tgtX),d=Math.max(b.srcX,b.midX,b.tgtX),f=Math.min(b.srcY,b.midY,b.tgtY),v=Math.max(b.srcY,b.midY,b.tgtY),c-=P,d+=P,f-=P,v+=P,vn(s,c,f,d,v),F==="haystack"){var j=b.haystackPts;if(j&&j.length===2){if(c=j[0].x,f=j[0].y,d=j[1].x,v=j[1].y,c>d){var O=c;c=d,d=O}if(f>v){var V=f;f=v,v=V}vn(s,c-P,f-P,d+P,v+P)}}else if(F==="bezier"||F==="unbundled-bezier"||pa(F,"segments")||pa(F,"taxi")){var $;switch(F){case"bezier":case"unbundled-bezier":$=b.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":$=b.linePts;break}if($!=null)for(var W=0;W<$.length;W++){var H=$[W];c=H.x-P,d=H.x+P,f=H.y-P,v=H.y+P,vn(s,c,f,d,v)}}}else{var ee=e.source(),re=ee.position(),te=e.target(),le=te.position();if(c=re.x,d=le.x,f=re.y,v=le.y,c>d){var fe=c;c=d,d=fe}if(f>v){var me=f;f=v,v=me}c-=P,d+=P,f-=P,v+=P,vn(s,c,f,d,v)}if(a&&r.includeEdges&&l&&(tu(s,e,"mid-source"),tu(s,e,"mid-target"),tu(s,e,"source"),tu(s,e,"target")),a){var ue=e.pstyle("ghost").value==="yes";if(ue){var G=e.pstyle("ghost-offset-x").pfValue,Q=e.pstyle("ghost-offset-y").pfValue;vn(s,s.x1+G,s.y1+Q,s.x2+G,s.y2+Q)}}var X=o.bodyBounds=o.bodyBounds||{};Jm(X,s),Eu(X,g),Su(X,1),a&&(c=s.x1,d=s.x2,f=s.y1,v=s.y2,vn(s,c-A,f-A,d+A,v+A));var ae=o.overlayBounds=o.overlayBounds||{};Jm(ae,s),Eu(ae,g),Su(ae,1);var pe=o.labelBounds=o.labelBounds||{};pe.all!=null?ZN(pe.all):pe.all=kr(),a&&r.includeLabels&&(r.includeMainLabels&&uh(s,e,null),l&&(r.includeSourceLabels&&uh(s,e,"source"),r.includeTargetLabels&&uh(s,e,"target")))}return s.x1=en(s.x1),s.y1=en(s.y1),s.x2=en(s.x2),s.y2=en(s.y2),s.w=en(s.x2-s.x1),s.h=en(s.y2-s.y1),s.w>0&&s.h>0&&w&&(Eu(s,g),Su(s,1)),s},Pw=function(e){var r=0,n=function(s){return(s?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},Bw=function(e){var r=function(o){return Math.round(o)};if(e.isEdge()){var n=e.source().position(),a=e.target().position();return Gm([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=e.position();return Gm([r(i.x),r(i.y)])}},p0=function(e,r){var n=e._private,a,i=e.isEdge(),s=r==null?g0:Pw(r),o=s===g0;if(n.bbCache==null?(a=mP(e,Qo),n.bbCache=a,n.bbCachePosKey=Bw(e)):a=n.bbCache,!o){var u=e.isNode();a=kr(),(r.includeNodes&&u||r.includeEdges&&!u)&&(r.includeOverlays?ca(a,n.overlayBounds):ca(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?ca(a,n.labelBounds.all):(r.includeMainLabels&&ca(a,n.labelBounds.mainRot),r.includeSourceLabels&&ca(a,n.labelBounds.sourceRot),r.includeTargetLabels&&ca(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Qo={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},g0=Pw(Qo),m0=fr(Qo);Va.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=Ss(function(c){var d=c._private;return d.bbCache==null||d.styleDirty||d.bbCachePosKey!==Bw(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=Qo:t=m0(t),e=p0(this[0],t);else{e=kr(),t=t||Qo;var a=m0(t),i=this,s=i.cy(),o=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var u=0;u<i.length;u++){var l=i[u];n(l)&&l.dirtyBoundingBoxCache(),ca(e,p0(l,a))}}return e.x1=en(e.x1),e.y1=en(e.y1),e.x2=en(e.x2),e.y2=en(e.y2),e.w=en(e.x2-e.x1),e.h=en(e.y2-e.y1),e};Va.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Va.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(l){return l.isParent()}),e=e.not(a)),ot(t)){var i=t;t=function(){return i}}var s=function(c,d){return c._private.bbAtOldPos=t(c,d)},o=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=XN(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};fs.boundingbox=fs.bb=fs.boundingBox;fs.renderedBoundingbox=fs.renderedBoundingBox;var yP=Va,co,pl;co=pl={};var Dw=function(e){e.uppercaseName=Rm(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Rm(e.outerName),co[e.name]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},co["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){var o=n[e.name](),u=n.pstyle("border-position").value,l;u==="center"?l=n.pstyle("border-width").pfValue:u==="outside"?l=2*n.pstyle("border-width").pfValue:l=0;var c=2*n.padding();return o+l+c}else return 1},co["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},co["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};Dw({name:"width"});Dw({name:"height"});pl.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};pl.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};pl.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var xP=pl,bP=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},wP=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return jc(r(e),n.zoom(),n.pan())}},SP=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(s){return jc(s,i,a)})}},EP=function(e){return e.renderer().getControlPoints(e)},CP=function(e){return e.renderer().getSegmentPoints(e)},kP=function(e){return e.renderer().getSourceEndpoint(e)},TP=function(e){return e.renderer().getTargetEndpoint(e)},NP=function(e){return e.renderer().getEdgeMidpoint(e)},y0={controlPoints:{get:EP,mult:!0},segmentPoints:{get:CP,mult:!0},sourceEndpoint:{get:kP},targetEndpoint:{get:TP},midpoint:{get:NP}},AP=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},PP=Object.keys(y0).reduce(function(t,e){var r=y0[e],n=AP(e);return t[e]=function(){return bP(this,r.get)},r.mult?t[n]=function(){return SP(this,r.get)}:t[n]=function(){return wP(this,r.get)},t},{}),BP=je({},pP,yP,xP,PP);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Rw=function(e,r){this.recycle(e,r)};function eo(){return!1}function ru(){return!0}Rw.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=eo,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?ru:eo):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ru;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ru;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ru,this.stopPropagation()},isDefaultPrevented:eo,isPropagationStopped:eo,isImmediatePropagationStopped:eo};var Lw=/^([^.]+)(\.(?:[^.]+))?$/,DP=".*",_w={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},x0=Object.keys(_w),RP={};function Uc(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:RP,e=arguments.length>1?arguments[1]:void 0,r=0;r<x0.length;r++){var n=x0[r];this[n]=t[n]||_w[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Ma=Uc.prototype,Mw=function(e,r,n,a,i,s,o){Bt(a)&&(i=a,a=null),o&&(s==null?s=o:s=je({},s,o));for(var u=gt(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var c=u[l];if(!Ba(c)){var d=c.match(Lw);if(d){var f=d[1],v=d[2]?d[2]:null,h=r(e,c,f,v,a,i,s);if(h===!1)break}}}},b0=function(e,r){return e.addEventFields(e.context,r),new Rw(r.type,r)},LP=function(e,r,n){if(zT(n)){r(e,n);return}else if(ot(n)){r(e,b0(e,n));return}for(var a=gt(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var s=a[i];if(!Ba(s)){var o=s.match(Lw);if(o){var u=o[1],l=o[2]?o[2]:null,c=b0(e,{type:u,namespace:l,target:e.context});r(e,c)}}}};Ma.on=Ma.addListener=function(t,e,r,n,a){return Mw(this,function(i,s,o,u,l,c,d){Bt(c)&&i.listeners.push({event:s,callback:c,type:o,namespace:u,qualifier:l,conf:d})},t,e,r,n,a),this};Ma.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Ma.removeListener=Ma.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=wN(this.listeners));for(var i=this.listeners,s=function(l){var c=i[l];Mw(a,function(d,f,v,h,y,b){if((c.type===v||t==="*")&&(!h&&c.namespace!==".*"||c.namespace===h)&&(!y||d.qualifierCompare(c.qualifier,y))&&(!b||c.callback===b))return i.splice(l,1),!1},t,e,r,n)},o=i.length-1;o>=0;o--)s(o);return this};Ma.removeAllListeners=function(){return this.removeListener("*")};Ma.emit=Ma.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,gt(e)||(e=[e]),LP(this,function(i,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],a=n.length);for(var o=function(){var c=n[u];if(c.type===s.type&&(!c.namespace||c.namespace===s.namespace||c.namespace===DP)&&i.eventMatches(i.context,c,s)){var d=[s];e!=null&&EN(d,e),i.beforeEmit(i.context,c,s),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(h){return h!==c}));var f=i.callbackContext(i.context,c,s),v=c.callback.apply(f,d);i.afterEmit(i.context,c,s),v===!1&&(s.stopPropagation(),s.preventDefault())}},u=0;u<a;u++)o();i.bubble(i.context)&&!s.isPropagationStopped()&&i.parent(i.context).emit(s,e)},t),this.emitting--,this};var _P={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&ul(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},nu=function(e){return _e(e)?new La(e):e},Ow={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Uc(_P,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=nu(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=nu(r),i=0;i<this.length;i++){var s=this[i];s.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=nu(r),i=0;i<this.length;i++){var s=this[i];s.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=nu(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ct.eventAliasesOn(Ow);var Iw={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(_e(e)||$r(e))return new La(e).filter(this);if(Bt(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){_e(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(_e(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,s=this.length<e.length,o=s?a:i,u=s?i:a,l=0;l<o.length;l++){var c=o[l];u.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;_e(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,s=function(u,l){for(var c=0;c<u.length;c++){var d=u[c],f=d._private.data.id,v=l.hasElementWithId(f);v||n.push(d)}};return s(a,i),s(i,a),n},diff:function(e){var r=this._private.cy;_e(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),s=this,o=e,u=function(c,d,f){for(var v=0;v<c.length;v++){var h=c[v],y=h._private.data.id,b=d.hasElementWithId(y);b?i.merge(h):f.push(h)}};return u(s,o,n),u(o,s,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(_e(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],o=!this.has(s);o&&a.push(s)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&_e(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,s=0;s<e.length;s++){var o=e[s],u=o._private.data.id,l=!i.has(u);if(l){var c=this.length++;this[c]=o,i.set(u,{ele:o,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,u=this[o],l=u._private.data.id;this[o]=void 0,this[e]=u,i.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var s=i.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&_e(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);n.push(o)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],u=r?e.apply(r,[o,s,i]):e(o,s,i);u>n&&(n=u,a=o)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],u=r?e.apply(r,[o,s,i]):e(o,s,i);u<n&&(n=u,a=o)}return{value:n,ele:a}}},lt=Iw;lt.u=lt["|"]=lt["+"]=lt.union=lt.or=lt.add;lt["\\"]=lt["!"]=lt["-"]=lt.difference=lt.relativeComplement=lt.subtract=lt.not;lt.n=lt["&"]=lt["."]=lt.and=lt.intersection=lt.intersect;lt["^"]=lt["(+)"]=lt["(-)"]=lt.symmetricDifference=lt.symdiff=lt.xor;lt.fnFilter=lt.filterFn=lt.stdFilter=lt.filter;lt.complement=lt.abscomp=lt.absoluteComplement;var MP={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},jw=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var d=c.pstyle("z-compound-depth");return d.value==="auto"?a?c.zDepth():0:d.value==="bottom"?-1:d.value==="top"?Lp:0}var s=i(e)-i(r);if(s!==0)return s;function o(c){var d=c.pstyle("z-index-compare");return d.value==="auto"&&c.isNode()?1:0}var u=o(e)-o(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},uc={forEach:function(e,r){if(Bt(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],s=r?e.apply(r,[i,a,this]):e(i,a,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Bt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(jw)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:Lp-1}else{var i=r.source,s=r.target,o=i.zDepth(),u=s.zDepth();return Math.max(o,u,0)}}}};uc.each=uc.forEach;var OP=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Qt(Symbol))!=e&&Qt(Symbol.iterator)!=e;r&&(uc[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,s=this.length;return Ob({next:function(){return i<s?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};OP();var IP=fr({nodeDimensionsIncludeLabels:!1}),ku={layoutDimensions:function(e){e=IP(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(k){return!k.isParent()}),i=this.cy(),s=r.eles,o=function(N){return N.id()},u=Ss(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(N,C,A){var B={x:C.x1+C.w/2,y:C.y1+C.h/2},P={x:(A.x-B.x)*N,y:(A.y-B.y)*N};return{x:B.x+P.x,y:B.y+P.y}},c=r.spacingFactor&&r.spacingFactor!==1,d=function(){if(!c)return null;for(var N=kr(),C=0;C<a.length;C++){var A=a[C],B=u(A,C);rw(N,B.x,B.y)}return N},f=d(),v=Ss(function(k,N){var C=u(k,N);if(c){var A=Math.abs(r.spacingFactor);C=l(A,f,C)}return r.transform!=null&&(C=r.transform(k,C)),C},o);if(r.animate){for(var h=0;h<a.length;h++){var y=a[h],b=v(y,h),g=r.animateFilter==null||r.animateFilter(y,h);if(g){var p=y.animation({position:b,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(p)}else y.position(b)}if(r.fit){var w=i.animation({fit:{boundingBox:s.boundingBoxAt(v),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else if(r.zoom!==void 0&&r.pan!==void 0){var E=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}e.animations.forEach(function(k){return k.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Ds.all(e.animations.map(function(k){return k.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(v),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(je({},e,{eles:this}))}};ku.createLayout=ku.makeLayout=ku.layout;function zw(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Hc(t,e){return t=pi(t),function(n){return zw(t,e,n)}}function Gc(t,e){t=pi(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return zw(t,r,a)}}var ur={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=i;return e?s.emitAndNotify("style"):s.emit("style"),i.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(ot(e)){var s=e;i.applyBypass(this,s,a),this.emitAndNotify("style")}else if(_e(e))if(r===void 0){var o=this[0];return o?i.getStylePropertyValue(o,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var s=0;s<i.length;s++){var o=i[s];a.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var u=0;u<i.length;u++){var l=i[u];a.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var s=a.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var u=s[o],l=u.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function ch(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function Up(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],s=a.hasCompoundNodes();if(i){var o=i._private;if(!e(i))return!1;if(i.isNode())return!s||ch(i,n);var u=o.source,l=o.target;return r(u)&&(!s||ch(u,r))&&(u===l||r(l)&&(!s||ch(l,r)))}}}var Rs=Hc("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});ur.takesUpSpace=Gc("takesUpSpace",Up({ok:Rs}));var jP=Hc("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Rs(t)}),zP=Hc("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Rs(t)});ur.interactive=Gc("interactive",Up({ok:jP,parentOk:zP,edgeOkViaNode:Rs}));ur.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var FP=Hc("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Rs(t)}),qP=Rs;ur.visible=Gc("visible",Up({ok:FP,edgeOkViaNode:qP}));ur.hidden=function(){var t=this[0];if(t)return!t.visible()};ur.isBundledBezier=Gc("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});ur.bypass=ur.css=ur.style;ur.renderedCss=ur.renderedStyle;ur.removeBypass=ur.removeCss=ur.removeStyle;ur.pstyle=ur.parsedStyle;var Na={};function w0(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&Bt(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&gt(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var u=this[o],l=!t.ableField||u._private[t.ableField],c=u._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(u);if(d!==void 0&&(l=d,!d))return this}l&&(u._private[t.field]=t.value,c&&r.push(u))}var f=this.spawn(r);f.updateStyle(),f.emit(t.event),s&&f.emit(s)}return this}}function Ls(t){Na[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Na[t.on]=w0({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Na[t.off]=w0({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Ls({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Ls({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Ls({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Ls({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Na.deselect=Na.unselect;Na.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Ls({field:"active",on:"activate",off:"unactivate"});Ls({field:"pannable",on:"panify",off:"unpanify"});Na.inactive=function(){var t=this[0];if(t)return!t._private.active};var yr={},S0=function(e){return function(n){for(var a=this,i=[],s=0;s<a.length;s++){var o=a[s];if(o.isNode()){for(var u=!1,l=o.connectedEdges(),c=0;c<l.length;c++){var d=l[c],f=d.source(),v=d.target();if(e.noIncomingEdges&&v===o&&f!==o||e.noOutgoingEdges&&f===o&&v!==o){u=!0;break}}u||i.push(o)}}return this.spawn(i,!0).filter(n)}},E0=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var s=n[i];if(s.isNode())for(var o=s.connectedEdges(),u=0;u<o.length;u++){var l=o[u],c=l.source(),d=l.target();e.outgoing&&c===s?(a.push(l),a.push(d)):e.incoming&&d===s&&(a.push(l),a.push(c))}}return this.spawn(a,!0).filter(r)}},C0=function(e){return function(r){for(var n=this,a=[],i={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,u=0;u<s.length;u++){var l=s[u],c=l.id();i[c]||(i[c]=!0,a.push(l),o=!0)}if(!o)break;n=s}return this.spawn(a,!0).filter(r)}};yr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};je(yr,{roots:S0({noIncomingEdges:!0}),leaves:S0({noOutgoingEdges:!0}),outgoers:rn(E0({outgoing:!0}),"outgoers"),successors:C0({outgoing:!0}),incomers:rn(E0({incoming:!0}),"incomers"),predecessors:C0({})});je(yr,{neighborhood:rn(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),s=0;s<i.length;s++){var o=i[s],u=o.source(),l=o.target(),c=a===u?l:u;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});yr.neighbourhood=yr.neighborhood;yr.closedNeighbourhood=yr.closedNeighborhood;yr.openNeighbourhood=yr.openNeighborhood;je(yr,{source:rn(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:rn(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:k0({attr:"source"}),targets:k0({attr:"target"})});function k0(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],s=i._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}je(yr,{edgesWith:rn(T0(),"edgesWith"),edgesTo:rn(T0({thisIsSrc:!0}),"edgesTo")});function T0(t){return function(r){var n=[],a=this._private.cy,i=t||{};_e(r)&&(r=a.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,u=0;u<o.length;u++){var l=o[u],c=l._private.data,d=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),f=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),v=d||f;v&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!d||i.thisIsTgt&&!f)||n.push(l))}return this.spawn(n,!0)}}je(yr,{connectedEdges:rn(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,s=0;s<i.length;s++){var o=i[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:rn(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:rn(N0(),"parallelEdges"),codirectedEdges:rn(N0({codirected:!0}),"codirectedEdges")});function N0(t){var e={codirected:!1};return t=je({},e,t),function(n){for(var a=[],i=this.edges(),s=t,o=0;o<i.length;o++)for(var u=i[o],l=u._private,c=l.source,d=c._private.data.id,f=l.data.target,v=c._private.edges,h=0;h<v.length;h++){var y=v[h],b=y._private.data,g=b.target,p=b.source,w=g===f&&p===d,E=d===g&&f===p;(s.codirected&&w||!s.codirected&&(w||E))&&a.push(y)}return this.spawn(a,!0).filter(n)}}je(yr,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),s=[];e!=null&&i.empty()&&(i=e.sources());var o=function(c,d){a.merge(c),i.unmerge(c),d.merge(c)};if(i.empty())return r.spawn();var u=function(){var c=n.collection();s.push(c);var d=i[0];o(d,c),r.bfs({directed:!1,roots:d,visit:function(v){return o(v,c)}}),c.forEach(function(f){f.connectedEdges().forEach(function(v){r.has(v)&&c.has(v.source())&&c.has(v.target())&&c.merge(v)})})};do u();while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});yr.componentsOf=yr.components;var cr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){kt("A collection must have a reference to the core");return}var i=new Un,s=!1;if(!r)r=[];else if(r.length>0&&ot(r[0])&&!ul(r[0])){s=!0;for(var o=[],u=new Bs,l=0,c=r.length;l<c;l++){var d=r[l];d.data==null&&(d.data={});var f=d.data;if(f.id==null)f.id=Jb();else if(e.hasElementWithId(f.id)||u.has(f.id))continue;var v=new Ic(e,d,!1);o.push(v),u.add(f.id)}r=o}this.length=0;for(var h=0,y=r.length;h<y;h++){var b=r[h][0];if(b!=null){var g=b._private.data.id;(!n||!i.has(g))&&(n&&i.set(g,{index:this.length,ele:b}),this[this.length]=b,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(p){this.lazyMap=p},rebuildMap:function(){for(var w=this.lazyMap=new Un,E=this.eles,k=0;k<E.length;k++){var N=E[k];w.set(N.id(),{index:k,ele:N})}}},n&&(this._private.map=i),s&&!a&&this.restore()},bt=Ic.prototype=cr.prototype=Object.create(Array.prototype);bt.instanceString=function(){return"collection"};bt.spawn=function(t,e){return new cr(this.cy(),t,e)};bt.spawnSelf=function(){return this.spawn(this)};bt.cy=function(){return this._private.cy};bt.renderer=function(){return this._private.cy.renderer()};bt.element=function(){return this[0]};bt.collection=function(){return zb(this)?this:new cr(this._private.cy,[this])};bt.unique=function(){return new cr(this._private.cy,this,!0)};bt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};bt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new cr(e)};bt.$id=bt.getElementById;bt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};bt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};bt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};bt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(ot(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,s={},o=t.data.source,u=t.data.target;o!=null&&o!=a.source&&(s.source=""+o,i=!0),u!=null&&u!=a.target&&(s.target=""+u,i=!0),i&&(e=e.move(s))}else{var l="parent"in t.data,c=t.data.parent;l&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var d=function(y,b,g){var p=t[y];p!=null&&p!==n[y]&&(p?e[b]():e[g]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var f={data:An(n.data),position:An(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};f.classes="";var v=0;return n.classes.forEach(function(h){return f.classes+=v++===0?h:" "+h}),f}}};bt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};bt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new Ic(t,a,!1);e.push(i)}return new cr(t,e)};bt.copy=bt.clone;bt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],s=[],o,u=0,l=r.length;u<l;u++){var c=r[u];e&&!c.removed()||(c.isNode()?i.push(c):s.push(c))}o=i.concat(s);var d,f=function(){o.splice(d,1),d--};for(d=0;d<o.length;d++){var v=o[d],h=v._private,y=h.data;if(v.clearTraversalCache(),!(!e&&!h.removed)){if(y.id===void 0)y.id=Jb();else if(ge(y.id))y.id=""+y.id;else if(Ba(y.id)||!_e(y.id)){kt("Can not create element with invalid string ID `"+y.id+"`"),f();continue}else if(n.hasElementWithId(y.id)){kt("Can not create second element with ID `"+y.id+"`"),f();continue}}var b=y.id;if(v.isNode()){var g=h.position;g.x==null&&(g.x=0),g.y==null&&(g.y=0)}if(v.isEdge()){for(var p=v,w=["source","target"],E=w.length,k=!1,N=0;N<E;N++){var C=w[N],A=y[C];ge(A)&&(A=y[C]=""+y[C]),A==null||A===""?(kt("Can not create edge `"+b+"` with unspecified "+C),k=!0):n.hasElementWithId(A)||(kt("Can not create edge `"+b+"` with nonexistant "+C+" `"+A+"`"),k=!0)}if(k){f();continue}var B=n.getElementById(y.source),P=n.getElementById(y.target);B.same(P)?B._private.edges.push(p):(B._private.edges.push(p),P._private.edges.push(p)),p._private.source=B,p._private.target=P}h.map=new Un,h.map.set(b,{ele:v,index:0}),h.removed=!1,e&&n.addToPool(v)}for(var D=0;D<i.length;D++){var M=i[D],L=M._private.data;ge(L.parent)&&(L.parent=""+L.parent);var I=L.parent,z=I!=null;if(z||M._private.parent){var F=M._private.parent?n.collection().merge(M._private.parent):n.getElementById(I);if(F.empty())L.parent=void 0;else if(F[0].removed())dt("Node added with missing parent, reference to parent removed"),L.parent=void 0,M._private.parent=null;else{for(var j=!1,O=F;!O.empty();){if(M.same(O)){j=!0,L.parent=void 0;break}O=O.parent()}j||(F[0]._private.children.push(M),M._private.parent=F[0],a.hasCompoundNodes=!0)}}}if(o.length>0){for(var V=o.length===r.length?r:new cr(n,o),$=0;$<V.length;$++){var W=V[$];W.isNode()||(W.parallelEdges().clearTraversalCache(),W.source().clearTraversalCache(),W.target().clearTraversalCache())}var H;a.hasCompoundNodes?H=n.collection().merge(V).merge(V.connectedNodes()).merge(V.parent()):H=V,H.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?V.emitAndNotify("add"):e&&V.emit("add")}return r};bt.removed=function(){var t=this[0];return t&&t._private.removed};bt.inside=function(){var t=this[0];return t&&!t._private.removed};bt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function s(I){for(var z=I._private.edges,F=0;F<z.length;F++)u(z[F])}function o(I){for(var z=I._private.children,F=0;F<z.length;F++)u(z[F])}function u(I){var z=a[I.id()];e&&I.removed()||z||(a[I.id()]=!0,I.isNode()?(n.push(I),s(I),o(I)):n.unshift(I))}for(var l=0,c=r.length;l<c;l++){var d=r[l];u(d)}function f(I,z){var F=I._private.edges;Da(F,z),I.clearTraversalCache()}function v(I){I.clearTraversalCache()}var h=[];h.ids={};function y(I,z){z=z[0],I=I[0];var F=I._private.children,j=I.id();Da(F,z),z._private.parent=null,h.ids[j]||(h.ids[j]=!0,h.push(I))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var b=0;b<n.length;b++){var g=n[b];if(g.isEdge()){var p=g.source()[0],w=g.target()[0];f(p,g),f(w,g);for(var E=g.parallelEdges(),k=0;k<E.length;k++){var N=E[k];v(N),N.isBundledBezier()&&N.dirtyBoundingBoxCache()}}else{var C=g.parent();C.length!==0&&y(C,g)}e&&(g._private.removed=!0)}var A=i._private.elements;i._private.hasCompoundNodes=!1;for(var B=0;B<A.length;B++){var P=A[B];if(P.isParent()){i._private.hasCompoundNodes=!0;break}}var D=new cr(this.cy(),n);D.size()>0&&(t?D.emitAndNotify("remove"):e&&D.emit("remove"));for(var M=0;M<h.length;M++){var L=h[M];(!e||!L.removed())&&L.updateStyle()}return D};bt.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(h){return h==null?h:""+h};if(t.source!==void 0||t.target!==void 0){var s=i(t.source),o=i(t.target),u=s!=null&&e.hasElementWithId(s),l=o!=null&&e.hasElementWithId(o);(u||l)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var h=r[v],y=h._private.data;h.isEdge()&&(u&&(y.source=s),l&&(y.target=o))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),d=c===null||e.hasElementWithId(c);if(d){var f=c===null?void 0:c;e.batch(function(){var v=r.remove(n,a);v.emitAndNotify("moveout");for(var h=0;h<r.length;h++){var y=r[h],b=y._private.data;y.isNode()&&(b.parent=f)}v.restore(n,a)}),r.emitAndNotify("move")}}return this};[dw,Z5,Cu,Ta,Cs,vP,$c,BP,Ow,Iw,MP,uc,ku,ur,Na,yr].forEach(function(t){je(bt,t)});var VP={add:function(e){var r,n=this;if($r(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],s=0;s<a.length;s++){var o=a[s];i.push(o.json())}r=new cr(n,i)}}else if(gt(e)){var u=e;r=new cr(n,u)}else if(ot(e)&&(gt(e.nodes)||gt(e.edges))){for(var l=e,c=[],d=["nodes","edges"],f=0,v=d.length;f<v;f++){var h=d[f],y=l[h];if(gt(y))for(var b=0,g=y.length;b<g;b++){var p=je({group:h},y[b]);c.push(p)}}r=new cr(n,c)}else{var w=e;r=new Ic(n,w).collection()}return r},remove:function(e){if(!$r(e)){if(_e(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function WP(t,e,r,n){var a=4,i=.001,s=1e-7,o=10,u=11,l=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var f=c?new Float32Array(u):new Array(u);function v(P,D){return 1-3*D+3*P}function h(P,D){return 3*D-6*P}function y(P){return 3*P}function b(P,D,M){return((v(D,M)*P+h(D,M))*P+y(D))*P}function g(P,D,M){return 3*v(D,M)*P*P+2*h(D,M)*P+y(D)}function p(P,D){for(var M=0;M<a;++M){var L=g(D,t,r);if(L===0)return D;var I=b(D,t,r)-P;D-=I/L}return D}function w(){for(var P=0;P<u;++P)f[P]=b(P*l,t,r)}function E(P,D,M){var L,I,z=0;do I=D+(M-D)/2,L=b(I,t,r)-P,L>0?M=I:D=I;while(Math.abs(L)>s&&++z<o);return I}function k(P){for(var D=0,M=1,L=u-1;M!==L&&f[M]<=P;++M)D+=l;--M;var I=(P-f[M])/(f[M+1]-f[M]),z=D+I*l,F=g(z,t,r);return F>=i?p(P,z):F===0?z:E(P,D,D+l)}var N=!1;function C(){N=!0,(t!==e||r!==n)&&w()}var A=function(D){return N||C(),t===e&&r===n?D:D===0?0:D===1?1:b(k(D),e,n)};A.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var B="generateBezier("+[t,e,r,n]+")";return A.toString=function(){return B},A}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var $P=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var s={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,a){var i={dx:n.v,dv:t(n)},s=e(n,a*.5,i),o=e(n,a*.5,s),u=e(n,a,o),l=1/6*(i.dx+2*(s.dx+o.dx)+u.dx),c=1/6*(i.dv+2*(s.dv+o.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+c*a,n}return function n(a,i,s){var o={x:-1,v:0,tension:null,friction:null},u=[0],l=0,c=1/1e4,d=16/1e3,f,v,h;for(a=parseFloat(a)||500,i=parseFloat(i)||20,s=s||null,o.tension=a,o.friction=i,f=s!==null,f?(l=n(a,i),v=l/s*d):v=d;h=r(h||o,v),u.push(1+h.x),l+=16,Math.abs(h.x)>c&&Math.abs(h.v)>c;);return f?function(y){return u[y*(u.length-1)|0]}:l}}(),yt=function(e,r,n,a){var i=WP(e,r,n,a);return function(s,o,u){return s+(o-s)*i(u)}},Tu={linear:function(e,r,n){return e+(r-e)*n},ease:yt(.25,.1,.25,1),"ease-in":yt(.42,0,1,1),"ease-out":yt(0,0,.58,1),"ease-in-out":yt(.42,0,.58,1),"ease-in-sine":yt(.47,0,.745,.715),"ease-out-sine":yt(.39,.575,.565,1),"ease-in-out-sine":yt(.445,.05,.55,.95),"ease-in-quad":yt(.55,.085,.68,.53),"ease-out-quad":yt(.25,.46,.45,.94),"ease-in-out-quad":yt(.455,.03,.515,.955),"ease-in-cubic":yt(.55,.055,.675,.19),"ease-out-cubic":yt(.215,.61,.355,1),"ease-in-out-cubic":yt(.645,.045,.355,1),"ease-in-quart":yt(.895,.03,.685,.22),"ease-out-quart":yt(.165,.84,.44,1),"ease-in-out-quart":yt(.77,0,.175,1),"ease-in-quint":yt(.755,.05,.855,.06),"ease-out-quint":yt(.23,1,.32,1),"ease-in-out-quint":yt(.86,0,.07,1),"ease-in-expo":yt(.95,.05,.795,.035),"ease-out-expo":yt(.19,1,.22,1),"ease-in-out-expo":yt(1,0,0,1),"ease-in-circ":yt(.6,.04,.98,.335),"ease-out-circ":yt(.075,.82,.165,1),"ease-in-out-circ":yt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Tu.linear;var a=$P(e,r,n);return function(i,s,o){return i+(s-i)*a(o)}},"cubic-bezier":yt};function A0(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function P0(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Mi(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var s=P0(t,a),o=P0(e,a);if(ge(s)&&ge(o))return A0(i,s,o,r,n);if(gt(s)&&gt(o)){for(var u=[],l=0;l<o.length;l++){var c=s[l],d=o[l];if(c!=null&&d!=null){var f=A0(i,c,d,r,n);u.push(f)}else u.push(d)}return u}}function UP(t,e,r,n){var a=!n,i=t._private,s=e._private,o=s.easing,u=s.startTime,l=n?t:t.cy(),c=l.style();if(!s.easingImpl)if(o==null)s.easingImpl=Tu.linear;else{var d;if(_e(o)){var f=c.parse("transition-timing-function",o);d=f.value}else d=o;var v,h;_e(d)?(v=d,h=[]):(v=d[1],h=d.slice(2).map(function(V){return+V})),h.length>0?(v==="spring"&&h.push(s.duration),s.easingImpl=Tu[v].apply(null,h)):s.easingImpl=Tu[v]}var y=s.easingImpl,b;if(s.duration===0?b=1:b=(r-u)/s.duration,s.applying&&(b=s.progress),b<0?b=0:b>1&&(b=1),s.delay==null){var g=s.startPosition,p=s.position;if(p&&a&&!t.locked()){var w={};to(g.x,p.x)&&(w.x=Mi(g.x,p.x,b,y)),to(g.y,p.y)&&(w.y=Mi(g.y,p.y,b,y)),t.position(w)}var E=s.startPan,k=s.pan,N=i.pan,C=k!=null&&n;C&&(to(E.x,k.x)&&(N.x=Mi(E.x,k.x,b,y)),to(E.y,k.y)&&(N.y=Mi(E.y,k.y,b,y)),t.emit("pan"));var A=s.startZoom,B=s.zoom,P=B!=null&&n;P&&(to(A,B)&&(i.zoom=Ho(i.minZoom,Mi(A,B,b,y),i.maxZoom)),t.emit("zoom")),(C||P)&&t.emit("viewport");var D=s.style;if(D&&D.length>0&&a){for(var M=0;M<D.length;M++){var L=D[M],I=L.name,z=L,F=s.startStyle[I],j=c.properties[F.name],O=Mi(F,z,b,y,j);c.overrideBypass(t,I,O)}t.emit("style")}}return s.progress=b,b}function to(t,e){return t==null||e==null?!1:ge(t)&&ge(e)?!0:!!(t&&e)}function HP(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function B0(t,e){var r=e._private.aniEles,n=[];function a(c,d){var f=c._private,v=f.animation.current,h=f.animation.queue,y=!1;if(v.length===0){var b=h.shift();b&&v.push(b)}for(var g=function(N){for(var C=N.length-1;C>=0;C--){var A=N[C];A()}N.splice(0,N.length)},p=v.length-1;p>=0;p--){var w=v[p],E=w._private;if(E.stopped){v.splice(p,1),E.hooked=!1,E.playing=!1,E.started=!1,g(E.frames);continue}!E.playing&&!E.applying||(E.playing&&E.applying&&(E.applying=!1),E.started||HP(c,w,t),UP(c,w,t,d),E.applying&&(E.applying=!1),g(E.frames),E.step!=null&&E.step(t),w.completed()&&(v.splice(p,1),E.hooked=!1,E.playing=!1,E.started=!1,g(E.completes)),y=!0)}return!d&&v.length===0&&h.length===0&&n.push(c),y}for(var i=!1,s=0;s<r.length;s++){var o=r[s],u=a(o);i=i||u}var l=a(e,!0);(i||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var GP={animate:ct.animate(),animation:ct.animation(),animated:ct.animated(),clearQueue:ct.clearQueue(),delay:ct.delay(),delayAnimation:ct.delayAnimation(),stop:ct.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ac(function(i){B0(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,s){B0(s,e)},n.beforeRenderPriorities.animations):r()}},KP={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&ul(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},au=function(e){return _e(e)?new La(e):e},Fw={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Uc(KP,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,au(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,au(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,au(r),n),this},once:function(e,r,n){return this.emitter().one(e,au(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ct.eventAliasesOn(Fw);var Sv={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Sv.jpeg=Sv.jpg;var Nu={layout:function(e){var r=this;if(e==null){kt("Layout options must be specified to make a layout");return}if(e.name==null){kt("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){kt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;_e(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var s=new a(je({},e,{cy:r,eles:i}));return s}};Nu.createLayout=Nu.makeLayout=Nu.layout;var QP={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],s=e[i],o=r.getElementById(i);o.data(s)}})}},YP=fr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Ev={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){kt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&dt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=YP(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Ev.invalidateDimensions=Ev.resize;var Au={collection:function(e,r){return _e(e)?this.$(e):$r(e)?e.collection():gt(e)?(r||(r={}),new cr(this,e,r.unique,r.removed)):new cr(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Au.elements=Au.filter=Au.$;var ar={},So="t",XP="f";ar.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var s=t[i],o=e.getContextMeta(s);if(!o.empty){var u=e.getContextStyle(o),l=e.applyContextStyle(o,u,s);s._private.appliedInitStyle?e.updateTransitions(s,l.diffProps):s._private.appliedInitStyle=!0;var c=e.updateStyleHints(s);c&&a.push(s)}}return a};ar.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var s=[],o={},u=0;u<r.length;u++){var l=r[u],c=t[u]===So,d=e[u]===So,f=c!==d,v=l.mappedProperties.length>0;if(f||d&&v){var h=void 0;f&&v||f?h=l.properties:v&&(h=l.mappedProperties);for(var y=0;y<h.length;y++){for(var b=h[y],g=b.name,p=!1,w=u+1;w<r.length;w++){var E=r[w],k=e[w]===So;if(k&&(p=E.properties[b.name]!=null,p))break}!o[g]&&!p&&(o[g]=!0,s.push(g))}}}return n[a]=s,s};ar.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var s=e[i],o=s.selector&&s.selector.matches(t);o?r+=So:r+=XP}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};ar.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var s=r[i],o=e[i]===So;if(o)for(var u=0;u<s.properties.length;u++){var l=s.properties[u];a[l.name]=l}}return n[e]=a,a};ar.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},s=n.types,o=0;o<a.length;o++){var u=a[o],l=e[u],c=r.pstyle(u);if(!l)if(c)c.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(c!==l){if(l.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var d=c.mapping,f=d.fnValue=l.value(r);if(f===d.prevFnValue)continue}var v=i[u]={prev:c};n.applyParsedProperty(r,l),v.next=r.pstyle(u),v.next&&v.next.bypass&&(v.next=v.next.bypassed)}}return{diffProps:i}};ar.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(X,ae,pe){return r.getPropertiesHash(X,ae,pe)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var c=a[l];e.styleKeys[c]=[ti,qi]}for(var d=function(X,ae){return e.styleKeys[ae][0]=Wo(X,e.styleKeys[ae][0])},f=function(X,ae){return e.styleKeys[ae][1]=$o(X,e.styleKeys[ae][1])},v=function(X,ae){d(X,ae),f(X,ae)},h=function(X,ae){for(var pe=0;pe<X.length;pe++){var Te=X.charCodeAt(pe);d(Te,ae),f(Te,ae)}},y=2e9,b=function(X){return-128<X&&X<128&&Math.floor(X)!==X?y-(X*1024|0):X},g=0;g<n.length;g++){var p=n[g],w=u[p];if(w!=null){var E=this.properties[p],k=E.type,N=E.groupKey,C=void 0;E.hashOverride!=null?C=E.hashOverride(t,w):w.pfValue!=null&&(C=w.pfValue);var A=E.enums==null?w.value:null,B=C!=null,P=A!=null,D=B||P,M=w.units;if(k.number&&D&&!k.multiple){var L=B?C:A;v(b(L),N),!B&&M!=null&&h(M,N)}else h(w.strValue,N)}}for(var I=[ti,qi],z=0;z<a.length;z++){var F=a[z],j=e.styleKeys[F];I[0]=Wo(j[0],I[0]),I[1]=$o(j[1],I[1])}e.styleKey=hN(I[0],I[1]);var O=e.styleKeys;e.labelDimsKey=sa(O.labelDimensions);var V=i(t,["label"],O.labelDimensions);if(e.labelKey=sa(V),e.labelStyleKey=sa(Yl(O.commonLabel,V)),!o){var $=i(t,["source-label"],O.labelDimensions);e.sourceLabelKey=sa($),e.sourceLabelStyleKey=sa(Yl(O.commonLabel,$));var W=i(t,["target-label"],O.labelDimensions);e.targetLabelKey=sa(W),e.targetLabelStyleKey=sa(Yl(O.commonLabel,W))}if(o){var H=e.styleKeys,ee=H.nodeBody,re=H.nodeBorder,te=H.nodeOutline,le=H.backgroundImage,fe=H.compound,me=H.pie,ue=H.stripe,G=[ee,re,te,le,fe,me,ue].filter(function(Q){return Q!=null}).reduce(Yl,[ti,qi]);e.nodeKey=sa(G),e.hasPie=me!=null&&me[0]!==ti&&me[1]!==qi,e.hasStripe=ue!=null&&ue[0]!==ti&&ue[1]!==qi}return s!==e.styleKey};ar.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};ar.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,s=r.types,o=r.properties[n.name].type,u=n.bypass,l=a[n.name],c=l&&l.bypass,d=t._private,f="mapping",v=function(ee){return ee==null?null:ee.pfValue!=null?ee.pfValue:ee.value},h=function(){var ee=v(l),re=v(n);r.checkTriggers(t,n.name,ee,re)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,h(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,h(),!0):!1:(h(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,h(),!0):!1:(h(),!0);var y=function(){dt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var b=n.field.split("."),g=d.data,p=0;p<b.length&&g;p++){var w=b[p];g=g[w]}if(g==null)return y(),!1;var E;if(ge(g)){var k=n.fieldMax-n.fieldMin;k===0?E=0:E=(g-n.fieldMin)/k}else return dt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+g+"` for `"+t.id()+"` is non-numeric)"),!1;if(E<0?E=0:E>1&&(E=1),o.color){var N=n.valueMin[0],C=n.valueMax[0],A=n.valueMin[1],B=n.valueMax[1],P=n.valueMin[2],D=n.valueMax[2],M=n.valueMin[3]==null?1:n.valueMin[3],L=n.valueMax[3]==null?1:n.valueMax[3],I=[Math.round(N+(C-N)*E),Math.round(A+(B-A)*E),Math.round(P+(D-P)*E),Math.round(M+(L-M)*E)];i={bypass:n.bypass,name:n.name,value:I,strValue:"rgb("+I[0]+", "+I[1]+", "+I[2]+")"}}else if(o.number){var z=n.valueMin+(n.valueMax-n.valueMin)*E;i=this.parse(n.name,z,n.bypass,f)}else return!1;if(!i)return y(),!1;i.mapping=n,n=i;break}case s.data:{for(var F=n.field.split("."),j=d.data,O=0;O<F.length&&j;O++){var V=F[O];j=j[V]}if(j!=null&&(i=this.parse(n.name,j,n.bypass,f)),!i)return y(),!1;i.mapping=n,n=i;break}case s.fn:{var $=n.value,W=n.fnValue!=null?n.fnValue:$(t);if(n.prevFnValue=W,W==null)return dt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,W,n.bypass,f),!i)return dt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=An(n),n=i;break}case void 0:break;default:return!1}return u?(c?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):c?l.bypassed=n:a[n.name]=n,h(),!0};ar.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),s=0;s<i.length;s++){var o=i[s],u=a[o];u!=null&&(u.bypass?u.bypassed=null:a[o]=null)}}};ar.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};ar.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var o={},u=!1,l=0;l<a.length;l++){var c=a[l],d=t.pstyle(c),f=e[c];if(f){var v=f.prev,h=v,y=f.next!=null?f.next:d,b=!1,g=void 0,p=1e-6;h&&(ge(h.pfValue)&&ge(y.pfValue)?(b=y.pfValue-h.pfValue,g=h.pfValue+p*b):ge(h.value)&&ge(y.value)?(b=y.value-h.value,g=h.value+p*b):gt(h.value)&&gt(y.value)&&(b=h.value[0]!==y.value[0]||h.value[1]!==y.value[1]||h.value[2]!==y.value[2],g=h.strValue),b&&(o[c]=y.strValue,this.applyBypass(t,c,g),u=!0))}}if(!u)return;n.transitioning=!0,new Ds(function(w){s>0?t.delayAnimation(s).play().promise().then(w):w()}).then(function(){return t.animation({style:o,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};ar.checkTrigger=function(t,e,r,n,a,i){var s=this.properties[e],o=a(s);t.removed()||o!=null&&o(r,n,t)&&i(s)};ar.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};ar.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};ar.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};ar.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){t.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};ar.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var gl={};gl.applyBypass=function(t,e,r,n){var a=this,i=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<a.properties.length;o++){var u=a.properties[o],l=u.name,c=this.parse(l,r,!0);c&&i.push(c)}}else if(_e(e)){var d=this.parse(e,r,!0);d&&i.push(d)}else if(ot(e)){var f=e;n=r;for(var v=Object.keys(f),h=0;h<v.length;h++){var y=v[h],b=f[y];if(b===void 0&&(b=f[Mc(y)]),b!==void 0){var g=this.parse(y,b,!0);g&&i.push(g)}}}else return!1;if(i.length===0)return!1;for(var p=!1,w=0;w<t.length;w++){for(var E=t[w],k={},N=void 0,C=0;C<i.length;C++){var A=i[C];if(n){var B=E.pstyle(A.name);N=k[A.name]={prev:B}}p=this.applyParsedProperty(E,An(A))||p,n&&(N.next=E.pstyle(A.name))}p&&this.updateStyleHints(E),n&&this.updateTransitions(E,k,s)}return p};gl.overrideBypass=function(t,e,r){e=Dp(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],s=this.properties[e].type,o=s.color,u=s.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),o?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,l,r)}};gl.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};gl.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],s={},o=0;o<e.length;o++){var u=e[o],l=this.properties[u],c=i.pstyle(l.name);if(!(!c||!c.bypass)){var d="",f=this.parse(u,d,!0),v=s[l.name]={prev:c};this.applyParsedProperty(i,f),v.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,s,n)}};var Hp={};Hp.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Hp.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Ln={};Ln.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Ln.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],s=r.getStylePropertyValue(t,i.name,e);s!=null&&(n[i.name]=s,n[Mc(i.name)]=s)}return n}};Ln.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};Ln.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,s=t.pstyle(a.name);if(s){var o=s.value,u=s.units,l=s.strValue;if(r&&i.number&&o!=null&&ge(o)){var c=t.cy().zoom(),d=function(b){return b*c},f=function(b,g){return d(b)+g},v=gt(o),h=v?u.every(function(y){return y!=null}):u!=null;return h?v?o.map(function(y,b){return f(y,u[b])}).join(" "):f(o,u):v?o.map(function(y){return _e(y)?y:""+d(y)}).join(" "):""+d(o)}else if(l!=null)return l}return null}};Ln.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,s=t.pstyle(i);s!==void 0&&(ot(s)?s=this.parse(i,s.strValue):s=this.parse(i,s)),s&&(r[i]=s)}return r};Ln.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s],u=n[o],l=a[o]||a[Dp(o)],c=this.parse(l.name,u);c&&r.push(c)}return r};Ln.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,s,o,u,l;for(u=0;u<e.length;u++)if(a=e[u],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Wo(o,n[0]),n[1]=$o(o,n[1]);else for(s=i.strValue,l=0;l<s.length;l++)o=s.charCodeAt(l),n[0]=Wo(o,n[0]),n[1]=$o(o,n[1]);return n};Ln.getPropertiesHash=Ln.getNonDefaultPropertiesHash;var Kc={};Kc.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,s=Object.keys(i);e.selector(a);for(var o=0;o<s.length;o++){var u=s[o],l=i[u];e.css(u,l)}}return e};Kc.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Kc.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},s=0;s<a.length;s++){var o=a[s];i[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var Gp={};Gp.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>s.length?i=i.substr(s.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){dt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var d=c[1];if(d!=="core"){var f=new La(d);if(f.invalid){dt("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),o();continue}}var v=c[2],h=!1;i=v;for(var y=[];;){var b=i.match(/^\s*$/);if(b)break;var g=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!g){dt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),h=!0;break}s=g[0];var p=g[1],w=g[2],E=e.properties[p];if(!E){dt("Skipping property: Invalid property name in: "+s),u();continue}var k=r.parse(p,w);if(!k){dt("Skipping property: Invalid property definition in: "+s),u();continue}y.push({name:p,val:w}),u()}if(h){o();break}r.selector(d);for(var N=0;N<y.length;N++){var C=y[N];r.css(C.name,C.val)}o()}return r};Gp.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var zt={};(function(){var t=Kt,e=UT,r=GT,n=KT,a=QT,i=function(Q){return"^"+Q+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(Q){var X=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+Q+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+X+")\\s*\\,\\s*("+X+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];zt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Q,X){switch(Q.length){case 2:return X[0]!=="deg"&&X[0]!=="rad"&&X[1]!=="deg"&&X[1]!=="rad";case 1:return _e(Q[0])||X[0]==="deg"||X[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Q){var X=Q.length;return X===1||X===2||X===4}}};var u={zeroNonZero:function(Q,X){return(Q==null||X==null)&&Q!==X||Q==0&&X!=0?!0:Q!=0&&X==0},any:function(Q,X){return Q!=X},emptyNonEmpty:function(Q,X){var ae=Ba(Q),pe=Ba(X);return ae&&!pe||!ae&&pe}},l=zt.types,c=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],d=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],f=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],v=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],h=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification},{name:"box-select-labels",type:l.bool,triggersBounds:u.any}],y=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any},{name:"box-selection",type:l.boxSelection,triggersZOrder:u.any}],b=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:function(Q,X,ae){return Q===X?!1:ae.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],g=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],p=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],w=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],E=function(Q,X){return X.value==="label"?-Q.poolIndex():X.pfValue},k=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],N=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],C=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],A=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],B=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],P=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:function(Q,X){return Q===X?!1:Q==="bezier"||X==="bezier"}},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],D=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],M=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],L=[];zt.pieBackgroundN=16,L.push({name:"pie-size",type:l.sizeMaybePercent}),L.push({name:"pie-hole",type:l.sizeMaybePercent}),L.push({name:"pie-start-angle",type:l.angle});for(var I=1;I<=zt.pieBackgroundN;I++)L.push({name:"pie-"+I+"-background-color",type:l.color}),L.push({name:"pie-"+I+"-background-size",type:l.percent}),L.push({name:"pie-"+I+"-background-opacity",type:l.zeroOneNumber});var z=[];zt.stripeBackgroundN=16,z.push({name:"stripe-size",type:l.sizeMaybePercent}),z.push({name:"stripe-direction",type:l.axisDirectionPrimary});for(var F=1;F<=zt.stripeBackgroundN;F++)z.push({name:"stripe-"+F+"-background-color",type:l.color}),z.push({name:"stripe-"+F+"-background-size",type:l.percent}),z.push({name:"stripe-"+F+"-background-opacity",type:l.zeroOneNumber});var j=[],O=zt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(G){O.forEach(function(Q){var X=Q+"-"+G.name,ae=G.type,pe=G.triggersBounds;j.push({name:X,type:ae,triggersBounds:pe})})},{});var V=zt.properties=[].concat(y,w,b,g,p,D,h,v,c,d,f,k,N,C,A,L,z,B,P,j,M),$=zt.propertyGroups={behavior:y,transition:w,visibility:b,overlay:g,underlay:p,ghost:D,commonLabel:h,labelDimensions:v,mainLabel:c,sourceLabel:d,targetLabel:f,nodeBody:k,nodeBorder:N,nodeOutline:C,backgroundImage:A,pie:L,stripe:z,compound:B,edgeLine:P,edgeArrow:j,core:M},W=zt.propertyGroupNames={},H=zt.propertyGroupKeys=Object.keys($);H.forEach(function(G){W[G]=$[G].map(function(Q){return Q.name}),$[G].forEach(function(Q){return Q.groupKey=G})});var ee=zt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];zt.propertyNames=V.map(function(G){return G.name});for(var re=0;re<V.length;re++){var te=V[re];V[te.name]=te}for(var le=0;le<ee.length;le++){var fe=ee[le],me=V[fe.pointsTo],ue={name:fe.name,alias:!0,pointsTo:me};V.push(ue),V[fe.name]=ue}})();zt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};zt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=je({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=zt.pieBackgroundN;c++){var d=l.name.replace("{{i}}",c),f=l.value;u[d]=f}return u},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=zt.stripeBackgroundN;c++){var d=l.name.replace("{{i}}",c),f=l.value;u[d]=f}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return zt.arrowPrefixes.forEach(function(c){var d=c+"-"+l.name,f=l.value;u[d]=f}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,s=e[i],o=this.parse(i,s);r[i]=o}}return t.defaultProperties=r,t.defaultProperties};zt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Qc={};Qc.parse=function(t,e,r,n){var a=this;if(Bt(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,u=Yb(t,o,s,i),l=a.propCache=a.propCache||[],c;return(c=l[u])||(c=l[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=An(c),c&&(c.value=An(c.value))),c};Qc.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&dt("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&dt("The style value of `label` is deprecated for `"+a.name+"`"),a};Qc.parseImpl=function(t,e,r,n){var a=this;t=Dp(t);var i=a.properties[t],s=e,o=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var u=_e(e);u&&(e=e.trim());var l=i.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Bt(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var c,d;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(r)return!1;var f=o.data;return{name:t,value:c,strValue:""+e,mapped:f,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(o.mapData.regex).exec(e))){if(r||l.multiple)return!1;var v=o.mapData;if(!(l.color||l.number))return!1;var h=this.parse(t,d[4]);if(!h||h.mapped)return!1;var y=this.parse(t,d[5]);if(!y||y.mapped)return!1;if(h.pfValue===y.pfValue||h.strValue===y.strValue)return dt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+h.strValue+"`"),this.parse(t,h.strValue);if(l.color){var b=h.value,g=y.value,p=b[0]===g[0]&&b[1]===g[1]&&b[2]===g[2]&&(b[3]===g[3]||(b[3]==null||b[3]===1)&&(g[3]==null||g[3]===1));if(p)return!1}return{name:t,value:d,strValue:""+e,mapped:v,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:h.value,valueMax:y.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var w;if(u?w=e.split(/\s+/):gt(e)?w=e:w=[e],l.evenMultiple&&w.length%2!==0)return null;for(var E=[],k=[],N=[],C="",A=!1,B=0;B<w.length;B++){var P=a.parse(t,w[B],r,"multiple");A=A||_e(P.value),E.push(P.value),N.push(P.pfValue!=null?P.pfValue:P.value),k.push(P.units),C+=(B>0?" ":"")+P.strValue}return l.validate&&!l.validate(E,k)?null:l.singleEnum&&A?E.length===1&&_e(E[0])?{name:t,value:E[0],strValue:E[0],bypass:r}:null:{name:t,value:E,pfValue:N,strValue:C,bypass:r,units:k}}var D=function(){for(var ue=0;ue<l.enums.length;ue++){var G=l.enums[ue];if(G===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var M,L="px";if(l.units&&(M=l.units),l.implicitUnits&&(L=l.implicitUnits),!l.unitless)if(u){var I="px|em"+(l.allowPercent?"|\\%":"");M&&(I=M);var z=e.match("^("+Kt+")("+I+")?$");z&&(e=z[1],M=z[2]||L)}else(!M||l.implicitUnits)&&(M=L);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=s,D();if(l.integer&&!jT(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var F={name:t,value:e,strValue:""+e+(M||""),units:M,bypass:r};return l.unitless||M!=="px"&&M!=="em"?F.pfValue=e:F.pfValue=M==="px"||!M?e:this.getEmSizeInPixels()*e,(M==="ms"||M==="s")&&(F.pfValue=M==="ms"?e:1e3*e),(M==="deg"||M==="rad")&&(F.pfValue=M==="rad"?e:KN(e)),M==="%"&&(F.pfValue=e/100),F}else if(l.propList){var j=[],O=""+e;if(O!=="none"){for(var V=O.split(/\s*,\s*|\s+/),$=0;$<V.length;$++){var W=V[$].trim();a.properties[W]?j.push(W):dt("`"+W+"` is not a valid property name")}if(j.length===0)return null}return{name:t,value:j,strValue:j.length===0?"none":j.join(" "),bypass:r}}else if(l.color){var H=Wb(e);return H?{name:t,value:H,pfValue:H,strValue:"rgb("+H[0]+","+H[1]+","+H[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var ee=D();if(ee)return ee}for(var re=l.regexes?l.regexes:[l.regex],te=0;te<re.length;te++){var le=new RegExp(re[te]),fe=le.exec(e);if(fe)return{name:t,value:l.singleRegexMatchValue?fe[1]:fe,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?D():null};var nr=function(e){if(!(this instanceof nr))return new nr(e);if(!Bp(e)){kt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},xr=nr.prototype;xr.instanceString=function(){return"style"};xr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};xr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};xr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};xr.selector=function(t){var e=t==="core"?null:new La(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};xr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[Mc(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};xr.style=xr.css;xr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};xr.append=function(t){return Fb(t)?t.appendToStyle(this):gt(t)?this.appendFromJson(t):_e(t)&&this.appendFromString(t),this};nr.fromJson=function(t,e){var r=new nr(t);return r.fromJson(e),r};nr.fromString=function(t,e){return new nr(t).fromString(e)};[ar,gl,Hp,Ln,Kc,Gp,zt,Qc].forEach(function(t){je(xr,t)});nr.types=xr.types;nr.properties=xr.properties;nr.propertyGroups=xr.propertyGroups;nr.propertyGroupNames=xr.propertyGroupNames;nr.propertyGroupKeys=xr.propertyGroupKeys;var ZP={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Fb(e)?r.style=e.generateStyle(this):gt(e)?r.style=nr.fromJson(this,e):_e(e)?r.style=nr.fromString(this,e):r.style=nr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},JP="single",yi={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=JP),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,s,o;switch(e.length){case 0:return r;case 1:if(_e(e[0]))return n=e[0],r[n];if(ot(e[0])){if(!this._private.panningEnabled)return this;i=e[0],s=i.x,o=i.y,ge(s)&&(r.x=s),ge(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&ge(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,s,o,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:ot(e)&&(o=n[0],u=o.x,l=o.y,ge(u)&&(a.x+=u),ge(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=e,s=r,(i==="x"||i==="y")&&ge(s)&&(a[i]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(ge(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(_e(e)){var a=e;e=this.$(a)}else if(qT(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else $r(e)||(e=this.mutableElements());if(!($r(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),u;if(r=ge(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((s-2*r)/n.w,(o-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(s-u*(n.x1+n.x2))/2,y:(o-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return ge(e)&&ge(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):ge(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:ge(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,s,o=!1;if(r.zoomingEnabled||(o=!0),ge(e)?s=e:ot(e)&&(s=e.level,e.position!=null?i=jc(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!ge(s)||s===a||i!=null&&(!ge(i.x)||!ge(i.y)))return null;if(i!=null){var u=n,l=a,c=s,d={x:-c/l*(i.x-u.x)+i.x,y:-c/l*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:d}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],s=!1,o=!1;if(!e)return this;if(ge(e.zoom)||(n=!1),ot(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;ge(l.x)&&(r.pan.x=l.x,o=!1),ge(l.y)&&(r.pan.y=l.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(_e(e)){var n=e;e=this.mutableElements().filter(n)}else $r(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(i-r*(a.x1+a.x2))/2,y:(s-r*(a.y1+a.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(o){return parseFloat(a.getPropertyValue(o))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};yi.centre=yi.center;yi.autolockNodes=yi.autolock;yi.autoungrabifyNodes=yi.autoungrabify;var Yo={data:ct.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ct.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ct.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ct.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Yo.attr=Yo.data;Yo.removeAttr=Yo.removeData;var Xo=function(e){var r=this;e=je({},e);var n=e.container;n&&!nc(n)&&nc(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var s=Ut!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=je({name:s?"grid":"null"},o.layout),o.renderer=je({name:s?"canvas":"null"},o.renderer);var u=function(h,y,b){return y!==void 0?y:b!==void 0?b:h},l=this._private={container:n,ready:!1,options:o,elements:new cr(this),listeners:[],aniEles:new cr(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,o.zoomingEnabled),userZoomingEnabled:u(!0,o.userZoomingEnabled),panningEnabled:u(!0,o.panningEnabled),userPanningEnabled:u(!0,o.userPanningEnabled),boxSelectionEnabled:u(!0,o.boxSelectionEnabled),autolock:u(!1,o.autolock,o.autolockNodes),autoungrabify:u(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:u(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:ge(o.zoom)?o.zoom:1,pan:{x:ot(o.pan)&&ge(o.pan.x)?o.pan.x:0,y:ot(o.pan)&&ge(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(h,y){var b=h.some(VT);if(b)return Ds.all(h).then(y);y(h)};l.styleEnabled&&r.setStyle([]);var d=je({},o,o.renderer);r.initRenderer(d);var f=function(h,y,b){r.notifications(!1);var g=r.mutableElements();g.length>0&&g.remove(),h!=null&&(ot(h)||gt(h))&&r.add(h),r.one("layoutready",function(w){r.notifications(!0),r.emit(w),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",b),r.emit("done")});var p=je({},r._private.options.layout);p.eles=r.elements(),r.layout(p).run()};c([o.style,o.elements],function(v){var h=v[0],y=v[1];l.styleEnabled&&r.style().append(h),f(y,function(){r.startAnimationLoop(),l.ready=!0,Bt(o.ready)&&r.on("ready",o.ready);for(var b=0;b<i.length;b++){var g=i[b];r.on("ready",g)}a&&(a.readies=[]),r.emit("ready")},o.done)})},cc=Xo.prototype;je(cc,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Ut;var r=this._private.container.ownerDocument;return r===void 0||r==null?Ut:r.defaultView||Ut},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!nc(e)&&nc(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(je({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return An(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(E){return r.getElementById(E.id())};if(ot(e)){if(r.startBatch(),e.elements){var s={},o=function(E,k){for(var N=[],C=[],A=0;A<E.length;A++){var B=E[A];if(!B.data.id){dt("cy.json() cannot handle elements without an ID attribute");continue}var P=""+B.data.id,D=r.getElementById(P);s[P]=!0,D.length!==0?C.push({ele:D,json:B}):(k&&(B.group=k),N.push(B))}r.add(N);for(var M=0;M<C.length;M++){var L=C[M],I=L.ele,z=L.json;I.json(z)}};if(gt(e.elements))o(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],d=e.elements[c];gt(d)&&o(d,c)}var f=r.collection();a.filter(function(w){return!s[w.id()]}).forEach(function(w){w.isParent()?f.merge(w):w.remove()}),f.forEach(function(w){return w.children().move({parent:null})}),f.forEach(function(w){return i(w).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var v=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],h=0;h<v.length;h++){var y=v[h];e[y]!=null&&r[y](e[y])}return r.endBatch(),this}else{var b=!!e,g={};b?g.elements=this.elements().map(function(w){return w.json()}):(g.elements={},a.forEach(function(w){var E=w.group();g.elements[E]||(g.elements[E]=[]),g.elements[E].push(w.json())})),this._private.styleEnabled&&(g.style=r.style().json()),g.data=An(r.data());var p=n.options;return g.zoomingEnabled=n.zoomingEnabled,g.userZoomingEnabled=n.userZoomingEnabled,g.zoom=n.zoom,g.minZoom=n.minZoom,g.maxZoom=n.maxZoom,g.panningEnabled=n.panningEnabled,g.userPanningEnabled=n.userPanningEnabled,g.pan=An(n.pan),g.boxSelectionEnabled=n.boxSelectionEnabled,g.renderer=An(p.renderer),g.hideEdgesOnViewport=p.hideEdgesOnViewport,g.textureOnViewport=p.textureOnViewport,g.wheelSensitivity=p.wheelSensitivity,g.motionBlur=p.motionBlur,g.multiClickDebounceTime=p.multiClickDebounceTime,g}}});cc.$id=cc.getElementById;[VP,GP,Fw,Sv,Nu,QP,Ev,Au,ZP,yi,Yo].forEach(function(t){je(cc,t)});var eB={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},tB={maximal:!1,acyclic:!1},Oi=function(e){return e.scratch("breadthfirst")},D0=function(e,r){return e.scratch("breadthfirst",r)};function qw(t){this.options=je({},eB,tB,t)}qw.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(De){return De.isChildless()}),a=r,i=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,o=!!t.boundingBox,u=kr(o?t.boundingBox:structuredClone(e.extent())),l;if($r(t.roots))l=t.roots;else if(gt(t.roots)){for(var c=[],d=0;d<t.roots.length;d++){var f=t.roots[d],v=e.getElementById(f);c.push(v)}l=e.collection(c)}else if(_e(t.roots))l=e.$(t.roots);else if(i)l=n.roots();else{var h=r.components();l=e.collection();for(var y=function(){var ye=h[b],ke=ye.maxDegree(!1),Pe=ye.filter(function(Ue){return Ue.degree(!1)===ke});l=l.add(Pe)},b=0;b<h.length;b++)y()}var g=[],p={},w=function(ye,ke){g[ke]==null&&(g[ke]=[]);var Pe=g[ke].length;g[ke].push(ye),D0(ye,{index:Pe,depth:ke})},E=function(ye,ke){var Pe=Oi(ye),Ue=Pe.depth,Re=Pe.index;g[Ue][Re]=null,ye.isChildless()&&w(ye,ke)};a.bfs({roots:l,directed:t.directed,visit:function(ye,ke,Pe,Ue,Re){var He=ye[0],Qe=He.id();He.isChildless()&&w(He,Re),p[Qe]=!0}});for(var k=[],N=0;N<n.length;N++){var C=n[N];p[C.id()]||k.push(C)}var A=function(ye){for(var ke=g[ye],Pe=0;Pe<ke.length;Pe++){var Ue=ke[Pe];if(Ue==null){ke.splice(Pe,1),Pe--;continue}D0(Ue,{depth:ye,index:Pe})}},B=function(ye,ke){for(var Pe=Oi(ye),Ue=ye.incomers().filter(function(Fe){return Fe.isNode()&&r.has(Fe)}),Re=-1,He=ye.id(),Qe=0;Qe<Ue.length;Qe++){var Ye=Ue[Qe],nt=Oi(Ye);Re=Math.max(Re,nt.depth)}if(Pe.depth<=Re){if(!t.acyclic&&ke[He])return null;var at=Re+1;return E(ye,at),ke[He]=at,!0}return!1};if(i&&s){var P=[],D={},M=function(ye){return P.push(ye)},L=function(){return P.shift()};for(n.forEach(function(De){return P.push(De)});P.length>0;){var I=L(),z=B(I,D);if(z)I.outgoers().filter(function(De){return De.isNode()&&r.has(De)}).forEach(M);else if(z===null){dt("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var F=0;if(t.avoidOverlap)for(var j=0;j<n.length;j++){var O=n[j],V=O.layoutDimensions(t),$=V.w,W=V.h;F=Math.max(F,$,W)}var H={},ee=function(ye){if(H[ye.id()])return H[ye.id()];for(var ke=Oi(ye).depth,Pe=ye.neighborhood(),Ue=0,Re=0,He=0;He<Pe.length;He++){var Qe=Pe[He];if(!(Qe.isEdge()||Qe.isParent()||!n.has(Qe))){var Ye=Oi(Qe);if(Ye!=null){var nt=Ye.index,at=Ye.depth;if(!(nt==null||at==null)){var Fe=g[at].length;at<ke&&(Ue+=nt/Fe,Re++)}}}}return Re=Math.max(1,Re),Ue=Ue/Re,Re===0&&(Ue=0),H[ye.id()]=Ue,Ue},re=function(ye,ke){var Pe=ee(ye),Ue=ee(ke),Re=Pe-Ue;return Re===0?Vb(ye.id(),ke.id()):Re};t.depthSort!==void 0&&(re=t.depthSort);for(var te=g.length,le=0;le<te;le++)g[le].sort(re),A(le);for(var fe=[],me=0;me<k.length;me++)fe.push(k[me]);var ue=function(){for(var ye=0;ye<te;ye++)A(ye)};fe.length&&(g.unshift(fe),te=g.length,ue());for(var G=0,Q=0;Q<te;Q++)G=Math.max(g[Q].length,G);var X={x:u.x1+u.w/2,y:u.y1+u.h/2},ae=n.reduce(function(De,ye){return function(ke){return{w:De.w===-1?ke.w:(De.w+ke.w)/2,h:De.h===-1?ke.h:(De.h+ke.h)/2}}(ye.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),pe=Math.max(te===1?0:o?(u.h-t.padding*2-ae.h)/(te-1):(u.h-t.padding*2-ae.h)/(te+1),F),Te=g.reduce(function(De,ye){return Math.max(De,ye.length)},0),Be=function(ye){var ke=Oi(ye),Pe=ke.depth,Ue=ke.index;if(t.circle){var Re=Math.min(u.w/2/te,u.h/2/te);Re=Math.max(Re,F);var He=Re*Pe+Re-(te>0&&g[0].length<=3?Re/2:0),Qe=2*Math.PI/g[Pe].length*Ue;return Pe===0&&g[0].length===1&&(He=1),{x:X.x+He*Math.cos(Qe),y:X.y+He*Math.sin(Qe)}}else{var Ye=g[Pe].length,nt=Math.max(Ye===1?0:o?(u.w-t.padding*2-ae.w)/((t.grid?Te:Ye)-1):(u.w-t.padding*2-ae.w)/((t.grid?Te:Ye)+1),F),at={x:X.x+(Ue+1-(Ye+1)/2)*nt,y:X.y+(Pe+1-(te+1)/2)*pe};return at}},$e={downward:0,leftward:90,upward:180,rightward:-90};Object.keys($e).indexOf(t.direction)===-1&&kt("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys($e).join(", ")));var Ie=function(ye){return mN(Be(ye),u,$e[t.direction])};return r.nodes().layoutPositions(this,t,Ie),this};var rB={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Vw(t){this.options=je({},rB,t)}Vw.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var s=kr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,l=u/Math.max(1,i.length-1),c,d=0,f=0;f<i.length;f++){var v=i[f],h=v.layoutDimensions(e),y=h.w,b=h.h;d=Math.max(d,y,b)}if(ge(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(s.h,s.w)/2-d,i.length>1&&e.avoidOverlap){d*=1.75;var g=Math.cos(l)-Math.cos(0),p=Math.sin(l)-Math.sin(0),w=Math.sqrt(d*d/(g*g+p*p));c=Math.max(w,c)}var E=function(N,C){var A=e.startAngle+C*l*(a?1:-1),B=c*Math.cos(A),P=c*Math.sin(A),D={x:o.x+B,y:o.y+P};return D};return n.nodes().layoutPositions(this,e,E),this};var nB={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Ww(t){this.options=je({},nB,t)}Ww.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),s=kr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],l=0,c=0;c<i.length;c++){var d=i[c],f=void 0;f=e.concentric(d),u.push({value:f,node:d}),d._private.scratch.concentric=f}i.updateStyle();for(var v=0;v<i.length;v++){var h=i[v],y=h.layoutDimensions(e);l=Math.max(l,y.w,y.h)}u.sort(function(pe,Te){return Te.value-pe.value});for(var b=e.levelWidth(i),g=[[]],p=g[0],w=0;w<u.length;w++){var E=u[w];if(p.length>0){var k=Math.abs(p[0].value-E.value);k>=b&&(p=[],g.push(p))}p.push(E)}var N=l+e.minNodeSpacing;if(!e.avoidOverlap){var C=g.length>0&&g[0].length>1,A=Math.min(s.w,s.h)/2-N,B=A/(g.length+C?1:0);N=Math.min(N,B)}for(var P=0,D=0;D<g.length;D++){var M=g[D],L=e.sweep===void 0?2*Math.PI-2*Math.PI/M.length:e.sweep,I=M.dTheta=L/Math.max(1,M.length-1);if(M.length>1&&e.avoidOverlap){var z=Math.cos(I)-Math.cos(0),F=Math.sin(I)-Math.sin(0),j=Math.sqrt(N*N/(z*z+F*F));P=Math.max(j,P)}M.r=P,P+=N}if(e.equidistant){for(var O=0,V=0,$=0;$<g.length;$++){var W=g[$],H=W.r-V;O=Math.max(O,H)}V=0;for(var ee=0;ee<g.length;ee++){var re=g[ee];ee===0&&(V=re.r),re.r=V,V+=O}}for(var te={},le=0;le<g.length;le++)for(var fe=g[le],me=fe.dTheta,ue=fe.r,G=0;G<fe.length;G++){var Q=fe[G],X=e.startAngle+(r?1:-1)*me*G,ae={x:o.x+ue*Math.cos(X),y:o.y+ue*Math.sin(X)};te[Q.node.id()]=ae}return a.nodes().layoutPositions(this,e,function(pe){var Te=pe.id();return te[Te]}),this};var dh,aB={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Yc(t){this.options=je({},aB,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),s=a.target().data("id"),o=e.some(function(l){return l.data("id")===i}),u=e.some(function(l){return l.data("id")===s});return!o||!u});this.options.eles=this.options.eles.not(n)}Yc.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?dh=!0:dh=!1;var n=iB(e,r,t);dh&&oB(n),t.randomize&&lB(n);var a=Xn(),i=function(){uB(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(f){return!(r.stopped||f>=t.numIter||(cB(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var f=t.eles.nodes(),v=Uw(n,t,f);f.layoutPositions(r,t,v)}},u=0,l=!0;if(t.animate===!0){var c=function(){for(var f=0;l&&f<t.refresh;)l=s(u),u++,f++;if(!l)L0(n,t),o();else{var v=Xn();v-a>=t.animationThreshold&&i(),ac(c)}};c()}else{for(;l;)l=s(u),u++;L0(n,t),o()}return this};Yc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Yc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var iB=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),s=kr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},u=n.eles.components(),l={},c=0;c<u.length;c++)for(var d=u[c],f=0;f<d.length;f++){var v=d[f];l[v.id()]=c}for(var c=0;c<o.nodeSize;c++){var h=i[c],y=h.layoutDimensions(n),b={};b.isLocked=h.locked(),b.id=h.data("id"),b.parentId=h.data("parent"),b.cmptId=l[h.id()],b.children=[],b.positionX=h.position("x"),b.positionY=h.position("y"),b.offsetX=0,b.offsetY=0,b.height=y.w,b.width=y.h,b.maxX=b.positionX+b.width/2,b.minX=b.positionX-b.width/2,b.maxY=b.positionY+b.height/2,b.minY=b.positionY-b.height/2,b.padLeft=parseFloat(h.style("padding")),b.padRight=parseFloat(h.style("padding")),b.padTop=parseFloat(h.style("padding")),b.padBottom=parseFloat(h.style("padding")),b.nodeRepulsion=Bt(n.nodeRepulsion)?n.nodeRepulsion(h):n.nodeRepulsion,o.layoutNodes.push(b),o.idToIndex[b.id]=c}for(var g=[],p=0,w=-1,E=[],c=0;c<o.nodeSize;c++){var h=o.layoutNodes[c],k=h.parentId;k!=null?o.layoutNodes[o.idToIndex[k]].children.push(h.id):(g[++w]=h.id,E.push(h.id))}for(o.graphSet.push(E);p<=w;){var N=g[p++],C=o.idToIndex[N],v=o.layoutNodes[C],A=v.children;if(A.length>0){o.graphSet.push(A);for(var c=0;c<A.length;c++)g[++w]=A[c]}}for(var c=0;c<o.graphSet.length;c++)for(var B=o.graphSet[c],f=0;f<B.length;f++){var P=o.idToIndex[B[f]];o.indexToGraph[P]=c}for(var c=0;c<o.edgeSize;c++){var D=a[c],M={};M.id=D.data("id"),M.sourceId=D.data("source"),M.targetId=D.data("target");var L=Bt(n.idealEdgeLength)?n.idealEdgeLength(D):n.idealEdgeLength,I=Bt(n.edgeElasticity)?n.edgeElasticity(D):n.edgeElasticity,z=o.idToIndex[M.sourceId],F=o.idToIndex[M.targetId],j=o.indexToGraph[z],O=o.indexToGraph[F];if(j!=O){for(var V=sB(M.sourceId,M.targetId,o),$=o.graphSet[V],W=0,b=o.layoutNodes[z];$.indexOf(b.id)===-1;)b=o.layoutNodes[o.idToIndex[b.parentId]],W++;for(b=o.layoutNodes[F];$.indexOf(b.id)===-1;)b=o.layoutNodes[o.idToIndex[b.parentId]],W++;L*=W*n.nestingFactor}M.idealLength=L,M.elasticity=I,o.layoutEdges.push(M)}return o},sB=function(e,r,n){var a=$w(e,r,0,n);return 2>a.count?0:a.graph},$w=function(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<i.length;o++){var u=i[o],l=a.idToIndex[u],c=a.layoutNodes[l].children;if(c.length!==0){var d=a.indexToGraph[a.idToIndex[c[0]]],f=$w(e,r,d,a);if(f.count!==0)if(f.count===1){if(s++,s===2)break}else return f}}return{count:s,graph:n}},oB,lB=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*a)}},Uw=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];i.x1=Math.min(i.x1,o.positionX),i.x2=Math.max(i.x2,o.positionX),i.y1=Math.min(i.y1,o.positionY),i.y2=Math.max(i.y2,o.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(s,o){var u=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var l=i.w===0?.5:(u.positionX-i.x1)/i.w,c=i.h===0?.5:(u.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+c*a.h}}else return{x:u.positionX,y:u.positionY}}},uB=function(e,r,n){var a=n.layout,i=n.eles.nodes(),s=Uw(e,n,i);i.positions(s),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},cB=function(e,r,n){dB(e,r),vB(e),pB(e,r),gB(e),mB(e)},dB=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,s=0;s<i;s++)for(var o=e.layoutNodes[e.idToIndex[a[s]]],u=s+1;u<i;u++){var l=e.layoutNodes[e.idToIndex[a[u]]];fB(o,l,e,r)}},R0=function(e){return-1+2*e*Math.random()},fB=function(e,r,n,a){var i=e.cmptId,s=r.cmptId;if(!(i!==s&&!n.isCompound)){var o=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;o===0&&u===0&&(o=R0(l),u=R0(l));var c=hB(e,r,o,u);if(c>0)var d=a.nodeOverlap*c,f=Math.sqrt(o*o+u*u),v=d*o/f,h=d*u/f;else var y=dc(e,o,u),b=dc(r,-1*o,-1*u),g=b.x-y.x,p=b.y-y.y,w=g*g+p*p,f=Math.sqrt(w),d=(e.nodeRepulsion+r.nodeRepulsion)/w,v=d*g/f,h=d*p/f;e.isLocked||(e.offsetX-=v,e.offsetY-=h),r.isLocked||(r.offsetX+=v,r.offsetY+=h)}},hB=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},dc=function(e,r,n){var a=e.positionX,i=e.positionY,s=e.height||1,o=e.width||1,u=n/r,l=s/o,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+s/2,c):0<r&&-1*l<=u&&u<=l?(c.x=a+o/2,c.y=i+o*n/2/r,c):0>r&&-1*l<=u&&u<=l?(c.x=a-o/2,c.y=i-o*n/2/r,c):0<n&&(u<=-1*l||u>=l)?(c.x=a+s*r/2/n,c.y=i+s/2,c):(0>n&&(u<=-1*l||u>=l)&&(c.x=a-s*r/2/n,c.y=i-s/2),c)},vB=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],s=e.layoutNodes[i],o=e.idToIndex[a.targetId],u=e.layoutNodes[o],l=u.positionX-s.positionX,c=u.positionY-s.positionY;if(!(l===0&&c===0)){var d=dc(s,l,c),f=dc(u,-1*l,-1*c),v=f.x-d.x,h=f.y-d.y,y=Math.sqrt(v*v+h*h),b=Math.pow(a.idealLength-y,2)/a.elasticity;if(y!==0)var g=b*v/y,p=b*h/y;else var g=0,p=0;s.isLocked||(s.offsetX+=g,s.offsetY+=p),u.isLocked||(u.offsetX-=g,u.offsetY-=p)}}},pB=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],s=i.length;if(a===0)var o=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],o=c.positionX,u=c.positionY;for(var d=0;d<s;d++){var f=e.layoutNodes[e.idToIndex[i[d]]];if(!f.isLocked){var v=o-f.positionX,h=u-f.positionY,y=Math.sqrt(v*v+h*h);if(y>n){var b=r.gravity*v/y,g=r.gravity*h/y;f.offsetX+=b,f.offsetY+=g}}}}},gB=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var s=n[a++],o=e.idToIndex[s],u=e.layoutNodes[o],l=u.children;if(0<l.length&&!u.isLocked){for(var c=u.offsetX,d=u.offsetY,f=0;f<l.length;f++){var v=e.layoutNodes[e.idToIndex[l[f]]];v.offsetX+=c,v.offsetY+=d,n[++i]=l[f]}u.offsetX=0,u.offsetY=0}}},mB=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=yB(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,Hw(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},yB=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},Hw=function(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return Hw(a,r)}},L0=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var s=n[i],o=s.cmptId,u=a[o]=a[o]||[];u.push(s)}for(var l=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var d=0;d<c.length;d++){var f=c[d];c.x1=Math.min(c.x1,f.positionX-f.width/2),c.x2=Math.max(c.x2,f.positionX+f.width/2),c.y1=Math.min(c.y1,f.positionY-f.height/2),c.y2=Math.max(c.y2,f.positionY+f.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}a.sort(function(p,w){return w.w*w.h-p.w*p.h});for(var v=0,h=0,y=0,b=0,g=Math.sqrt(l)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var d=0;d<c.length;d++){var f=c[d];f.isLocked||(f.positionX+=v-c.x1,f.positionY+=h-c.y1)}v+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,b=Math.max(b,c.h),y>g&&(h+=b+r.componentSpacing,v=0,y=0,b=0)}}},xB={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Gw(t){this.options=je({},xB,t)}Gw.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=kr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(ee){return{x:i.x1,y:i.y1}});else{var s=a.size(),o=Math.sqrt(s*i.h/i.w),u=Math.round(o),l=Math.round(i.w/i.h*o),c=function(re){if(re==null)return Math.min(u,l);var te=Math.min(u,l);te==u?u=re:l=re},d=function(re){if(re==null)return Math.max(u,l);var te=Math.max(u,l);te==u?u=re:l=re},f=e.rows,v=e.cols!=null?e.cols:e.columns;if(f!=null&&v!=null)u=f,l=v;else if(f!=null&&v==null)u=f,l=Math.ceil(s/u);else if(f==null&&v!=null)l=v,u=Math.ceil(s/l);else if(l*u>s){var h=c(),y=d();(h-1)*y>=s?c(h-1):(y-1)*h>=s&&d(y-1)}else for(;l*u<s;){var b=c(),g=d();(g+1)*b>=s?d(g+1):c(b+1)}var p=i.w/l,w=i.h/u;if(e.condense&&(p=0,w=0),e.avoidOverlap)for(var E=0;E<a.length;E++){var k=a[E],N=k._private.position;(N.x==null||N.y==null)&&(N.x=0,N.y=0);var C=k.layoutDimensions(e),A=e.avoidOverlapPadding,B=C.w+A,P=C.h+A;p=Math.max(p,B),w=Math.max(w,P)}for(var D={},M=function(re,te){return!!D["c-"+re+"-"+te]},L=function(re,te){D["c-"+re+"-"+te]=!0},I=0,z=0,F=function(){z++,z>=l&&(z=0,I++)},j={},O=0;O<a.length;O++){var V=a[O],$=e.position(V);if($&&($.row!==void 0||$.col!==void 0)){var W={row:$.row,col:$.col};if(W.col===void 0)for(W.col=0;M(W.row,W.col);)W.col++;else if(W.row===void 0)for(W.row=0;M(W.row,W.col);)W.row++;j[V.id()]=W,L(W.row,W.col)}}var H=function(re,te){var le,fe;if(re.locked()||re.isParent())return!1;var me=j[re.id()];if(me)le=me.col*p+p/2+i.x1,fe=me.row*w+w/2+i.y1;else{for(;M(I,z);)F();le=z*p+p/2+i.x1,fe=I*w+w/2+i.y1,L(I,z),F()}return{x:le,y:fe}};a.layoutPositions(this,e,H)}return this};var bB={ready:function(){},stop:function(){}};function Kp(t){this.options=je({},bB,t)}Kp.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Kp.prototype.stop=function(){return this};var wB={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Kw(t){this.options=je({},wB,t)}Kw.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Bt(t.positions);function a(i){if(t.positions==null)return WN(i.position());if(n)return t.positions(i);var s=t.positions[i._private.data.id];return s??null}return r.layoutPositions(this,t,function(i,s){var o=a(i);return i.locked()||o==null?!1:o}),this};var SB={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Qw(t){this.options=je({},SB,t)}Qw.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=kr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var EB=[{name:"breadthfirst",impl:qw},{name:"circle",impl:Vw},{name:"concentric",impl:Ww},{name:"cose",impl:Yc},{name:"grid",impl:Gw},{name:"null",impl:Kp},{name:"preset",impl:Kw},{name:"random",impl:Qw}];function Yw(t){this.options=t,this.notifications=0}var _0=function(){},M0=function(){throw new Error("A headless instance can not render images")};Yw.prototype={recalculateRenderedStyle:_0,notify:function(){this.notifications++},init:_0,isHeadless:function(){return!0},png:M0,jpg:M0};var Qp={};Qp.arrowShapeWidth=.3;Qp.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,c,d,f,v,h,y){var b=v.x-d/2-y,g=v.x+d/2+y,p=v.y-d/2-y,w=v.y+d/2+y,E=b<=l&&l<=g&&p<=c&&c<=w;return E},n=function(l,c,d,f,v){var h=l*Math.cos(f)-c*Math.sin(f),y=l*Math.sin(f)+c*Math.cos(f),b=h*d,g=y*d,p=b+v.x,w=g+v.y;return{x:p,y:w}},a=function(l,c,d,f){for(var v=[],h=0;h<l.length;h+=2){var y=l[h],b=l[h+1];v.push(n(y,b,c,d,f))}return v},i=function(l){for(var c=[],d=0;d<l.length;d++){var f=l[d];c.push(f.x,f.y)}return c},s=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},o=function(l,c){_e(c)&&(c=t[c]),t[l]=je({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,v,h,y,b,g){var p=i(a(this.points,h+2*g,y,b)),w=_r(f,v,p);return w},roughCollide:r,draw:function(f,v,h,y){var b=a(this.points,v,h,y);e.arrowShapeImpl("polygon")(f,b)},spacing:function(f){return 0},gap:s},c)};o("none",{collide:ic,roughCollide:ic,draw:_p,spacing:Qm,gap:Qm}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,c,d,f,v){var h=a(this.points,c,d,f),y=this.controlPoint,b=n(y[0],y[1],c,d,f);e.arrowShapeImpl(this.name)(l,h,b)},gap:function(l){return s(l)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,d,f,v,h,y){var b=i(a(this.points,d+2*y,f,v)),g=i(a(this.pointsTee,d+2*y,f,v)),p=_r(l,c,b)||_r(l,c,g);return p},draw:function(l,c,d,f,v){var h=a(this.points,c,d,f),y=a(this.pointsTee,c,d,f);e.arrowShapeImpl(this.name)(l,h,y)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,d,f,v,h,y){var b=v,g=Math.pow(b.x-l,2)+Math.pow(b.y-c,2)<=Math.pow((d+2*y)*this.radius,2),p=i(a(this.points,d+2*y,f,v));return _r(l,c,p)||g},draw:function(l,c,d,f,v){var h=a(this.pointsTr,c,d,f);e.arrowShapeImpl(this.name)(l,h,f.x,f.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var d=this.baseCrossLinePts.slice(),f=c/l,v=3,h=5;return d[v]=d[v]-f,d[h]=d[h]-f,d},collide:function(l,c,d,f,v,h,y){var b=i(a(this.points,d+2*y,f,v)),g=i(a(this.crossLinePts(d,h),d+2*y,f,v)),p=_r(l,c,b)||_r(l,c,g);return p},draw:function(l,c,d,f,v){var h=a(this.points,c,d,f),y=a(this.crossLinePts(c,v),c,d,f);e.arrowShapeImpl(this.name)(l,h,y)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return s(l)*.525}}),o("circle",{radius:.15,collide:function(l,c,d,f,v,h,y){var b=v,g=Math.pow(b.x-l,2)+Math.pow(b.y-c,2)<=Math.pow((d+2*y)*this.radius,2);return g},draw:function(l,c,d,f,v){e.arrowShapeImpl(this.name)(l,f.x,f.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var ki={};ki.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],s=n[4],o=r.pan(),u=r.zoom(),l=((t-a)/s-o.x)/u,c=((e-i)/s-o.y)/u;return[l,c]};ki.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(g){return parseFloat(r.getPropertyValue(g))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,u=a.left+a.right,l=a.top+a.bottom,c=i.left+i.right,d=e.width/(s+c),f=s-u,v=o-l,h=e.left+a.left+i.left,y=e.top+a.top+i.top;return this.containerBB=[h,y,f,v,d]};ki.invalidateContainerClientCoordsCache=function(){this.containerBB=null};ki.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};ki.findNearestElements=function(t,e,r,n){var a=this,i=this,s=i.getCachedZSortedEles(),o=[],u=i.cy.zoom(),l=i.cy.hasCompoundNodes(),c=(n?24:8)/u,d=(n?8:2)/u,f=(n?8:2)/u,v=1/0,h,y;r&&(s=s.interactive);function b(C,A){if(C.isNode()){if(y)return;y=C,o.push(C)}if(C.isEdge()&&(A==null||A<v))if(h){if(h.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&h.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var B=0;B<o.length;B++)if(o[B].isEdge()){o[B]=C,h=C,v=A??v;break}}}else o.push(C),h=C,v=A??v}function g(C){var A=C.outerWidth()+2*d,B=C.outerHeight()+2*d,P=A/2,D=B/2,M=C.position(),L=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,I=C._private.rscratch;if(M.x-P<=t&&t<=M.x+P&&M.y-D<=e&&e<=M.y+D){var z=i.nodeShapes[a.getNodeShape(C)];if(z.checkPoint(t,e,0,A,B,M.x,M.y,L,I))return b(C,0),!0}}function p(C){var A=C._private,B=A.rscratch,P=C.pstyle("width").pfValue,D=C.pstyle("arrow-scale").value,M=P/2+c,L=M*M,I=M*2,O=A.source,V=A.target,z;if(B.edgeType==="segments"||B.edgeType==="straight"||B.edgeType==="haystack"){for(var F=B.allpts,j=0;j+3<F.length;j+=2)if(nA(t,e,F[j],F[j+1],F[j+2],F[j+3],I)&&L>(z=lA(t,e,F[j],F[j+1],F[j+2],F[j+3])))return b(C,z),!0}else if(B.edgeType==="bezier"||B.edgeType==="multibezier"||B.edgeType==="self"||B.edgeType==="compound"){for(var F=B.allpts,j=0;j+5<B.allpts.length;j+=4)if(aA(t,e,F[j],F[j+1],F[j+2],F[j+3],F[j+4],F[j+5],I)&&L>(z=oA(t,e,F[j],F[j+1],F[j+2],F[j+3],F[j+4],F[j+5])))return b(C,z),!0}for(var O=O||A.source,V=V||A.target,$=a.getArrowWidth(P,D),W=[{name:"source",x:B.arrowStartX,y:B.arrowStartY,angle:B.srcArrowAngle},{name:"target",x:B.arrowEndX,y:B.arrowEndY,angle:B.tgtArrowAngle},{name:"mid-source",x:B.midX,y:B.midY,angle:B.midsrcArrowAngle},{name:"mid-target",x:B.midX,y:B.midY,angle:B.midtgtArrowAngle}],j=0;j<W.length;j++){var H=W[j],ee=i.arrowShapes[C.pstyle(H.name+"-arrow-shape").value],re=C.pstyle("width").pfValue;if(ee.roughCollide(t,e,$,H.angle,{x:H.x,y:H.y},re,c)&&ee.collide(t,e,$,H.angle,{x:H.x,y:H.y},re,c))return b(C),!0}l&&o.length>0&&(g(O),g(V))}function w(C,A,B){return Lr(C,A,B)}function E(C,A){var B=C._private,P=f,D;A?D=A+"-":D="",C.boundingBox();var M=B.labelBounds[A||"main"],L=C.pstyle(D+"label").value,I=C.pstyle("text-events").strValue==="yes";if(!(!I||!L)){var z=w(B.rscratch,"labelX",A),F=w(B.rscratch,"labelY",A),j=w(B.rscratch,"labelAngle",A),O=C.pstyle(D+"text-margin-x").pfValue,V=C.pstyle(D+"text-margin-y").pfValue,$=M.x1-P-O,W=M.x2+P-O,H=M.y1-P-V,ee=M.y2+P-V;if(j){var re=Math.cos(j),te=Math.sin(j),le=function(ae,pe){return ae=ae-z,pe=pe-F,{x:ae*re-pe*te+z,y:ae*te+pe*re+F}},fe=le($,H),me=le($,ee),ue=le(W,H),G=le(W,ee),Q=[fe.x+O,fe.y+V,ue.x+O,ue.y+V,G.x+O,G.y+V,me.x+O,me.y+V];if(_r(t,e,Q))return b(C),!0}else if(ga(M,t,e))return b(C),!0}}for(var k=s.length-1;k>=0;k--){var N=s[k];N.isNode()?g(N)||E(N):p(N)||E(N)||E(N,"source")||E(N,"target")}return o};ki.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),s=2/i,o=[],u=Math.min(t,r),l=Math.max(t,r),c=Math.min(e,n),d=Math.max(e,n);t=u,r=l,e=c,n=d;var f=kr({x1:t,y1:e,x2:r,y2:n}),v=[{x:f.x1,y:f.y1},{x:f.x2,y:f.y1},{x:f.x2,y:f.y2},{x:f.x1,y:f.y2}],h=[[v[0],v[1]],[v[1],v[2]],[v[2],v[3]],[v[3],v[0]]];function y(ae,pe,Te){return Lr(ae,pe,Te)}function b(ae,pe){var Te=ae._private,Be=s,$e="";ae.boundingBox();var Ie=Te.labelBounds.main;if(!Ie)return null;var De=y(Te.rscratch,"labelX",pe),ye=y(Te.rscratch,"labelY",pe),ke=y(Te.rscratch,"labelAngle",pe),Pe=ae.pstyle($e+"text-margin-x").pfValue,Ue=ae.pstyle($e+"text-margin-y").pfValue,Re=Ie.x1-Be-Pe,He=Ie.x2+Be-Pe,Qe=Ie.y1-Be-Ue,Ye=Ie.y2+Be-Ue;if(ke){var nt=Math.cos(ke),at=Math.sin(ke),Fe=function(ie,_){return ie=ie-De,_=_-ye,{x:ie*nt-_*at+De,y:ie*at+_*nt+ye}};return[Fe(Re,Qe),Fe(He,Qe),Fe(He,Ye),Fe(Re,Ye)]}else return[{x:Re,y:Qe},{x:He,y:Qe},{x:He,y:Ye},{x:Re,y:Ye}]}function g(ae,pe,Te,Be){function $e(Ie,De,ye){return(ye.y-Ie.y)*(De.x-Ie.x)>(De.y-Ie.y)*(ye.x-Ie.x)}return $e(ae,Te,Be)!==$e(pe,Te,Be)&&$e(ae,pe,Te)!==$e(ae,pe,Be)}for(var p=0;p<a.length;p++){var w=a[p];if(w.isNode()){var E=w,k=E.pstyle("text-events").strValue==="yes",N=E.pstyle("box-selection").strValue,C=E.pstyle("box-select-labels").strValue==="yes";if(N==="none")continue;var A=(N==="overlap"||C)&&k,B=E.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:A});if(N==="contain"){var P=!1;if(C&&k){var D=b(E);D&&uf(D,v)&&(o.push(E),P=!0)}!P&&nw(f,B)&&o.push(E)}else if(N==="overlap"&&jp(f,B)){var M=E.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),L=[{x:M.x1,y:M.y1},{x:M.x2,y:M.y1},{x:M.x2,y:M.y2},{x:M.x1,y:M.y2}];if(uf(L,v))o.push(E);else{var I=b(E);I&&uf(I,v)&&o.push(E)}}}else{var z=w,F=z._private,j=F.rscratch,O=z.pstyle("box-selection").strValue;if(O==="none")continue;if(O==="contain"){if(j.startX!=null&&j.startY!=null&&!ga(f,j.startX,j.startY)||j.endX!=null&&j.endY!=null&&!ga(f,j.endX,j.endY))continue;if(j.edgeType==="bezier"||j.edgeType==="multibezier"||j.edgeType==="self"||j.edgeType==="compound"||j.edgeType==="segments"||j.edgeType==="haystack"){for(var V=F.rstyle.bezierPts||F.rstyle.linePts||F.rstyle.haystackPts,$=!0,W=0;W<V.length;W++)if(!ey(f,V[W])){$=!1;break}$&&o.push(z)}else j.edgeType==="straight"&&o.push(z)}else if(O==="overlap"){var H=!1;if(j.startX!=null&&j.startY!=null&&j.endX!=null&&j.endY!=null&&(ga(f,j.startX,j.startY)||ga(f,j.endX,j.endY)))o.push(z),H=!0;else if(!H&&j.edgeType==="haystack"){for(var ee=F.rstyle.haystackPts,re=0;re<ee.length;re++)if(ey(f,ee[re])){o.push(z),H=!0;break}}if(!H){var te=F.rstyle.bezierPts||F.rstyle.linePts||F.rstyle.haystackPts;if((!te||te.length<2)&&j.edgeType==="straight"&&j.startX!=null&&j.startY!=null&&j.endX!=null&&j.endY!=null&&(te=[{x:j.startX,y:j.startY},{x:j.endX,y:j.endY}]),!te||te.length<2)continue;for(var le=0;le<te.length-1;le++){for(var fe=te[le],me=te[le+1],ue=0;ue<h.length;ue++){var G=Ft(h[ue],2),Q=G[0],X=G[1];if(g(fe,me,Q,X)){o.push(z),H=!0;break}}if(H)break}}}}}return o};var fc={};fc.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",u,l,c,d,f,v,g,p;if(r?(c=e.haystackPts[0],d=e.haystackPts[1],f=e.haystackPts[2],v=e.haystackPts[3]):(c=e.arrowStartX,d=e.arrowStartY,f=e.arrowEndX,v=e.arrowEndY),g=e.midX,p=e.midY,i)u=c-e.segpts[0],l=d-e.segpts[1];else if(a||s||o||n){var h=e.allpts,y=er(h[0],h[2],h[4],.1),b=er(h[1],h[3],h[5],.1);u=c-y,l=d-b}else u=c-g,l=d-p;e.srcArrowAngle=Xl(u,l);var g=e.midX,p=e.midY;if(r&&(g=(c+f)/2,p=(d+v)/2),u=f-c,l=v-d,i){var h=e.allpts;if(h.length/2%2===0){var w=h.length/2,E=w-2;u=h[w]-h[E],l=h[w+1]-h[E+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var w=h.length/2-1,E=w-2;u=h[w]-h[E],l=h[w+1]-h[E+1]}}else if(a||s||o){var h=e.allpts,k=e.ctrlpts,N,C,A,B;if(k.length/2%2===0){var P=h.length/2-1,D=P+2,M=D+2;N=er(h[P],h[D],h[M],0),C=er(h[P+1],h[D+1],h[M+1],0),A=er(h[P],h[D],h[M],1e-4),B=er(h[P+1],h[D+1],h[M+1],1e-4)}else{var D=h.length/2-1,P=D-2,M=D+2;N=er(h[P],h[D],h[M],.4999),C=er(h[P+1],h[D+1],h[M+1],.4999),A=er(h[P],h[D],h[M],.5),B=er(h[P+1],h[D+1],h[M+1],.5)}u=A-N,l=B-C}if(e.midtgtArrowAngle=Xl(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,i){var h=e.allpts;if(h.length/2%2!==0){if(!e.isRound){var w=h.length/2-1,L=w+2;u=-(h[L]-h[w]),l=-(h[L+1]-h[w+1])}}}if(e.midsrcArrowAngle=Xl(u,l),i)u=f-e.segpts[e.segpts.length-2],l=v-e.segpts[e.segpts.length-1];else if(a||s||o||n){var h=e.allpts,I=h.length,y=er(h[I-6],h[I-4],h[I-2],.9),b=er(h[I-5],h[I-3],h[I-1],.9);u=f-y,l=v-b}else u=f-g,l=v-p;e.tgtArrowAngle=Xl(u,l)};fc.getArrowWidth=fc.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Cv,kv,kn={},Xr={},O0,I0,ri,Pu,zn,Qa,ei,En,Ii,iu,Xw,Zw,Tv,Nv,j0,z0=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},CB=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},kB=function(e,r,n,a,i){if(e!==j0?z0(r,e,kn):CB(Xr,kn),z0(r,n,Xr),O0=kn.nx*Xr.ny-kn.ny*Xr.nx,I0=kn.nx*Xr.nx-kn.ny*-Xr.ny,zn=Math.asin(Math.max(-1,Math.min(1,O0))),Math.abs(zn)<1e-6){Cv=r.x,kv=r.y,ei=Ii=0;return}ri=1,Pu=!1,I0<0?zn<0?zn=Math.PI+zn:(zn=Math.PI-zn,ri=-1,Pu=!0):zn>0&&(ri=-1,Pu=!0),r.radius!==void 0?Ii=r.radius:Ii=a,Qa=zn/2,iu=Math.min(kn.len/2,Xr.len/2),i?(En=Math.abs(Math.cos(Qa)*Ii/Math.sin(Qa)),En>iu?(En=iu,ei=Math.abs(En*Math.sin(Qa)/Math.cos(Qa))):ei=Ii):(En=Math.min(iu,Ii),ei=Math.abs(En*Math.sin(Qa)/Math.cos(Qa))),Tv=r.x+Xr.nx*En,Nv=r.y+Xr.ny*En,Cv=Tv-Xr.ny*ei*ri,kv=Nv+Xr.nx*ei*ri,Xw=r.x+kn.nx*En,Zw=r.y+kn.ny*En,j0=r};function Jw(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Yp(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(kB(t,e,r,n,a),{cx:Cv,cy:kv,radius:ei,startX:Xw,startY:Zw,stopX:Tv,stopY:Nv,startAngle:kn.ang+Math.PI/2*ri,endAngle:Xr.ang-Math.PI/2*ri,counterClockwise:Pu})}var Zo=.01,TB=Math.sqrt(2*Zo),br={};br.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),u=s.units!=null&&o.units!=null,l=function(k,N,C,A){var B=A-N,P=C-k,D=Math.sqrt(P*P+B*B);return{x:-B/D,y:P/D}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var d=this.manualEndptToPx(t.source()[0],s),f=Ft(d,2),v=f[0],h=f[1],y=this.manualEndptToPx(t.target()[0],o),b=Ft(y,2),g=b[0],p=b[1],w={x1:v,y1:h,x2:g,y2:p};a=l(v,h,g,p),i=w}else dt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};br.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var s=n.source,o=n.target,u=s.position(),l=o.position(),c=s.width(),d=o.width(),f=s.height(),v=o.height(),h=r.pstyle("haystack-radius").value,y=h/2;a.haystackPts=a.allpts=[a.source.x*c*y+u.x,a.source.y*f*y+u.y,a.target.x*d*y+l.x,a.target.y*v*y+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};br.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],l=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<o;c++){var d=n.pfValue[c],f=a.pfValue[c],v=1-d,h=d,y=this.findMidptPtsEtc(t,e),b=y.midptPts,g=y.vectorNormInverse,p={x:b.x1*v+b.x2*h,y:b.y1*v+b.y2*h};r.segpts.push(p.x+g.x*f,p.y+g.y*f),r.radii.push(i.pfValue[c]!==void 0?i.pfValue[c]:u),r.isArcRadius.push((s.pfValue[c]!==void 0?s.pfValue[c]:l)==="arc-radius")}};br.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),u=o?o.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var f=r,v=d;n&&(f=0,v=u);var h=l-Math.PI/2,y=h-c/2,b=h+c/2,g=l+"_"+c;f=i[g]===void 0?i[g]=0:++i[g],a.ctrlpts=[s.x+Math.cos(y)*1.4*v*(f/3+1),s.y+Math.sin(y)*1.4*v*(f/3+1),s.x+Math.cos(b)*1.4*v*(f/3+1),s.y+Math.sin(b)*1.4*v*(f/3+1)]};br.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,s=e.tgtPos,o=e.srcW,u=e.srcH,l=e.tgtW,c=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,f=t.pstyle("control-point-distances"),v=f?f.pfValue[0]:void 0,h=r,y=d;n&&(h=0,y=v);var b=50,g={x:i.x-o/2,y:i.y-u/2},p={x:s.x-l/2,y:s.y-c/2},w={x:Math.min(g.x,p.x),y:Math.min(g.y,p.y)},E=.5,k=Math.max(E,Math.log(o*Zo)),N=Math.max(E,Math.log(l*Zo));a.ctrlpts=[w.x,w.y-(1+Math.pow(b,1.12)/100)*y*(h/3+1)*k,w.x-(1+Math.pow(b,1.12)/100)*y*(h/3+1)*N,w.y]};br.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};br.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),l=o&&u?Math.min(o.value.length,u.value.length):1,c=o?o.pfValue[0]:void 0,d=u.value[0],f=n;i.edgeType=f?"multibezier":"bezier",i.ctrlpts=[];for(var v=0;v<l;v++){var h=(.5-e.eles.length/2+r)*s*(a?-1:1),y=void 0,b=Ip(h);f&&(c=o?o.pfValue[v]:s,d=u.value[v]),n?y=c:y=c!==void 0?b*c:void 0;var g=y!==void 0?y:h,p=1-d,w=d,E=this.findMidptPtsEtc(t,e),k=E.midptPts,N=E.vectorNormInverse,C={x:k.x1*p+k.x2*w,y:k.y1*p+k.y2*w};i.ctrlpts.push(C.x+N.x*g,C.y+N.y*g)}};br.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",s="rightward",o="downward",u="upward",l="auto",c=e.posPts,d=e.srcW,f=e.srcH,v=e.tgtW,h=e.tgtH,y=t.pstyle("edge-distances").value,b=y!=="node-position",g=t.pstyle("taxi-direction").value,p=g,w=t.pstyle("taxi-turn"),E=w.units==="%",k=w.pfValue,N=k<0,C=t.pstyle("taxi-turn-min-distance").pfValue,A=b?(d+v)/2:0,B=b?(f+h)/2:0,P=c.x2-c.x1,D=c.y2-c.y1,M=function(_,U){return _>0?Math.max(_-U,0):Math.min(_+U,0)},L=M(P,A),I=M(D,B),z=!1;p===l?g=Math.abs(L)>Math.abs(I)?a:n:p===u||p===o?(g=n,z=!0):(p===i||p===s)&&(g=a,z=!0);var F=g===n,j=F?I:L,O=F?D:P,V=Ip(O),$=!1;!(z&&(E||N))&&(p===o&&O<0||p===u&&O>0||p===i&&O>0||p===s&&O<0)&&(V*=-1,j=V*Math.abs(j),$=!0);var W;if(E){var H=k<0?1+k:k;W=H*j}else{var ee=k<0?j:0;W=ee+k*V}var re=function(_){return Math.abs(_)<C||Math.abs(_)>=Math.abs(j)},te=re(W),le=re(Math.abs(j)-Math.abs(W)),fe=te||le;if(fe&&!$)if(F){var me=Math.abs(O)<=f/2,ue=Math.abs(P)<=v/2;if(me){var G=(c.x1+c.x2)/2,Q=c.y1,X=c.y2;r.segpts=[G,Q,G,X]}else if(ue){var ae=(c.y1+c.y2)/2,pe=c.x1,Te=c.x2;r.segpts=[pe,ae,Te,ae]}else r.segpts=[c.x1,c.y2]}else{var Be=Math.abs(O)<=d/2,$e=Math.abs(D)<=h/2;if(Be){var Ie=(c.y1+c.y2)/2,De=c.x1,ye=c.x2;r.segpts=[De,Ie,ye,Ie]}else if($e){var ke=(c.x1+c.x2)/2,Pe=c.y1,Ue=c.y2;r.segpts=[ke,Pe,ke,Ue]}else r.segpts=[c.x2,c.y1]}else if(F){var Re=c.y1+W+(b?f/2*V:0),He=c.x1,Qe=c.x2;r.segpts=[He,Re,Qe,Re]}else{var Ye=c.x1+W+(b?d/2*V:0),nt=c.y1,at=c.y2;r.segpts=[Ye,nt,Ye,at]}if(r.isRound){var Fe=t.pstyle("taxi-radius").value,we=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Fe),r.isArcRadius=new Array(r.segpts.length/2).fill(we)}};br.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,s=e.srcH,o=e.tgtW,u=e.tgtH,l=e.srcShape,c=e.tgtShape,d=e.srcCornerRadius,f=e.tgtCornerRadius,v=e.srcRs,h=e.tgtRs,y=!ge(r.startX)||!ge(r.startY),b=!ge(r.arrowStartX)||!ge(r.arrowStartY),g=!ge(r.endX)||!ge(r.endY),p=!ge(r.arrowEndX)||!ge(r.arrowEndY),w=3,E=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,k=w*E,N=gi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),C=N<k,A=gi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),B=A<k,P=!1;if(y||b||C){P=!0;var D={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},M=Math.sqrt(D.x*D.x+D.y*D.y),L={x:D.x/M,y:D.y/M},I=Math.max(i,s),z={x:r.ctrlpts[0]+L.x*2*I,y:r.ctrlpts[1]+L.y*2*I},F=l.intersectLine(n.x,n.y,i,s,z.x,z.y,0,d,v);C?(r.ctrlpts[0]=r.ctrlpts[0]+L.x*(k-N),r.ctrlpts[1]=r.ctrlpts[1]+L.y*(k-N)):(r.ctrlpts[0]=F[0]+L.x*k,r.ctrlpts[1]=F[1]+L.y*k)}if(g||p||B){P=!0;var j={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},O=Math.sqrt(j.x*j.x+j.y*j.y),V={x:j.x/O,y:j.y/O},$=Math.max(i,s),W={x:r.ctrlpts[0]+V.x*2*$,y:r.ctrlpts[1]+V.y*2*$},H=c.intersectLine(a.x,a.y,o,u,W.x,W.y,0,f,h);B?(r.ctrlpts[0]=r.ctrlpts[0]+V.x*(k-A),r.ctrlpts[1]=r.ctrlpts[1]+V.y*(k-A)):(r.ctrlpts[0]=H[0]+V.x*k,r.ctrlpts[1]=H[1]+V.y*k)}P&&this.findEndpoints(t)}};br.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=er(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=er(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var s=e.radii[i/2-1],o=e.isArcRadius[i/2-1];e.roundCorners.push(Yp({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:s},{x:e.allpts[i+2],y:e.allpts[i+3]},s,o))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var d={x:e.segpts[c],y:e.segpts[c+1]},f=e.roundCorners[c/2];if(f.radius===0){var v={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=d.x,e.midY=d.y,e.midVector=[d.y-v.y,v.x-d.x]}else{var h=[d.x-f.cx,d.y-f.cy],y=f.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(b){return b*y}),e.midX=f.cx+h[0],e.midY=f.cy+h[1],e.midVector=h}}}}};br.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||ge(e.startX)&&ge(e.startY)&&ge(e.endX)&&ge(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,dt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};br.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new Un,s=function(B,P){return[].concat(rc(B),[P?1:0]).join("-")},o=[],u=[],l=0;l<t.length;l++){var c=t[l],d=c._private,f=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(f==="haystack"){u.push(c);continue}var v=f==="unbundled-bezier"||pa(f,"segments")||f==="straight"||f==="straight-triangle"||pa(f,"taxi"),h=f==="unbundled-bezier"||f==="bezier",y=d.source,b=d.target,g=y.poolIndex(),p=b.poolIndex(),w=[g,p].sort(),E=s(w,v),k=i.get(E);k==null&&(k={eles:[]},o.push({pairId:w,edgeIsUnbundled:v}),i.set(E,k)),k.eles.push(c),v&&(k.hasUnbundled=!0),h&&(k.hasBezier=!0)}}for(var N=function(){var B=o[C],P=B.pairId,D=B.edgeIsUnbundled,M=s(P,D),L=i.get(M),I;if(!L.hasUnbundled){var z=L.eles[0].parallelEdges().filter(function(we){return we.isBundledBezier()});Mp(L.eles),z.forEach(function(we){return L.eles.push(we)}),L.eles.sort(function(we,ie){return we.poolIndex()-ie.poolIndex()})}var F=L.eles[0],j=F.source(),O=F.target();if(j.poolIndex()>O.poolIndex()){var V=j;j=O,O=V}var $=L.srcPos=j.position(),W=L.tgtPos=O.position(),H=L.srcW=j.outerWidth(),ee=L.srcH=j.outerHeight(),re=L.tgtW=O.outerWidth(),te=L.tgtH=O.outerHeight(),le=L.srcShape=r.nodeShapes[e.getNodeShape(j)],fe=L.tgtShape=r.nodeShapes[e.getNodeShape(O)],me=L.srcCornerRadius=j.pstyle("corner-radius").value==="auto"?"auto":j.pstyle("corner-radius").pfValue,ue=L.tgtCornerRadius=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,G=L.tgtRs=O._private.rscratch,Q=L.srcRs=j._private.rscratch;L.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var X=0;X<L.eles.length;X++){var ae=L.eles[X],pe=ae[0]._private.rscratch,Te=ae.pstyle("curve-style").value,Be=Te==="unbundled-bezier"||pa(Te,"segments")||pa(Te,"taxi"),$e=!j.same(ae.source());if(!L.calculatedIntersection&&j!==O&&(L.hasBezier||L.hasUnbundled)){L.calculatedIntersection=!0;var Ie=le.intersectLine($.x,$.y,H,ee,W.x,W.y,0,me,Q),De=L.srcIntn=Ie,ye=fe.intersectLine(W.x,W.y,re,te,$.x,$.y,0,ue,G),ke=L.tgtIntn=ye,Pe=L.intersectionPts={x1:Ie[0],x2:ye[0],y1:Ie[1],y2:ye[1]},Ue=L.posPts={x1:$.x,x2:W.x,y1:$.y,y2:W.y},Re=ye[1]-Ie[1],He=ye[0]-Ie[0],Qe=Math.sqrt(He*He+Re*Re);ge(Qe)&&Qe>=TB||(Qe=Math.sqrt(Math.max(He*He,Zo)+Math.max(Re*Re,Zo)));var Ye=L.vector={x:He,y:Re},nt=L.vectorNorm={x:Ye.x/Qe,y:Ye.y/Qe},at={x:-nt.y,y:nt.x};L.nodesOverlap=!ge(Qe)||fe.checkPoint(Ie[0],Ie[1],0,re,te,W.x,W.y,ue,G)||le.checkPoint(ye[0],ye[1],0,H,ee,$.x,$.y,me,Q),L.vectorNormInverse=at,I={nodesOverlap:L.nodesOverlap,dirCounts:L.dirCounts,calculatedIntersection:!0,hasBezier:L.hasBezier,hasUnbundled:L.hasUnbundled,eles:L.eles,srcPos:W,srcRs:G,tgtPos:$,tgtRs:Q,srcW:re,srcH:te,tgtW:H,tgtH:ee,srcIntn:ke,tgtIntn:De,srcShape:fe,tgtShape:le,posPts:{x1:Ue.x2,y1:Ue.y2,x2:Ue.x1,y2:Ue.y1},intersectionPts:{x1:Pe.x2,y1:Pe.y2,x2:Pe.x1,y2:Pe.y1},vector:{x:-Ye.x,y:-Ye.y},vectorNorm:{x:-nt.x,y:-nt.y},vectorNormInverse:{x:-at.x,y:-at.y}}}var Fe=$e?I:L;pe.nodesOverlap=Fe.nodesOverlap,pe.srcIntn=Fe.srcIntn,pe.tgtIntn=Fe.tgtIntn,pe.isRound=Te.startsWith("round"),a&&(j.isParent()||j.isChild()||O.isParent()||O.isChild())&&(j.parents().anySame(O)||O.parents().anySame(j)||j.same(O)&&j.isParent())?e.findCompoundLoopPoints(ae,Fe,X,Be):j===O?e.findLoopPoints(ae,Fe,X,Be):Te.endsWith("segments")?e.findSegmentsPoints(ae,Fe):Te.endsWith("taxi")?e.findTaxiPoints(ae,Fe):Te==="straight"||!Be&&L.eles.length%2===1&&X===Math.floor(L.eles.length/2)?e.findStraightEdgePoints(ae):e.findBezierPoints(ae,Fe,X,Be,$e),e.findEndpoints(ae),e.tryToCorrectInvalidPoints(ae,Fe),e.checkForInvalidEdgeWarning(ae),e.storeAllpts(ae),e.storeEdgeProjections(ae),e.calculateArrowAngles(ae),e.recalculateEdgeLabelProjections(ae),e.calculateLabelAngles(ae)}},C=0;C<o.length;C++)N();this.findHaystackPoints(u)}};function e2(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}br.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return e2(e.segpts)};br.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return e2(e.ctrlpts)};br.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ml={};ml.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*a),e.units[1]==="%"&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(a,i),c=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};ml.findEndpoints=function(t){var e,r,n,a,i=this,s,o=t.source()[0],u=t.target()[0],l=o.position(),c=u.position(),d=t.pstyle("target-arrow-shape").value,f=t.pstyle("source-arrow-shape").value,v=t.pstyle("target-distance-from-node").pfValue,h=t.pstyle("source-distance-from-node").pfValue,y=o._private.rscratch,b=u._private.rscratch,g=t.pstyle("curve-style").value,p=t._private.rscratch,w=p.edgeType,E=pa(g,"taxi"),k=w==="self"||w==="compound",N=w==="bezier"||w==="multibezier"||k,C=w!=="bezier",A=w==="straight"||w==="segments",B=w==="segments",P=N||C||A,D=k||E,M=t.pstyle("source-endpoint"),L=D?"outside-to-node":M.value,I=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue,z=t.pstyle("target-endpoint"),F=D?"outside-to-node":z.value,j=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;p.srcManEndpt=M,p.tgtManEndpt=z;var O,V,$,W,H=(e=(z==null||(r=z.pfValue)===null||r===void 0?void 0:r.length)===2?z.pfValue:null)!==null&&e!==void 0?e:[0,0],ee=(n=(M==null||(a=M.pfValue)===null||a===void 0?void 0:a.length)===2?M.pfValue:null)!==null&&n!==void 0?n:[0,0];if(N){var re=[p.ctrlpts[0],p.ctrlpts[1]],te=C?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:re;O=te,V=re}else if(A){var le=B?p.segpts.slice(0,2):[c.x+H[0],c.y+H[1]],fe=B?p.segpts.slice(p.segpts.length-2):[l.x+ee[0],l.y+ee[1]];O=fe,V=le}if(F==="inside-to-node")s=[c.x,c.y];else if(z.units)s=this.manualEndptToPx(u,z);else if(F==="outside-to-line")s=p.tgtIntn;else if(F==="outside-to-node"||F==="outside-to-node-or-label"?$=O:(F==="outside-to-line"||F==="outside-to-line-or-label")&&($=[l.x,l.y]),s=i.nodeShapes[this.getNodeShape(u)].intersectLine(c.x,c.y,u.outerWidth(),u.outerHeight(),$[0],$[1],0,j,b),F==="outside-to-node-or-label"||F==="outside-to-line-or-label"){var me=u._private.rscratch,ue=me.labelWidth,G=me.labelHeight,Q=me.labelX,X=me.labelY,ae=ue/2,pe=G/2,Te=u.pstyle("text-valign").value;Te==="top"?X-=pe:Te==="bottom"&&(X+=pe);var Be=u.pstyle("text-halign").value;Be==="left"?Q-=ae:Be==="right"&&(Q+=ae);var $e=Go($[0],$[1],[Q-ae,X-pe,Q+ae,X-pe,Q+ae,X+pe,Q-ae,X+pe],c.x,c.y);if($e.length>0){var Ie=l,De=Ja(Ie,es(s)),ye=Ja(Ie,es($e)),ke=De;if(ye<De&&(s=$e,ke=ye),$e.length>2){var Pe=Ja(Ie,{x:$e[2],y:$e[3]});Pe<ke&&(s=[$e[2],$e[3]])}}}var Ue=Zl(s,O,i.arrowShapes[d].spacing(t)+v),Re=Zl(s,O,i.arrowShapes[d].gap(t)+v);if(p.endX=Re[0],p.endY=Re[1],p.arrowEndX=Ue[0],p.arrowEndY=Ue[1],L==="inside-to-node")s=[l.x,l.y];else if(M.units)s=this.manualEndptToPx(o,M);else if(L==="outside-to-line")s=p.srcIntn;else if(L==="outside-to-node"||L==="outside-to-node-or-label"?W=V:(L==="outside-to-line"||L==="outside-to-line-or-label")&&(W=[c.x,c.y]),s=i.nodeShapes[this.getNodeShape(o)].intersectLine(l.x,l.y,o.outerWidth(),o.outerHeight(),W[0],W[1],0,I,y),L==="outside-to-node-or-label"||L==="outside-to-line-or-label"){var He=o._private.rscratch,Qe=He.labelWidth,Ye=He.labelHeight,nt=He.labelX,at=He.labelY,Fe=Qe/2,we=Ye/2,ie=o.pstyle("text-valign").value;ie==="top"?at-=we:ie==="bottom"&&(at+=we);var _=o.pstyle("text-halign").value;_==="left"?nt-=Fe:_==="right"&&(nt+=Fe);var U=Go(W[0],W[1],[nt-Fe,at-we,nt+Fe,at-we,nt+Fe,at+we,nt-Fe,at+we],l.x,l.y);if(U.length>0){var Z=c,J=Ja(Z,es(s)),se=Ja(Z,es(U)),xe=J;if(se<J&&(s=[U[0],U[1]],xe=se),U.length>2){var de=Ja(Z,{x:U[2],y:U[3]});de<xe&&(s=[U[2],U[3]])}}}var be=Zl(s,V,i.arrowShapes[f].spacing(t)+h),Se=Zl(s,V,i.arrowShapes[f].gap(t)+h);p.startX=Se[0],p.startY=Se[1],p.arrowStartX=be[0],p.arrowStartY=be[1],P&&(!ge(p.startX)||!ge(p.startY)||!ge(p.endX)||!ge(p.endY)?p.badLine=!0:p.badLine=!1)};ml.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};ml.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Xp={};function NB(t,e,r){for(var n=function(l,c,d,f){return er(l,c,d,f)},a=e._private,i=a.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];i.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}Xp.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)NB(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Xp.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var _n={};_n.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Ba(e)){var r,n,a=t._private,i=t.width(),s=t.height(),o=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,d=a.rscratch,f=a.rstyle;switch(l){case"left":r=u.x-i/2-o;break;case"right":r=u.x+i/2+o;break;default:r=u.x}switch(c){case"top":n=u.y-s/2-o;break;case"bottom":n=u.y+s/2+o;break;default:n=u.y}d.labelX=r,d.labelY=n,f.labelX=r,f.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var t2=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},r2=function(e,r){var n=r.x-e.x,a=r.y-e.y;return t2(n,a)},AB=function(e,r,n,a){var i=Ho(0,a-.001,1),s=Ho(0,a+.001,1),o=us(e,r,n,i),u=us(e,r,n,s);return r2(o,u)};_n.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var s=function(d,f,v){Vn(r.rscratch,d,f,v),Vn(r.rstyle,d,f,v)};s("labelX",null,e.x),s("labelY",null,e.y);var o=t2(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var u=function(){if(u.cache)return u.cache;for(var d=[],f=0;f+5<n.allpts.length;f+=4){var v={x:n.allpts[f],y:n.allpts[f+1]},h={x:n.allpts[f+2],y:n.allpts[f+3]},y={x:n.allpts[f+4],y:n.allpts[f+5]};d.push({p0:v,p1:h,p2:y,startDist:0,length:0,segments:[]})}var b=r.rstyle.bezierPts,g=a.bezierProjPcts.length;function p(C,A,B,P,D){var M=gi(A,B),L=C.segments[C.segments.length-1],I={p0:A,p1:B,t0:P,t1:D,startDist:L?L.startDist+L.length:0,length:M};C.segments.push(I),C.length+=M}for(var w=0;w<d.length;w++){var E=d[w],k=d[w-1];k&&(E.startDist=k.startDist+k.length),p(E,E.p0,b[w*g],0,a.bezierProjPcts[0]);for(var N=0;N<g-1;N++)p(E,b[w*g+N],b[w*g+N+1],a.bezierProjPcts[N],a.bezierProjPcts[N+1]);p(E,b[w*g+g-1],E.p2,a.bezierProjPcts[g-1],1)}return u.cache=d},l=function(d){var f,v=d==="source";if(i[d]){var h=t.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=u(),b,g=0,p=0,w=0;w<y.length;w++){for(var E=y[v?w:y.length-1-w],k=0;k<E.segments.length;k++){var N=E.segments[v?k:E.segments.length-1-k],C=w===y.length-1&&k===E.segments.length-1;if(g=p,p+=N.length,p>=h||C){b={cp:E,segment:N};break}}if(b)break}var A=b.cp,B=b.segment,P=(h-g)/B.length,D=B.t1-B.t0,M=v?B.t0+D*P:B.t1-D*P;M=Ho(0,M,1),e=us(A.p0,A.p1,A.p2,M),f=AB(A.p0,A.p1,A.p2,M);break}case"straight":case"segments":case"haystack":{for(var L=0,I,z,F,j,O=n.allpts.length,V=0;V+3<O&&(v?(F={x:n.allpts[V],y:n.allpts[V+1]},j={x:n.allpts[V+2],y:n.allpts[V+3]}):(F={x:n.allpts[O-2-V],y:n.allpts[O-1-V]},j={x:n.allpts[O-4-V],y:n.allpts[O-3-V]}),I=gi(F,j),z=L,L+=I,!(L>=h));V+=2);var $=h-z,W=$/I;W=Ho(0,W,1),e=YN(F,j,W),f=r2(F,j);break}}s("labelX",d,e.x),s("labelY",d,e.y),s("labelAutoAngle",d,f)}};l("source"),l("target"),this.applyLabelDimensions(t)}};_n.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};_n.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=pi(n,t._private.labelDimsKey);if(Lr(r.rscratch,"prefixedLabelDimsKey",e)!==a){Vn(r.rscratch,"prefixedLabelDimsKey",e,a);var i=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,u=Lr(r.rscratch,"labelWrapCachedLines",e)||[],l=o!=="wrap"?1:Math.max(u.length,1),c=i.height/l,d=c*s,f=i.width,v=i.height+(l-1)*(s-1)*c;Vn(r.rstyle,"labelWidth",e,f),Vn(r.rscratch,"labelWidth",e,f),Vn(r.rstyle,"labelHeight",e,v),Vn(r.rscratch,"labelHeight",e,v),Vn(r.rscratch,"labelLineHeight",e,d)}};_n.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,s=function(ee,re){return re?(Vn(r.rscratch,ee,e,re),re):Lr(r.rscratch,ee,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var l="",c=a.split(`
`),d=t.pstyle("text-max-width").pfValue,f=t.pstyle("text-overflow-wrap").value,v=f==="anywhere",h=[],y=/[\s\u200b]+|$/g,b=0;b<c.length;b++){var g=c[b],p=this.calculateLabelDimensions(t,g),w=p.width;if(v){var E=g.split("").join(l);g=E}if(w>d){var k=g.matchAll(y),N="",C=0,A=Or(k),B;try{for(A.s();!(B=A.n()).done;){var P=B.value,D=P[0],M=g.substring(C,P.index);C=P.index+D.length;var L=N.length===0?M:N+M+D,I=this.calculateLabelDimensions(t,L),z=I.width;z<=d?N+=M+D:(N&&h.push(N),N=M+D)}}catch(H){A.e(H)}finally{A.f()}N.match(/^[\s\u200b]+$/)||h.push(N)}else h.push(g)}s("labelWrapCachedLines",h),a=s("labelWrapCachedText",h.join(`
`)),s("labelWrapKey",u)}else if(o==="ellipsis"){var F=t.pstyle("text-max-width").pfValue,j="",O="",V=!1;if(this.calculateLabelDimensions(t,a).width<F)return a;for(var $=0;$<a.length;$++){var W=this.calculateLabelDimensions(t,j+a[$]+O).width;if(W>F)break;j+=a[$],$===a.length-1&&(V=!0)}return V||(j+=O),j}return a};_n.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};_n.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,i=0,s=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue,u=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=a.createElement("canvas"),d=this.labelCalcCanvasContext=c.getContext("2d");var f=c.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}d.font="".concat(s," ").concat(l," ").concat(o,"px ").concat(u);for(var v=0,h=0,y=e.split(`
`),b=0;b<y.length;b++){var g=y[b],p=d.measureText(g),w=Math.ceil(p.width),E=o;v=Math.max(w,v),h+=E}return v+=i,h+=i,{width:v,height:h}};_n.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",s=t.pstyle(i+"text-rotation"),o=s.strValue;return o==="none"?0:a&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};_n.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var n2={},F0=28,q0=!1;n2.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<F0||t.height()<F0))return q0||(dt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),q0=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Xc={};Xc.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var u=0;u<s.length;u++){var l=s[u],c=l._private,d=c.rstyle;d.clean=!1,d.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var a=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(n(l.connectedEdges()),c.cleanConnected=!0)}if(o)for(var d=0;d<o.length;d++){var f=o[d];f(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Xc.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Xc.recalculateRenderedStyle=function(t,e){var r=function(E){return E._private.rstyle.cleanConnected};if(t.length!==0){var n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var s=t[i],o=s._private,u=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(w){return!w._private.rstyle.clean&&w.isBundledBezier()})&&(u.clean=!1),!(e&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?a.push(s):n.push(s),u.clean=!0)}for(var l=0;l<a.length;l++){var c=a[l],d=c._private,f=d.rstyle,v=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=v.x,f.nodeY=v.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var h=0;h<n.length;h++){var y=n[h],b=y._private,g=b.rstyle,p=b.rscratch;g.srcX=p.arrowStartX,g.srcY=p.arrowStartY,g.tgtX=p.arrowEndX,g.tgtY=p.arrowEndY,g.midX=p.midX,g.midY=p.midY,g.labelAngle=p.labelAngle,g.sourceLabelAngle=p.sourceLabelAngle,g.targetLabelAngle=p.targetLabelAngle}}}};var Zc={};Zc.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Zc.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Zc.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(jw),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var a2={};[ki,fc,br,ml,Xp,_n,n2,Xc,Zc].forEach(function(t){je(a2,t)});var i2={};i2.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var s=i.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",u=t.substring(0,o.length).toLowerCase()===o;return u||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var _s={};_s.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var i=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var u=this.binder(o);i.push(u.on.apply(u,a))}}return i}var u=this.binder(t);return u.on.apply(u,a)};_s.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||FT(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var s=function(u,l,c){var d=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(d[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:s,addEventListener:s,addListener:s,bind:s}};_s.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};_s.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};_s.load=function(){var t=this,e=t.cy.window(),r=function(_){return _.selected()},n=function(_){var U=_.getRootNode();if(U&&U.nodeType===11&&U.host!==void 0)return U},a=function(_,U,Z,J){_==null&&(_=t.cy);for(var se=0;se<U.length;se++){var xe=U[se];_.emit({originalEvent:Z,type:xe,position:J})}},i=function(_){return _.shiftKey||_.metaKey||_.ctrlKey},s=function(_,U){var Z=!0;if(t.cy.hasCompoundNodes()&&_&&_.pannable())for(var J=0;U&&J<U.length;J++){var _=U[J];if(_.isNode()&&_.isParent()&&!_.pannable()){Z=!1;break}}else Z=!0;return Z},o=function(_){_[0]._private.grabbed=!0},u=function(_){_[0]._private.grabbed=!1},l=function(_){_[0]._private.rscratch.inDragLayer=!0},c=function(_){_[0]._private.rscratch.inDragLayer=!1},d=function(_){_[0]._private.rscratch.isGrabTarget=!0},f=function(_){_[0]._private.rscratch.isGrabTarget=!1},v=function(_,U){var Z=U.addToList,J=Z.has(_);!J&&_.grabbable()&&!_.locked()&&(Z.merge(_),o(_))},h=function(_,U){if(_.cy().hasCompoundNodes()&&!(U.inDragLayer==null&&U.addToList==null)){var Z=_.descendants();U.inDragLayer&&(Z.forEach(l),Z.connectedEdges().forEach(l)),U.addToList&&v(Z,U)}},y=function(_,U){U=U||{};var Z=_.cy().hasCompoundNodes();U.inDragLayer&&(_.forEach(l),_.neighborhood().stdFilter(function(J){return!Z||J.isEdge()}).forEach(l)),U.addToList&&_.forEach(function(J){v(J,U)}),h(_,U),p(_,{inDragLayer:U.inDragLayer}),t.updateCachedGrabbedEles()},b=y,g=function(_){_&&(t.getCachedZSortedEles().forEach(function(U){u(U),c(U),f(U)}),t.updateCachedGrabbedEles())},p=function(_,U){if(!(U.inDragLayer==null&&U.addToList==null)&&_.cy().hasCompoundNodes()){var Z=_.ancestors().orphans();if(!Z.same(_)){var J=Z.descendants().spawnSelf().merge(Z).unmerge(_).unmerge(_.descendants()),se=J.connectedEdges();U.inDragLayer&&(se.forEach(l),J.forEach(l)),U.addToList&&J.forEach(function(xe){v(xe,U)})}}},w=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},E=typeof MutationObserver<"u",k=typeof ResizeObserver<"u";E?(t.removeObserver=new MutationObserver(function(ie){for(var _=0;_<ie.length;_++){var U=ie[_],Z=U.removedNodes;if(Z)for(var J=0;J<Z.length;J++){var se=Z[J];if(se===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(ie){t.destroy()});var N=hl(function(){t.cy.resize()},100);E&&(t.styleObserver=new MutationObserver(N),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",N),k&&(t.resizeObserver=new ResizeObserver(N),t.resizeObserver.observe(t.container));var C=function(_,U){for(;_!=null;)U(_),_=_.parentNode},A=function(){t.invalidateContainerClientCoordsCache()};C(t.container,function(ie){t.registerBinding(ie,"transitionend",A),t.registerBinding(ie,"animationend",A),t.registerBinding(ie,"scroll",A)}),t.registerBinding(t.container,"contextmenu",function(ie){ie.preventDefault()});var B=function(){return t.selection[4]!==0},P=function(_){for(var U=t.findContainerClientCoords(),Z=U[0],J=U[1],se=U[2],xe=U[3],de=_.touches?_.touches:[_],be=!1,Se=0;Se<de.length;Se++){var Me=de[Se];if(Z<=Me.clientX&&Me.clientX<=Z+se&&J<=Me.clientY&&Me.clientY<=J+xe){be=!0;break}}if(!be)return!1;for(var Ke=t.container,oe=_.target,Ne=oe.parentNode,Ze=!1;Ne;){if(Ne===Ke){Ze=!0;break}Ne=Ne.parentNode}return!!Ze};t.registerBinding(t.container,"mousedown",function(_){if(P(_)&&!(t.hoverData.which===1&&_.which!==1)){_.preventDefault(),w(),t.hoverData.capture=!0,t.hoverData.which=_.which;var U=t.cy,Z=[_.clientX,_.clientY],J=t.projectIntoViewport(Z[0],Z[1]),se=t.selection,xe=t.findNearestElements(J[0],J[1],!0,!1),de=xe[0],be=t.dragData.possibleDragElements;t.hoverData.mdownPos=J,t.hoverData.mdownGPos=Z;var Se=function(ze){return{originalEvent:_,type:ze,position:{x:J[0],y:J[1]}}},Me=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var ze=t.hoverData.down;ze?ze.emit(Se("taphold")):U.emit(Se("taphold"))}},t.tapholdDuration)};if(_.which==3){t.hoverData.cxtStarted=!0;var Ke={originalEvent:_,type:"cxttapstart",position:{x:J[0],y:J[1]}};de?(de.activate(),de.emit(Ke),t.hoverData.down=de):U.emit(Ke),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(_.which==1){de&&de.activate();{if(de!=null&&t.nodeIsGrabbable(de)){var oe=function(ze){ze.emit(Se("grab"))};if(d(de),!de.selected())be=t.dragData.possibleDragElements=U.collection(),b(de,{addToList:be}),de.emit(Se("grabon")).emit(Se("grab"));else{be=t.dragData.possibleDragElements=U.collection();var Ne=U.$(function(Ze){return Ze.isNode()&&Ze.selected()&&t.nodeIsGrabbable(Ze)});y(Ne,{addToList:be}),de.emit(Se("grabon")),Ne.forEach(oe)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=de,t.hoverData.downs=xe,t.hoverData.downTime=new Date().getTime()}a(de,["mousedown","tapstart","vmousedown"],_,{x:J[0],y:J[1]}),de==null?(se[4]=1,t.data.bgActivePosistion={x:J[0],y:J[1]},t.redrawHint("select",!0),t.redraw()):de.pannable()&&(se[4]=1),Me()}se[0]=se[2]=J[0],se[1]=se[3]=J[1]}},!1);var D=n(t.container);t.registerBinding([e,D],"mousemove",function(_){var U=t.hoverData.capture;if(!(!U&&!P(_))){var Z=!1,J=t.cy,se=J.zoom(),xe=[_.clientX,_.clientY],de=t.projectIntoViewport(xe[0],xe[1]),be=t.hoverData.mdownPos,Se=t.hoverData.mdownGPos,Me=t.selection,Ke=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Ke=t.findNearestElement(de[0],de[1],!0,!1));var oe=t.hoverData.last,Ne=t.hoverData.down,Ze=[de[0]-Me[2],de[1]-Me[3]],ze=t.dragData.possibleDragElements,Tt;if(Se){var mt=xe[0]-Se[0],Wt=mt*mt,vt=xe[1]-Se[1],Ot=vt*vt,rt=Wt+Ot;t.hoverData.isOverThresholdDrag=Tt=rt>=t.desktopTapThreshold2}var jt=i(_);Tt&&(t.hoverData.tapholdCancelled=!0);var wr=function(){var ir=t.hoverData.dragDelta=t.hoverData.dragDelta||[];ir.length===0?(ir.push(Ze[0]),ir.push(Ze[1])):(ir[0]+=Ze[0],ir[1]+=Ze[1])};Z=!0,a(Ke,["mousemove","vmousemove","tapdrag"],_,{x:de[0],y:de[1]});var Nt=function(ir){return{originalEvent:_,type:ir,position:{x:de[0],y:de[1]}}},Kr=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||J.emit(Nt("boxstart")),Me[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Tt){var Pr=Nt("cxtdrag");Ne?Ne.emit(Pr):J.emit(Pr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Ke!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(Nt("cxtdragout")),t.hoverData.cxtOver=Ke,Ke&&Ke.emit(Nt("cxtdragover")))}}else if(t.hoverData.dragging){if(Z=!0,J.panningEnabled()&&J.userPanningEnabled()){var Rt;if(t.hoverData.justStartedPan){var Ua=t.hoverData.mdownPos;Rt={x:(de[0]-Ua[0])*se,y:(de[1]-Ua[1])*se},t.hoverData.justStartedPan=!1}else Rt={x:Ze[0]*se,y:Ze[1]*se};J.panBy(Rt),J.emit(Nt("dragpan")),t.hoverData.dragged=!0}de=t.projectIntoViewport(_.clientX,_.clientY)}else if(Me[4]==1&&(Ne==null||Ne.pannable())){if(Tt){if(!t.hoverData.dragging&&J.boxSelectionEnabled()&&(jt||!J.panningEnabled()||!J.userPanningEnabled()))Kr();else if(!t.hoverData.selecting&&J.panningEnabled()&&J.userPanningEnabled()){var On=s(Ne,t.hoverData.downs);On&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Me[4]=0,t.data.bgActivePosistion=es(be),t.redrawHint("select",!0),t.redraw())}Ne&&Ne.pannable()&&Ne.active()&&Ne.unactivate()}}else{if(Ne&&Ne.pannable()&&Ne.active()&&Ne.unactivate(),(!Ne||!Ne.grabbed())&&Ke!=oe&&(oe&&a(oe,["mouseout","tapdragout"],_,{x:de[0],y:de[1]}),Ke&&a(Ke,["mouseover","tapdragover"],_,{x:de[0],y:de[1]}),t.hoverData.last=Ke),Ne)if(Tt){if(J.boxSelectionEnabled()&&jt)Ne&&Ne.grabbed()&&(g(ze),Ne.emit(Nt("freeon")),ze.emit(Nt("free")),t.dragData.didDrag&&(Ne.emit(Nt("dragfreeon")),ze.emit(Nt("dragfree")))),Kr();else if(Ne&&Ne.grabbed()&&t.nodeIsDraggable(Ne)){var Xt=!t.dragData.didDrag;Xt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||y(ze,{inDragLayer:!0});var Zt={x:0,y:0};if(ge(Ze[0])&&ge(Ze[1])&&(Zt.x+=Ze[0],Zt.y+=Ze[1],Xt)){var Jt=t.hoverData.dragDelta;Jt&&ge(Jt[0])&&ge(Jt[1])&&(Zt.x+=Jt[0],Zt.y+=Jt[1])}t.hoverData.draggingEles=!0,ze.silentShift(Zt).emit(Nt("position")).emit(Nt("drag")),t.redrawHint("drag",!0),t.redraw()}}else wr();Z=!0}if(Me[2]=de[0],Me[3]=de[1],Z)return _.stopPropagation&&_.stopPropagation(),_.preventDefault&&_.preventDefault(),!1}},!1);var M,L,I;t.registerBinding(e,"mouseup",function(_){if(!(t.hoverData.which===1&&_.which!==1&&t.hoverData.capture)){var U=t.hoverData.capture;if(U){t.hoverData.capture=!1;var Z=t.cy,J=t.projectIntoViewport(_.clientX,_.clientY),se=t.selection,xe=t.findNearestElement(J[0],J[1],!0,!1),de=t.dragData.possibleDragElements,be=t.hoverData.down,Se=i(_);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,be&&be.unactivate();var Me=function(mt){return{originalEvent:_,type:mt,position:{x:J[0],y:J[1]}}};if(t.hoverData.which===3){var Ke=Me("cxttapend");if(be?be.emit(Ke):Z.emit(Ke),!t.hoverData.cxtDragged){var oe=Me("cxttap");be?be.emit(oe):Z.emit(oe)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(a(xe,["mouseup","tapend","vmouseup"],_,{x:J[0],y:J[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(a(be,["click","tap","vclick"],_,{x:J[0],y:J[1]}),L=!1,_.timeStamp-I<=Z.multiClickDebounceTime()?(M&&clearTimeout(M),L=!0,I=null,a(be,["dblclick","dbltap","vdblclick"],_,{x:J[0],y:J[1]})):(M=setTimeout(function(){L||a(be,["oneclick","onetap","voneclick"],_,{x:J[0],y:J[1]})},Z.multiClickDebounceTime()),I=_.timeStamp)),be==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(_)&&(Z.$(r).unselect(["tapunselect"]),de.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=de=Z.collection()),xe==be&&!t.dragData.didDrag&&!t.hoverData.selecting&&xe!=null&&xe._private.selectable&&(t.hoverData.dragging||(Z.selectionType()==="additive"||Se?xe.selected()?xe.unselect(["tapunselect"]):xe.select(["tapselect"]):Se||(Z.$(r).unmerge(xe).unselect(["tapunselect"]),xe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Ne=Z.collection(t.getAllInBox(se[0],se[1],se[2],se[3]));t.redrawHint("select",!0),Ne.length>0&&t.redrawHint("eles",!0),Z.emit(Me("boxend"));var Ze=function(mt){return mt.selectable()&&!mt.selected()};Z.selectionType()==="additive"||Se||Z.$(r).unmerge(Ne).unselect(),Ne.emit(Me("box")).stdFilter(Ze).select().emit(Me("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!se[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var ze=be&&be.grabbed();g(de),ze&&(be.emit(Me("freeon")),de.emit(Me("free")),t.dragData.didDrag&&(be.emit(Me("dragfreeon")),de.emit(Me("dragfree"))))}}se[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var z=[],F=4,j,O=1e5,V=function(_,U){for(var Z=0;Z<_.length;Z++)if(_[Z]%U!==0)return!1;return!0},$=function(_){for(var U=Math.abs(_[0]),Z=1;Z<_.length;Z++)if(Math.abs(_[Z])!==U)return!1;return!0},W=function(_){var U=!1,Z=_.deltaY;if(Z==null&&(_.wheelDeltaY!=null?Z=_.wheelDeltaY/4:_.wheelDelta!=null&&(Z=_.wheelDelta/4)),Z!==0){if(j==null)if(z.length>=F){var J=z;if(j=V(J,5),!j){var se=Math.abs(J[0]);j=$(J)&&se>5}if(j)for(var xe=0;xe<J.length;xe++)O=Math.min(Math.abs(J[xe]),O)}else z.push(Z),U=!0;else j&&(O=Math.min(Math.abs(Z),O));if(!t.scrollingPage){var de=t.cy,be=de.zoom(),Se=de.pan(),Me=t.projectIntoViewport(_.clientX,_.clientY),Ke=[Me[0]*be+Se.x,Me[1]*be+Se.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||B()){_.preventDefault();return}if(de.panningEnabled()&&de.userPanningEnabled()&&de.zoomingEnabled()&&de.userZoomingEnabled()){_.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var oe;U&&Math.abs(Z)>5&&(Z=Ip(Z)*5),oe=Z/-250,j&&(oe/=O,oe*=3),oe=oe*t.wheelSensitivity;var Ne=_.deltaMode===1;Ne&&(oe*=33);var Ze=de.zoom()*Math.pow(10,oe);_.type==="gesturechange"&&(Ze=t.gestureStartZoom*_.scale),de.zoom({level:Ze,renderedPosition:{x:Ke[0],y:Ke[1]}}),de.emit({type:_.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:_,position:{x:Me[0],y:Me[1]}})}}}};t.registerBinding(t.container,"wheel",W,!0),t.registerBinding(e,"scroll",function(_){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(_){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||_.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(ie){t.hasTouchStarted||W(ie)},!0),t.registerBinding(t.container,"mouseout",function(_){var U=t.projectIntoViewport(_.clientX,_.clientY);t.cy.emit({originalEvent:_,type:"mouseout",position:{x:U[0],y:U[1]}})},!1),t.registerBinding(t.container,"mouseover",function(_){var U=t.projectIntoViewport(_.clientX,_.clientY);t.cy.emit({originalEvent:_,type:"mouseover",position:{x:U[0],y:U[1]}})},!1);var H,ee,re,te,le,fe,me,ue,G,Q,X,ae,pe,Te=function(_,U,Z,J){return Math.sqrt((Z-_)*(Z-_)+(J-U)*(J-U))},Be=function(_,U,Z,J){return(Z-_)*(Z-_)+(J-U)*(J-U)},$e;t.registerBinding(t.container,"touchstart",$e=function(_){if(t.hasTouchStarted=!0,!!P(_)){w(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var U=t.cy,Z=t.touchData.now,J=t.touchData.earlier;if(_.touches[0]){var se=t.projectIntoViewport(_.touches[0].clientX,_.touches[0].clientY);Z[0]=se[0],Z[1]=se[1]}if(_.touches[1]){var se=t.projectIntoViewport(_.touches[1].clientX,_.touches[1].clientY);Z[2]=se[0],Z[3]=se[1]}if(_.touches[2]){var se=t.projectIntoViewport(_.touches[2].clientX,_.touches[2].clientY);Z[4]=se[0],Z[5]=se[1]}var xe=function(jt){return{originalEvent:_,type:jt,position:{x:Z[0],y:Z[1]}}};if(_.touches[1]){t.touchData.singleTouchMoved=!0,g(t.dragData.touchDragEles);var de=t.findContainerClientCoords();G=de[0],Q=de[1],X=de[2],ae=de[3],H=_.touches[0].clientX-G,ee=_.touches[0].clientY-Q,re=_.touches[1].clientX-G,te=_.touches[1].clientY-Q,pe=0<=H&&H<=X&&0<=re&&re<=X&&0<=ee&&ee<=ae&&0<=te&&te<=ae;var be=U.pan(),Se=U.zoom();le=Te(H,ee,re,te),fe=Be(H,ee,re,te),me=[(H+re)/2,(ee+te)/2],ue=[(me[0]-be.x)/Se,(me[1]-be.y)/Se];var Me=200,Ke=Me*Me;if(fe<Ke&&!_.touches[2]){var oe=t.findNearestElement(Z[0],Z[1],!0,!0),Ne=t.findNearestElement(Z[2],Z[3],!0,!0);oe&&oe.isNode()?(oe.activate().emit(xe("cxttapstart")),t.touchData.start=oe):Ne&&Ne.isNode()?(Ne.activate().emit(xe("cxttapstart")),t.touchData.start=Ne):U.emit(xe("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(_.touches[2])U.boxSelectionEnabled()&&_.preventDefault();else if(!_.touches[1]){if(_.touches[0]){var Ze=t.findNearestElements(Z[0],Z[1],!0,!0),ze=Ze[0];if(ze!=null&&(ze.activate(),t.touchData.start=ze,t.touchData.starts=Ze,t.nodeIsGrabbable(ze))){var Tt=t.dragData.touchDragEles=U.collection(),mt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),ze.selected()?(mt=U.$(function(rt){return rt.selected()&&t.nodeIsGrabbable(rt)}),y(mt,{addToList:Tt})):b(ze,{addToList:Tt}),d(ze),ze.emit(xe("grabon")),mt?mt.forEach(function(rt){rt.emit(xe("grab"))}):ze.emit(xe("grab"))}a(ze,["touchstart","tapstart","vmousedown"],_,{x:Z[0],y:Z[1]}),ze==null&&(t.data.bgActivePosistion={x:se[0],y:se[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&a(t.touchData.start,["taphold"],_,{x:Z[0],y:Z[1]})},t.tapholdDuration)}}if(_.touches.length>=1){for(var Wt=t.touchData.startPosition=[null,null,null,null,null,null],vt=0;vt<Z.length;vt++)Wt[vt]=J[vt]=Z[vt];var Ot=_.touches[0];t.touchData.startGPosition=[Ot.clientX,Ot.clientY]}}},!1);var Ie;t.registerBinding(e,"touchmove",Ie=function(_){var U=t.touchData.capture;if(!(!U&&!P(_))){var Z=t.selection,J=t.cy,se=t.touchData.now,xe=t.touchData.earlier,de=J.zoom();if(_.touches[0]){var be=t.projectIntoViewport(_.touches[0].clientX,_.touches[0].clientY);se[0]=be[0],se[1]=be[1]}if(_.touches[1]){var be=t.projectIntoViewport(_.touches[1].clientX,_.touches[1].clientY);se[2]=be[0],se[3]=be[1]}if(_.touches[2]){var be=t.projectIntoViewport(_.touches[2].clientX,_.touches[2].clientY);se[4]=be[0],se[5]=be[1]}var Se=function(Di){return{originalEvent:_,type:Di,position:{x:se[0],y:se[1]}}},Me=t.touchData.startGPosition,Ke;if(U&&_.touches[0]&&Me){for(var oe=[],Ne=0;Ne<se.length;Ne++)oe[Ne]=se[Ne]-xe[Ne];var Ze=_.touches[0].clientX-Me[0],ze=Ze*Ze,Tt=_.touches[0].clientY-Me[1],mt=Tt*Tt,Wt=ze+mt;Ke=Wt>=t.touchTapThreshold2}if(U&&t.touchData.cxt){_.preventDefault();var vt=_.touches[0].clientX-G,Ot=_.touches[0].clientY-Q,rt=_.touches[1].clientX-G,jt=_.touches[1].clientY-Q,wr=Be(vt,Ot,rt,jt),Nt=wr/fe,Kr=150,Pr=Kr*Kr,Rt=1.5,Ua=Rt*Rt;if(Nt>=Ua||wr>=Pr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var On=Se("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(On),t.touchData.start=null):J.emit(On)}}if(U&&t.touchData.cxt){var On=Se("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(On):J.emit(On),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Xt=t.findNearestElement(se[0],se[1],!0,!0);(!t.touchData.cxtOver||Xt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(Se("cxtdragout")),t.touchData.cxtOver=Xt,Xt&&Xt.emit(Se("cxtdragover")))}else if(U&&_.touches[2]&&J.boxSelectionEnabled())_.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||J.emit(Se("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,Z[4]=1,!Z||Z.length===0||Z[0]===void 0?(Z[0]=(se[0]+se[2]+se[4])/3,Z[1]=(se[1]+se[3]+se[5])/3,Z[2]=(se[0]+se[2]+se[4])/3+1,Z[3]=(se[1]+se[3]+se[5])/3+1):(Z[2]=(se[0]+se[2]+se[4])/3,Z[3]=(se[1]+se[3]+se[5])/3),t.redrawHint("select",!0),t.redraw();else if(U&&_.touches[1]&&!t.touchData.didSelect&&J.zoomingEnabled()&&J.panningEnabled()&&J.userZoomingEnabled()&&J.userPanningEnabled()){_.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Zt=t.dragData.touchDragEles;if(Zt){t.redrawHint("drag",!0);for(var Jt=0;Jt<Zt.length;Jt++){var ra=Zt[Jt]._private;ra.grabbed=!1,ra.rscratch.inDragLayer=!1}}var ir=t.touchData.start,vt=_.touches[0].clientX-G,Ot=_.touches[0].clientY-Q,rt=_.touches[1].clientX-G,jt=_.touches[1].clientY-Q,bl=Te(vt,Ot,rt,jt),Qr=bl/le;if(pe){var Ni=vt-H,Os=Ot-ee,wl=rt-re,Sl=jt-te,Ha=(Ni+wl)/2,El=(Os+Sl)/2,wn=J.zoom(),Ai=wn*Qr,on=J.pan(),Pi=ue[0]*wn+on.x,Is=ue[1]*wn+on.y,Cl={x:-Ai/wn*(Pi-on.x-Ha)+Pi,y:-Ai/wn*(Is-on.y-El)+Is};if(ir&&ir.active()){var Zt=t.dragData.touchDragEles;g(Zt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),ir.unactivate().emit(Se("freeon")),Zt.emit(Se("free")),t.dragData.didDrag&&(ir.emit(Se("dragfreeon")),Zt.emit(Se("dragfree")))}J.viewport({zoom:Ai,pan:Cl,cancelOnFailedZoom:!0}),J.emit(Se("pinchzoom")),le=bl,H=vt,ee=Ot,re=rt,te=jt,t.pinching=!0}if(_.touches[0]){var be=t.projectIntoViewport(_.touches[0].clientX,_.touches[0].clientY);se[0]=be[0],se[1]=be[1]}if(_.touches[1]){var be=t.projectIntoViewport(_.touches[1].clientX,_.touches[1].clientY);se[2]=be[0],se[3]=be[1]}if(_.touches[2]){var be=t.projectIntoViewport(_.touches[2].clientX,_.touches[2].clientY);se[4]=be[0],se[5]=be[1]}}else if(_.touches[0]&&!t.touchData.didSelect){var Br=t.touchData.start,js=t.touchData.last,Xt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Xt=t.findNearestElement(se[0],se[1],!0,!0)),U&&Br!=null&&_.preventDefault(),U&&Br!=null&&t.nodeIsDraggable(Br))if(Ke){var Zt=t.dragData.touchDragEles,ln=!t.dragData.didDrag;ln&&y(Zt,{inDragLayer:!0}),t.dragData.didDrag=!0;var ut={x:0,y:0};if(ge(oe[0])&&ge(oe[1])&&(ut.x+=oe[0],ut.y+=oe[1],ln)){t.redrawHint("eles",!0);var $t=t.touchData.dragDelta;$t&&ge($t[0])&&ge($t[1])&&(ut.x+=$t[0],ut.y+=$t[1])}t.hoverData.draggingEles=!0,Zt.silentShift(ut).emit(Se("position")).emit(Se("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==xe[0]&&t.touchData.startPosition[1]==xe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var $t=t.touchData.dragDelta=t.touchData.dragDelta||[];$t.length===0?($t.push(oe[0]),$t.push(oe[1])):($t[0]+=oe[0],$t[1]+=oe[1])}if(a(Br||Xt,["touchmove","tapdrag","vmousemove"],_,{x:se[0],y:se[1]}),(!Br||!Br.grabbed())&&Xt!=js&&(js&&js.emit(Se("tapdragout")),Xt&&Xt.emit(Se("tapdragover"))),t.touchData.last=Xt,U)for(var Jt=0;Jt<se.length;Jt++)se[Jt]&&t.touchData.startPosition[Jt]&&Ke&&(t.touchData.singleTouchMoved=!0);if(U&&(Br==null||Br.pannable())&&J.panningEnabled()&&J.userPanningEnabled()){var Bi=s(Br,t.touchData.starts);Bi&&(_.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=es(t.touchData.startPosition)),t.swipePanning?(J.panBy({x:oe[0]*de,y:oe[1]*de}),J.emit(Se("dragpan"))):Ke&&(t.swipePanning=!0,J.panBy({x:Ze*de,y:Tt*de}),J.emit(Se("dragpan")),Br&&(Br.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var be=t.projectIntoViewport(_.touches[0].clientX,_.touches[0].clientY);se[0]=be[0],se[1]=be[1]}}for(var Ne=0;Ne<se.length;Ne++)xe[Ne]=se[Ne];U&&_.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var De;t.registerBinding(e,"touchcancel",De=function(_){var U=t.touchData.start;t.touchData.capture=!1,U&&U.unactivate()});var ye,ke,Pe,Ue;if(t.registerBinding(e,"touchend",ye=function(_){var U=t.touchData.start,Z=t.touchData.capture;if(Z)_.touches.length===0&&(t.touchData.capture=!1),_.preventDefault();else return;var J=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var se=t.cy,xe=se.zoom(),de=t.touchData.now,be=t.touchData.earlier;if(_.touches[0]){var Se=t.projectIntoViewport(_.touches[0].clientX,_.touches[0].clientY);de[0]=Se[0],de[1]=Se[1]}if(_.touches[1]){var Se=t.projectIntoViewport(_.touches[1].clientX,_.touches[1].clientY);de[2]=Se[0],de[3]=Se[1]}if(_.touches[2]){var Se=t.projectIntoViewport(_.touches[2].clientX,_.touches[2].clientY);de[4]=Se[0],de[5]=Se[1]}var Me=function(Pr){return{originalEvent:_,type:Pr,position:{x:de[0],y:de[1]}}};U&&U.unactivate();var Ke;if(t.touchData.cxt){if(Ke=Me("cxttapend"),U?U.emit(Ke):se.emit(Ke),!t.touchData.cxtDragged){var oe=Me("cxttap");U?U.emit(oe):se.emit(oe)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!_.touches[2]&&se.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Ne=se.collection(t.getAllInBox(J[0],J[1],J[2],J[3]));J[0]=void 0,J[1]=void 0,J[2]=void 0,J[3]=void 0,J[4]=0,t.redrawHint("select",!0),se.emit(Me("boxend"));var Ze=function(Pr){return Pr.selectable()&&!Pr.selected()};Ne.emit(Me("box")).stdFilter(Ze).select().emit(Me("boxselect")),Ne.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(U!=null&&U.unactivate(),_.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!_.touches[1]){if(!_.touches[0]){if(!_.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var ze=t.dragData.touchDragEles;if(U!=null){var Tt=U._private.grabbed;g(ze),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Tt&&(U.emit(Me("freeon")),ze.emit(Me("free")),t.dragData.didDrag&&(U.emit(Me("dragfreeon")),ze.emit(Me("dragfree")))),a(U,["touchend","tapend","vmouseup","tapdragout"],_,{x:de[0],y:de[1]}),U.unactivate(),t.touchData.start=null}else{var mt=t.findNearestElement(de[0],de[1],!0,!0);a(mt,["touchend","tapend","vmouseup","tapdragout"],_,{x:de[0],y:de[1]})}var Wt=t.touchData.startPosition[0]-de[0],vt=Wt*Wt,Ot=t.touchData.startPosition[1]-de[1],rt=Ot*Ot,jt=vt+rt,wr=jt*xe*xe;t.touchData.singleTouchMoved||(U||se.$(":selected").unselect(["tapunselect"]),a(U,["tap","vclick"],_,{x:de[0],y:de[1]}),ke=!1,_.timeStamp-Ue<=se.multiClickDebounceTime()?(Pe&&clearTimeout(Pe),ke=!0,Ue=null,a(U,["dbltap","vdblclick"],_,{x:de[0],y:de[1]})):(Pe=setTimeout(function(){ke||a(U,["onetap","voneclick"],_,{x:de[0],y:de[1]})},se.multiClickDebounceTime()),Ue=_.timeStamp)),U!=null&&!t.dragData.didDrag&&U._private.selectable&&wr<t.touchTapThreshold2&&!t.pinching&&(se.selectionType()==="single"?(se.$(r).unmerge(U).unselect(["tapunselect"]),U.select(["tapselect"])):U.selected()?U.unselect(["tapunselect"]):U.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Nt=0;Nt<de.length;Nt++)be[Nt]=de[Nt];t.dragData.didDrag=!1,_.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),_.touches.length<2&&(_.touches.length===1&&(t.touchData.startGPosition=[_.touches[0].clientX,_.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Re=[],He=function(_){return{clientX:_.clientX,clientY:_.clientY,force:1,identifier:_.pointerId,pageX:_.pageX,pageY:_.pageY,radiusX:_.width/2,radiusY:_.height/2,screenX:_.screenX,screenY:_.screenY,target:_.target}},Qe=function(_){return{event:_,touch:He(_)}},Ye=function(_){Re.push(Qe(_))},nt=function(_){for(var U=0;U<Re.length;U++){var Z=Re[U];if(Z.event.pointerId===_.pointerId){Re.splice(U,1);return}}},at=function(_){var U=Re.filter(function(Z){return Z.event.pointerId===_.pointerId})[0];U.event=_,U.touch=He(_)},Fe=function(_){_.touches=Re.map(function(U){return U.touch})},we=function(_){return _.pointerType==="mouse"||_.pointerType===4};t.registerBinding(t.container,"pointerdown",function(ie){we(ie)||(ie.preventDefault(),Ye(ie),Fe(ie),$e(ie))}),t.registerBinding(t.container,"pointerup",function(ie){we(ie)||(nt(ie),Fe(ie),ye(ie))}),t.registerBinding(t.container,"pointercancel",function(ie){we(ie)||(nt(ie),Fe(ie),De(ie))}),t.registerBinding(t.container,"pointermove",function(ie){we(ie)||(ie.preventDefault(),at(ie),Fe(ie),Ie(ie))})}};var ea={};ea.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,s,o,u){this.renderer.nodeShapeImpl("polygon",n,a,i,s,o,this.points)},intersectLine:function(n,a,i,s,o,u,l,c){return Go(o,u,this.points,n,a,i/2,s/2,l)},checkPoint:function(n,a,i,s,o,u,l,c){return Zn(n,a,this.points,u,l,s,o,[0,-1],i)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,a,i,s,o,u){return rA(this.points,n,a,i,s,o)}}};ea.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,u){return cA(i,s,e,r,n/2+o,a/2+o)},checkPoint:function(e,r,n,a,i,s,o,u){return si(e,r,a,i,s,o,n)}}};ea.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,s,o,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===a)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=n,u[l+"-cy"]=a;var c=i/2,d=s/2;o=o==="auto"?sw(i,s):o;for(var f=new Array(e.length/2),v=0;v<e.length/2;v++)f[v]={x:n+c*e[v*2],y:a+d*e[v*2+1]};var h,y,b,g,p=f.length;for(y=f[p-1],h=0;h<p;h++)b=f[h%p],g=f[(h+1)%p],u[l][h]=Yp(y,b,g,o),y=b,b=g;return u[l]},draw:function(n,a,i,s,o,u,l){this.renderer.nodeShapeImpl("round-polygon",n,a,i,s,o,this.points,this.getOrCreateCorners(a,i,s,o,u,l,"drawCorners"))},intersectLine:function(n,a,i,s,o,u,l,c,d){return fA(o,u,this.points,n,a,i,s,l,this.getOrCreateCorners(n,a,i,s,c,d,"corners"))},checkPoint:function(n,a,i,s,o,u,l,c,d){return uA(n,a,this.points,u,l,s,o,this.getOrCreateCorners(u,l,s,o,c,d,"corners"))}}};ea.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Sr(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,u){return aw(i,s,e,r,n,a,o,u)},checkPoint:function(e,r,n,a,i,s,o,u){var l=a/2,c=i/2;u=u==="auto"?Ra(a,i):u,u=Math.min(l,c,u);var d=u*2;return!!(Zn(e,r,this.points,s,o,a,i-d,[0,-1],n)||Zn(e,r,this.points,s,o,a-d,i,[0,-1],n)||si(e,r,d,d,s-l+u,o-c+u,n)||si(e,r,d,d,s+l-u,o-c+u,n)||si(e,r,d,d,s+l-u,o+c-u,n)||si(e,r,d,d,s-l+u,o+c-u,n))}}};ea.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:zp(),points:Sr(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,s)},generateCutTrianglePts:function(e,r,n,a,i){var s=i==="auto"?this.cornerLength:i,o=r/2,u=e/2,l=n-u,c=n+u,d=a-o,f=a+o;return{topLeft:[l,d+s,l+s,d,l+s,d+s],topRight:[c-s,d,c,d+s,c-s,d+s],bottomRight:[c,f-s,c-s,f,c-s,f-s],bottomLeft:[l+s,f,l,f-s,l+s,f-s]}},intersectLine:function(e,r,n,a,i,s,o,u){var l=this.generateCutTrianglePts(n+2*o,a+2*o,e,r,u),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Go(i,s,c,e,r)},checkPoint:function(e,r,n,a,i,s,o,u){var l=u==="auto"?this.cornerLength:u;if(Zn(e,r,this.points,s,o,a,i-2*l,[0,-1],n)||Zn(e,r,this.points,s,o,a-2*l,i,[0,-1],n))return!0;var c=this.generateCutTrianglePts(a,i,s,o);return _r(e,r,c.topLeft)||_r(e,r,c.topRight)||_r(e,r,c.bottomRight)||_r(e,r,c.bottomLeft)}}};ea.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Sr(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,u){var l=.15,c=.5,d=.85,f=this.generateBarrelBezierPts(n+2*o,a+2*o,e,r),v=function(b){var g=us({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},l),p=us({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},c),w=us({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},d);return[b[0],b[1],g.x,g.y,p.x,p.y,w.x,w.y,b[4],b[5]]},h=[].concat(v(f.topLeft),v(f.topRight),v(f.bottomRight),v(f.bottomLeft));return Go(i,s,h,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,s=e/2,o=n-s,u=n+s,l=a-i,c=a+i,d=pv(e,r),f=d.heightOffset,v=d.widthOffset,h=d.ctrlPtOffsetPct*e,y={topLeft:[o,l+f,o+h,l,o+v,l],topRight:[u-v,l,u-h,l,u,l+f],bottomRight:[u,c-f,u-h,c,u-v,c],bottomLeft:[o+v,c,o+h,c,o,c-f]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,r,n,a,i,s,o,u){var l=pv(a,i),c=l.heightOffset,d=l.widthOffset;if(Zn(e,r,this.points,s,o,a,i-2*c,[0,-1],n)||Zn(e,r,this.points,s,o,a-2*d,i,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(a,i,s,o),v=function(A,B,P){var D=P[4],M=P[2],L=P[0],I=P[5],z=P[1],F=Math.min(D,L),j=Math.max(D,L),O=Math.min(I,z),V=Math.max(I,z);if(F<=A&&A<=j&&O<=B&&B<=V){var $=hA(D,M,L),W=iA($[0],$[1],$[2],A),H=W.filter(function(ee){return 0<=ee&&ee<=1});if(H.length>0)return H[0]}return null},h=Object.keys(f),y=0;y<h.length;y++){var b=h[y],g=f[b],p=v(e,r,g);if(p!=null){var w=g[5],E=g[3],k=g[1],N=er(w,E,k,p);if(g.isTop&&N<=r||g.isBottom&&r<=N)return!0}}return!1}}};ea.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Sr(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,u){var l=e-(n/2+o),c=r-(a/2+o),d=c,f=e+(n/2+o),v=ma(i,s,e,r,l,c,f,d,!1);return v.length>0?v:aw(i,s,e,r,n,a,o,u)},checkPoint:function(e,r,n,a,i,s,o,u){u=u==="auto"?Ra(a,i):u;var l=2*u;if(Zn(e,r,this.points,s,o,a,i-l,[0,-1],n)||Zn(e,r,this.points,s,o,a-l,i,[0,-1],n))return!0;var c=a/2+2*n,d=i/2+2*n,f=[s-c,o-d,s-c,o,s+c,o,s+c,o-d];return!!(_r(e,r,f)||si(e,r,l,l,s+a/2-u,o+i/2-u,n)||si(e,r,l,l,s-a/2+u,o+i/2-u,n))}}};ea.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Sr(3,0)),this.generateRoundPolygon("round-triangle",Sr(3,0)),this.generatePolygon("rectangle",Sr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Sr(5,0)),this.generateRoundPolygon("round-pentagon",Sr(5,0)),this.generatePolygon("hexagon",Sr(6,0)),this.generateRoundPolygon("round-hexagon",Sr(6,0)),this.generatePolygon("heptagon",Sr(7,0)),this.generateRoundPolygon("round-heptagon",Sr(7,0)),this.generatePolygon("octagon",Sr(8,0)),this.generateRoundPolygon("round-octagon",Sr(8,0));var n=new Array(20);{var a=vv(5,0),i=vv(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<i.length/2;o++)i[o*2]*=s,i[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=a[o*2],n[o*4+1]=a[o*2+1],n[o*4+2]=i[o*2],n[o*4+3]=i[o*2+1]}n=iw(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var c=l.join("$"),d="polygon-"+c,f;return(f=this[d])?f:e.generatePolygon(d,l)}};var yl={};yl.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};yl.redraw=function(t){t=t||ew();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};yl.beforeRender=function(t,e){if(!this.destroyed){e==null&&kt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var V0=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};yl.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){V0(t,!0,a);var i=Xn();t.render(t.renderOptions);var s=t.lastDrawTime=Xn();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-i;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else V0(t,!1,a);t.skipFrame=!1,ac(r)}};ac(r)}};var PB=function(e){this.init(e)},s2=PB,Ms=s2.prototype;Ms.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Ms.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",u=a.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!u){var l=a.createElement("style");l.id=s,l.textContent="."+o+" { position: relative; }",i.insertBefore(l,i.children[0])}var c=n.getComputedStyle(r),d=c.getPropertyValue("position");d==="static"&&dt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=ge(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Ms.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Ms.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Ms.isHeadless=function(){return!1};[Qp,a2,i2,_s,ea,yl].forEach(function(t){je(Ms,t)});var fh=1e3/60,o2={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=hl(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),s=function(l,c){var d=Xn(),f=a.averageRedrawTime,v=a.lastRedrawTime,h=[],y=a.cy.extent(),b=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var g=Xn(),p=g-d,w=g-c;if(v<fh){var E=fh-(l?f:0);if(w>=e.deqFastCost*E)break}else if(l){if(p>=e.deqCost*v||p>=e.deqAvgCost*f)break}else if(w>=e.deqNoDrawCost*fh)break;var k=e.deq(n,b,y);if(k.length>0)for(var N=0;N<k.length;N++)h.push(k[N]);else break}h.length>0&&(e.onDeqd(n,h),!l&&e.shouldRedraw(n,h,b,y)&&i())},o=e.priority||_p;a.beforeRender(s,o(n))}}}},BB=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ic;Fa(this,t),this.idsByKey=new Un,this.keyForId=new Un,this.cachesByLvl=new Un,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return qa(t,[{key:"getIdsFor",value:function(r){r==null&&kt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new Bs,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Un,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])}(),W0=25,su=50,Bu=-4,Av=3,l2=7.99,DB=8,RB=1024,LB=1024,_B=1024,MB=.2,OB=.8,IB=10,jB=.15,zB=.1,FB=.9,qB=.9,VB=100,WB=1,rs={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},$B=fr({getKey:null,doesEleInvalidateKey:ic,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Xb,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),fo=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=$B(r);je(n,a),n.lookup=new BB(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Yt=fo.prototype;Yt.reasons=rs;Yt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Yt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Yt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new vl(function(r,n){return n.reqs-r.reqs});return e};Yt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Yt.getElement=function(t,e,r,n,a){var i=this,s=this.renderer,o=s.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Op(o*r))),n<Bu)n=Bu;else if(o>=l2||n>Av)return null;var l=Math.pow(2,n),c=e.h*l,d=e.w*l,f=s.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,f))return null;var v=u.get(t,n);if(v&&v.invalidated&&(v.invalidated=!1,v.texture.invalidatedWidth-=v.width),v)return v;var h;if(c<=W0?h=W0:c<=su?h=su:h=Math.ceil(c/su)*su,c>_B||d>LB)return null;var y=i.getTextureQueue(h),b=y[y.length-2],g=function(){return i.recycleTexture(h,d)||i.addTexture(h,d)};b||(b=y[y.length-1]),b||(b=g()),b.width-b.usedWidth<d&&(b=g());for(var p=function(F){return F&&F.scaledLabelShown===f},w=a&&a===rs.dequeue,E=a&&a===rs.highQuality,k=a&&a===rs.downscale,N,C=n+1;C<=Av;C++){var A=u.get(t,C);if(A){N=A;break}}var B=N&&N.level===n+1?N:null,P=function(){b.context.drawImage(B.texture.canvas,B.x,0,B.width,B.height,b.usedWidth,0,d,c)};if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,d,h),p(B))P();else if(p(N))if(E){for(var D=N.level;D>n;D--)B=i.getElement(t,e,r,D,rs.downscale);P()}else return i.queueElement(t,N.level-1),N;else{var M;if(!w&&!E&&!k)for(var L=n-1;L>=Bu;L--){var I=u.get(t,L);if(I){M=I;break}}if(p(M))return i.queueElement(t,n),M;b.context.translate(b.usedWidth,0),b.context.scale(l,l),this.drawElement(b.context,t,e,f,!1),b.context.scale(1/l,1/l),b.context.translate(-b.usedWidth,0)}return v={x:b.usedWidth,texture:b,level:n,scale:l,width:d,height:c,scaledLabelShown:f},b.usedWidth+=Math.ceil(d+DB),b.eleCaches.push(v),u.set(t,n,v),i.checkTextureFullness(b),v};Yt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Yt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=Bu;i<=Av;i++){var s=r.getForCachedKey(t,i);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var u=0;u<n.length;u++){var l=n[u],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};Yt.checkTextureUtility=function(t){t.invalidatedWidth>=MB*t.width&&this.retireTexture(t)};Yt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>OB&&t.fullnessChecks>=IB?Da(r,t):t.fullnessChecks++};Yt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;Da(n,t),t.retired=!0;for(var i=t.eleCaches,s=0;s<i.length;s++){var o=i[s];a.deleteCache(o.key,o.level)}Mp(i);var u=e.getRetiredTextureQueue(r);u.push(t)};Yt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(RB,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Yt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var s=a[i];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Mp(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Da(a,s),n.push(s),s}};Yt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),s=a[i];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(o),a[i]=o}};Yt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,s=0;s<WB&&r.size()>0;s++){var o=r.pop(),u=o.key,l=o.eles[0],c=i.hasCache(l,o.level);if(n[u]=null,c)continue;a.push(o);var d=e.getBoundingBox(l);e.getElement(l,d,t,o.level,rs.dequeue)}return a};Yt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=Lp,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};Yt.onDequeue=function(t){this.onDequeues.push(t)};Yt.offDequeue=function(t){Da(this.onDequeues,t)};Yt.setupDequeueing=o2.setupDequeueing({deqRedrawThreshold:VB,deqCost:jB,deqAvgCost:zB,deqNoDrawCost:FB,deqFastCost:qB,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var s=r[i].eles,o=0;o<s.length;o++){var u=s[o].boundingBox();if(jp(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var UB=1,Eo=-4,hc=2,HB=3.99,GB=50,KB=50,QB=.15,YB=.1,XB=.9,ZB=.9,JB=1,$0=250,eD=4e3*4e3,U0=32767,tD=!0,u2=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Xn()-2*$0,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=hl(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},KB),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=$0?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(o,u){return u.reqs-o.reqs};r.layersQueue=new vl(i),r.setupDequeueing()},hr=u2.prototype,H0=0,rD=Math.pow(2,53)-1;hr.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),s={id:H0=++H0%rD,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,u=-s.bb.x1,l=-s.bb.y1;return o.scale(r,r),o.translate(u,l),s};hr.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,s=i.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Op(s*e)),r<Eo)r=Eo;else if(s>=HB||r>hc)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),c=u[r]=u[r]||[],d,f=n.levelIsComplete(r,t),v,h=function(){var P=function(z){if(n.validateLayersElesOrdering(z,t),n.levelIsComplete(z,t))return v=u[z],!0},D=function(z){if(!v)for(var F=r+z;Eo<=F&&F<=hc&&!P(F);F+=z);};D(1),D(-1);for(var M=c.length-1;M>=0;M--){var L=c[M];L.invalid&&Da(c,L)}};if(!f)h();else return c;var y=function(){if(!d){d=kr();for(var P=0;P<t.length;P++)JN(d,t[P].boundingBox())}return d},b=function(P){P=P||{};var D=P.after;y();var M=Math.ceil(d.w*l),L=Math.ceil(d.h*l);if(M>U0||L>U0)return null;var I=M*L;if(I>eD)return null;var z=n.makeLayer(d,r);if(D!=null){var F=c.indexOf(D)+1;c.splice(F,0,z)}else(P.insert===void 0||P.insert)&&c.unshift(z);return z};if(n.skipping&&!o)return null;for(var g=null,p=t.length/UB,w=!o,E=0;E<t.length;E++){var k=t[E],N=k._private.rscratch,C=N.imgLayerCaches=N.imgLayerCaches||{},A=C[r];if(A){g=A;continue}if((!g||g.eles.length>=p||!nw(g.bb,k.boundingBox()))&&(g=b({insert:!0,after:g}),!g))return null;v||w?n.queueLayer(g,k):n.drawEleInLayer(g,k,r,e),g.eles.push(k),C[r]=g}return v||(w?null:c)};hr.getEleLevelForLayerLevel=function(t,e){return t};hr.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(s,!1),i.drawCachedElement(s,e,null,null,r,tD),i.setImgSmoothing(s,!0))};hr.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var s=n[i];if(s.reqs>0||s.invalid)return!1;a+=s.eles.length}return a===e.length};hr.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,s=0;s<e.length;s++)if(a.eles[0]===e[s]){i=s;break}if(i<0){this.invalidateLayer(a);continue}for(var o=i,s=0;s<a.eles.length;s++)if(a.eles[s]!==e[o+s]){this.invalidateLayer(a);break}}};hr.updateElementsInLayers=function(t,e){for(var r=this,n=ul(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],s=n?t[a]:t[a].ele,o=s._private.rscratch,u=o.imgLayerCaches=o.imgLayerCaches||{},l=Eo;l<=hc;l++){var c=u[l];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,s,i))}};hr.haveLayers=function(){for(var t=this,e=!1,r=Eo;r<=hc;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};hr.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Xn(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};hr.invalidateLayer=function(t){if(this.lastInvalidationTime=Xn(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Da(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};hr.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};hr.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};hr.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};hr.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<JB&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var s=i.elesQueue.shift();s&&(e.drawEleInLayer(i,s,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};hr.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var s=t.eles[i]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};hr.requestRedraw=hl(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);hr.setupDequeueing=o2.setupDequeueing({deqRedrawThreshold:GB,deqCost:QB,deqAvgCost:YB,deqNoDrawCost:XB,deqFastCost:ZB,deq:function(e,r){return e.dequeue(r)},onDeqd:_p,shouldRedraw:Xb,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var c2={},G0;function nD(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function aD(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function K0(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var a=1;a<s.length;a++){var i=s[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function iD(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,s=i[0];t.moveTo(s.x,s.y);for(var o=0;o<i.length;o++){var u=i[o];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function sD(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}c2.arrowShapeImpl=function(t){return(G0||(G0={polygon:nD,"triangle-backcurve":aD,"triangle-tee":K0,"circle-triangle":iD,"triangle-cross":K0,circle:sD}))[t]};var Mn={};Mn.drawElement=function(t,e,r,n,a,i){var s=this;e.isNode()?s.drawNode(t,e,r,n,a,i):s.drawEdge(t,e,r,n,a,i)};Mn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Mn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Mn.drawCachedElementPortion=function(t,e,r,n,a,i,s,o){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=r.getElement(e,l,n,a,i);if(c!=null){var d=o(u,e);if(d===0)return;var f=s(u,e),v=l.x1,h=l.y1,y=l.w,b=l.h,g,p,w,E,k;if(f!==0){var N=r.getRotationPoint(e);w=N.x,E=N.y,t.translate(w,E),t.rotate(f),k=u.getImgSmoothing(t),k||u.setImgSmoothing(t,!0);var C=r.getRotationOffset(e);g=C.x,p=C.y}else g=v,p=h;var A;d!==1&&(A=t.globalAlpha,t.globalAlpha=A*d),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,g,p,y,b),d!==1&&(t.globalAlpha=A),f!==0&&(t.rotate(-f),t.translate(-w,-E),k||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var oD=function(){return 0},lD=function(e,r){return e.getTextAngle(r,null)},uD=function(e,r){return e.getTextAngle(r,"source")},cD=function(e,r){return e.getTextAngle(r,"target")},dD=function(e,r){return r.effectiveOpacity()},hh=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Mn.drawCachedElement=function(t,e,r,n,a,i){var s=this,o=s.data,u=o.eleTxrCache,l=o.lblTxrCache,c=o.slbTxrCache,d=o.tlbTxrCache,f=e.boundingBox(),v=i===!0?u.reasons.highQuality:null;if(!(f.w===0||f.h===0||!e.visible())&&(!n||jp(f,n))){var h=e.isEdge(),y=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,u,r,a,v,oD,dD),(!h||!y)&&s.drawCachedElementPortion(t,e,l,r,a,v,lD,hh),h&&!y&&(s.drawCachedElementPortion(t,e,c,r,a,v,uD,hh),s.drawCachedElementPortion(t,e,d,r,a,v,cD,hh)),s.drawElementOverlay(t,e)}};Mn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};Mn.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];a.drawCachedElement(t,s,r,n)}};Mn.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];s.isNode()&&a.drawCachedElement(t,s,r,n)}};Mn.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var s=0;s<i.length;s++){var o=i[s],u=o.bb;u.w===0||u.h===0||t.drawImage(o.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var ta={};ta.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(i&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,f=e.pstyle("line-style").value,v=e.pstyle("width").pfValue,h=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,b=e.pstyle("line-outline-color").value,g=l*c,p=l*c,w=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;d==="straight-triangle"?(s.eleStrokeStyle(t,e,z),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=v,t.lineCap=h,s.eleStrokeStyle(t,e,z),s.drawEdgePath(e,t,o.allpts,f),t.lineCap="butt")},E=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;if(t.lineWidth=v+y,t.lineCap=h,y>0)s.colorStrokeStyle(t,b[0],b[1],b[2],z);else{t.lineCap="butt";return}d==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,f),t.lineCap="butt")},k=function(){a&&s.drawEdgeOverlay(t,e)},N=function(){a&&s.drawEdgeUnderlay(t,e)},C=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;s.drawArrowheads(t,e,z)},A=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var B=e.pstyle("ghost").value==="yes";if(B){var P=e.pstyle("ghost-offset-x").pfValue,D=e.pstyle("ghost-offset-y").pfValue,M=e.pstyle("ghost-opacity").value,L=g*M;t.translate(P,D),w(L),C(L),t.translate(-P,-D)}else E();N(),w(),C(),k(),A(),r&&t.translate(u.x1,u.y1)}};var d2=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,s=i.usePaths(),o=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,o.allpts,"solid")}}}};ta.drawEdgeOverlay=d2("overlay");ta.drawEdgeUnderlay=d2("underlay");ta.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,s,o=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(u){var d=r.join("$"),f=a.pathCacheKey&&a.pathCacheKey===d;f?(s=e=a.pathCache,o=!0):(s=e=new Path2D,a.pathCacheKey=d,a.pathCache=s)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!o&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var v=2;v+3<r.length;v+=4)e.quadraticCurveTo(r[v],r[v+1],r[v+2],r[v+3]);break;case"straight":case"haystack":for(var h=2;h+1<r.length;h+=2)e.lineTo(r[h],r[h+1]);break;case"segments":if(a.isRound){var y=Or(a.roundCorners),b;try{for(y.s();!(b=y.n()).done;){var g=b.value;Jw(e,g)}}catch(w){y.e(w)}finally{y.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var p=2;p+1<r.length;p+=2)e.lineTo(r[p],r[p+1]);break}e=i,u?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};ta.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=[i[1]/s,-i[0]/s],u=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};ta.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ta.drawArrowhead=function(t,e,r,n,a,i,s){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var o=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,d=e.pstyle("width").pfValue,f=e.pstyle(r+"-arrow-width"),v=f.value==="match-line"?d:f.pfValue;f.units==="%"&&(v*=d);var h=e.pstyle("opacity").value;s===void 0&&(s=h);var y=t.globalCompositeOperation;(s!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,l,d,u,v,n,a,i),t.globalCompositeOperation=y);var b=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,b[0],b[1],b[2],s),o.colorStrokeStyle(t,b[0],b[1],b[2],s),o.drawArrowShape(e,t,c,d,u,v,n,a,i)}}};ta.drawArrowShape=function(t,e,r,n,a,i,s,o,u){var l=this,c=this.usePaths()&&a!=="triangle-cross",d=!1,f,v=e,h={x:s,y:o},y=t.pstyle("arrow-scale").value,b=this.getArrowWidth(n,y),g=l.arrowShapes[a];if(c){var p=l.arrowPathCache=l.arrowPathCache||[],w=pi(a),E=p[w];E!=null?(f=e=E,d=!0):(f=e=new Path2D,p[w]=f)}d||(e.beginPath&&e.beginPath(),c?g.draw(e,1,0,{x:0,y:0},1):g.draw(e,b,u,h,n),e.closePath&&e.closePath()),e=v,c&&(e.translate(s,o),e.rotate(u),e.scale(b,b)),(r==="filled"||r==="both")&&(c?e.fill(f):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(c?b:1),e.lineJoin="miter",c?e.stroke(f):e.stroke()),c&&(e.scale(1/b,1/b),e.rotate(-u),e.translate(-s,-o))};var Zp={};Zp.safeDrawImage=function(t,e,r,n,a,i,s,o,u,l){if(!(a<=0||i<=0||u<=0||l<=0))try{t.drawImage(e,r,n,a,i,s,o,u,l)}catch(c){dt(c)}};Zp.drawInscribedImage=function(t,e,r,n,a){var i=this,s=r.position(),o=s.x,u=s.y,l=r.cy().style(),c=l.getIndexedStyle.bind(l),d=c(r,"background-fit","value",n),f=c(r,"background-repeat","value",n),v=r.width(),h=r.height(),y=r.padding()*2,b=v+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),g=h+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),p=r._private.rscratch,w=c(r,"background-clip","value",n),E=w==="node",k=c(r,"background-image-opacity","value",n)*a,N=c(r,"background-image-smoothing","value",n),C=r.pstyle("corner-radius").value;C!=="auto"&&(C=r.pstyle("corner-radius").pfValue);var A=e.width||e.cachedW,B=e.height||e.cachedH;(A==null||B==null)&&(document.body.appendChild(e),A=e.cachedW=e.width||e.offsetWidth,B=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=A,D=B;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?P=c(r,"background-width","pfValue",n)*b:P=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?D=c(r,"background-height","pfValue",n)*g:D=c(r,"background-height","pfValue",n)),!(P===0||D===0)){if(d==="contain"){var M=Math.min(b/P,g/D);P*=M,D*=M}else if(d==="cover"){var M=Math.max(b/P,g/D);P*=M,D*=M}var L=o-b/2,I=c(r,"background-position-x","units",n),z=c(r,"background-position-x","pfValue",n);I==="%"?L+=(b-P)*z:L+=z;var F=c(r,"background-offset-x","units",n),j=c(r,"background-offset-x","pfValue",n);F==="%"?L+=(b-P)*j:L+=j;var O=u-g/2,V=c(r,"background-position-y","units",n),$=c(r,"background-position-y","pfValue",n);V==="%"?O+=(g-D)*$:O+=$;var W=c(r,"background-offset-y","units",n),H=c(r,"background-offset-y","pfValue",n);W==="%"?O+=(g-D)*H:O+=H,p.pathCache&&(L-=o,O-=u,o=0,u=0);var ee=t.globalAlpha;t.globalAlpha=k;var re=i.getImgSmoothing(t),te=!1;if(N==="no"&&re?(i.setImgSmoothing(t,!1),te=!0):N==="yes"&&!re&&(i.setImgSmoothing(t,!0),te=!0),f==="no-repeat")E&&(t.save(),p.pathCache?t.clip(p.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,o,u,b,g,C,p),t.clip())),i.safeDrawImage(t,e,0,0,A,B,L,O,P,D),E&&t.restore();else{var le=t.createPattern(e,f);t.fillStyle=le,i.nodeShapes[i.getNodeShape(r)].draw(t,o,u,b,g,C,p),t.translate(L,O),t.fill(),t.translate(-L,-O)}t.globalAlpha=ee,te&&i.setImgSmoothing(t,re)}};var Ti={};Ti.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Op(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(i<s)};Ti.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(i&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var u=s.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),d=e.pstyle("source-label"),f=e.pstyle("target-label");if(l||(!c||!c.value)&&(!d||!d.value)&&(!f||!f.value))return;t.textAlign="center",t.textBaseline="bottom"}var v=!r,h;r&&(h=r,t.translate(-h.x1,-h.y1)),a==null?(s.drawText(t,e,null,v,i),e.isEdge()&&(s.drawText(t,e,"source",v,i),s.drawText(t,e,"target",v,i))):s.drawText(t,e,a,v,i),r&&t.translate(h.x1,h.y1)};Ti.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Ti.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*o,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],o),this.colorStrokeStyle(t,c[0],c[1],c[2],u)};function fD(t,e,r,n,a){var i=Math.min(n,a),s=i/2,o=e+n/2,u=r+a/2;t.beginPath(),t.arc(o,u,s,0,Math.PI*2),t.closePath()}function Q0(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(i,n/2,a/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+a-s),t.quadraticCurveTo(e+n,r+a,e+n-s,r+a),t.lineTo(e+s,r+a),t.quadraticCurveTo(e,r+a,e,r+a-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}Ti.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",s=t.pstyle(i+"text-rotation");if(s.strValue==="autorotate"){var o=Lr(a,"labelAngle",e);r=t.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};Ti.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,s=i.rscratch,o=a?e.effectiveOpacity():1;if(!(a&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Lr(s,"labelX",r),l=Lr(s,"labelY",r),c,d,f=this.getLabelText(e,r);if(f!=null&&f!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,a);var v=r?r+"-":"",h=Lr(s,"labelWidth",r),y=Lr(s,"labelHeight",r),b=e.pstyle(v+"text-margin-x").pfValue,g=e.pstyle(v+"text-margin-y").pfValue,p=e.isEdge(),w=e.pstyle("text-halign").value,E=e.pstyle("text-valign").value;p&&(w="center",E="center"),u+=b,l+=g;var k;switch(n?k=this.getTextAngle(e,r):k=0,k!==0&&(c=u,d=l,t.translate(c,d),t.rotate(k),u=0,l=0),E){case"top":break;case"center":l+=y/2;break;case"bottom":l+=y;break}var N=e.pstyle("text-background-opacity").value,C=e.pstyle("text-border-opacity").value,A=e.pstyle("text-border-width").pfValue,B=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,D=P==="round-rectangle"||P==="roundrectangle",M=P==="circle",L=2;if(N>0||A>0&&C>0){var I=t.fillStyle,z=t.strokeStyle,F=t.lineWidth,j=e.pstyle("text-background-color").value,O=e.pstyle("text-border-color").value,V=e.pstyle("text-border-style").value,$=N>0,W=A>0&&C>0,H=u-B;switch(w){case"left":H-=h;break;case"center":H-=h/2;break}var ee=l-y-B,re=h+2*B,te=y+2*B;if($&&(t.fillStyle="rgba(".concat(j[0],",").concat(j[1],",").concat(j[2],",").concat(N*o,")")),W&&(t.strokeStyle="rgba(".concat(O[0],",").concat(O[1],",").concat(O[2],",").concat(C*o,")"),t.lineWidth=A,t.setLineDash))switch(V){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=A/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(D?(t.beginPath(),Q0(t,H,ee,re,te,L)):M?(t.beginPath(),fD(t,H,ee,re,te)):(t.beginPath(),t.rect(H,ee,re,te)),$&&t.fill(),W&&t.stroke(),W&&V==="double"){var le=A/2;t.beginPath(),D?Q0(t,H+le,ee+le,re-2*le,te-2*le,L):t.rect(H+le,ee+le,re-2*le,te-2*le),t.stroke()}t.fillStyle=I,t.strokeStyle=z,t.lineWidth=F,t.setLineDash&&t.setLineDash([])}var fe=2*e.pstyle("text-outline-width").pfValue;if(fe>0&&(t.lineWidth=fe),e.pstyle("text-wrap").value==="wrap"){var me=Lr(s,"labelWrapCachedLines",r),ue=Lr(s,"labelLineHeight",r),G=h/2,Q=this.getLabelJustification(e);switch(Q==="auto"||(w==="left"?Q==="left"?u+=-h:Q==="center"&&(u+=-G):w==="center"?Q==="left"?u+=-G:Q==="right"&&(u+=G):w==="right"&&(Q==="center"?u+=G:Q==="right"&&(u+=h))),E){case"top":l-=(me.length-1)*ue;break;case"center":case"bottom":l-=(me.length-1)*ue;break}for(var X=0;X<me.length;X++)fe>0&&t.strokeText(me[X],u,l),t.fillText(me[X],u,l),l+=ue}else fe>0&&t.strokeText(f,u,l),t.fillText(f,u,l);k!==0&&(t.rotate(-k),t.translate(-c,-d))}}};var Wa={};Wa.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,u,l=e._private,c=l.rscratch,d=e.position();if(!(!ge(d.x)||!ge(d.y))&&!(i&&!e.visible())){var f=i?e.effectiveOpacity():1,v=s.usePaths(),h,y=!1,b=e.padding();o=e.width()+2*b,u=e.height()+2*b;var g;r&&(g=r,t.translate(-g.x1,-g.y1));for(var p=e.pstyle("background-image"),w=p.value,E=new Array(w.length),k=new Array(w.length),N=0,C=0;C<w.length;C++){var A=w[C],B=E[C]=A!=null&&A!=="none";if(B){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",C);N++,k[C]=s.getCachedImage(A,P,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var D=e.pstyle("background-blacken").value,M=e.pstyle("border-width").pfValue,L=e.pstyle("background-opacity").value*f,I=e.pstyle("border-color").value,z=e.pstyle("border-style").value,F=e.pstyle("border-join").value,j=e.pstyle("border-cap").value,O=e.pstyle("border-position").value,V=e.pstyle("border-dash-pattern").pfValue,$=e.pstyle("border-dash-offset").pfValue,W=e.pstyle("border-opacity").value*f,H=e.pstyle("outline-width").pfValue,ee=e.pstyle("outline-color").value,re=e.pstyle("outline-style").value,te=e.pstyle("outline-opacity").value*f,le=e.pstyle("outline-offset").value,fe=e.pstyle("corner-radius").value;fe!=="auto"&&(fe=e.pstyle("corner-radius").pfValue);var me=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L;s.eleFillStyle(t,e,we)},ue=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;s.colorStrokeStyle(t,I[0],I[1],I[2],we)},G=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:te;s.colorStrokeStyle(t,ee[0],ee[1],ee[2],we)},Q=function(we,ie,_,U){var Z=s.nodePathCache=s.nodePathCache||[],J=Yb(_==="polygon"?_+","+U.join(","):_,""+ie,""+we,""+fe),se=Z[J],xe,de=!1;return se!=null?(xe=se,de=!0,c.pathCache=xe):(xe=new Path2D,Z[J]=c.pathCache=xe),{path:xe,cacheHit:de}},X=e.pstyle("shape").strValue,ae=e.pstyle("shape-polygon-points").pfValue;if(v){t.translate(d.x,d.y);var pe=Q(o,u,X,ae);h=pe.path,y=pe.cacheHit}var Te=function(){if(!y){var we=d;v&&(we={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(h||t,we.x,we.y,o,u,fe,c)}v?t.fill(h):t.fill()},Be=function(){for(var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=l.backgrounding,U=0,Z=0;Z<k.length;Z++){var J=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Z);if(ie&&J==="over"||!ie&&J==="inside"){U++;continue}E[Z]&&k[Z].complete&&!k[Z].error&&(U++,s.drawInscribedImage(t,k[Z],e,Z,we))}l.backgrounding=U!==N,_!==l.backgrounding&&e.updateStyle(!1)},$e=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;s.hasPie(e)&&(s.drawPie(t,e,ie),we&&(v||s.nodeShapes[s.getNodeShape(e)].draw(t,d.x,d.y,o,u,fe,c)))},Ie=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;s.hasStripe(e)&&(t.save(),v?t.clip(c.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,d.x,d.y,o,u,fe,c),t.clip()),s.drawStripe(t,e,ie),t.restore(),we&&(v||s.nodeShapes[s.getNodeShape(e)].draw(t,d.x,d.y,o,u,fe,c)))},De=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ie=(D>0?D:-D)*we,_=D>0?0:255;D!==0&&(s.colorFillStyle(t,_,_,_,ie),v?t.fill(h):t.fill())},ye=function(){if(M>0){if(t.lineWidth=M,t.lineCap=j,t.lineJoin=F,t.setLineDash)switch(z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(V),t.lineDashOffset=$;break;case"solid":case"double":t.setLineDash([]);break}if(O!=="center"){if(t.save(),t.lineWidth*=2,O==="inside")v?t.clip(h):t.clip();else{var we=new Path2D;we.rect(-o/2-M,-u/2-M,o+2*M,u+2*M),we.addPath(h),t.clip(we,"evenodd")}v?t.stroke(h):t.stroke(),t.restore()}else v?t.stroke(h):t.stroke();if(z==="double"){t.lineWidth=M/3;var ie=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",v?t.stroke(h):t.stroke(),t.globalCompositeOperation=ie}t.setLineDash&&t.setLineDash([])}},ke=function(){if(H>0){if(t.lineWidth=H,t.lineCap="butt",t.setLineDash)switch(re){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var we=d;v&&(we={x:0,y:0});var ie=s.getNodeShape(e),_=M;O==="inside"&&(_=0),O==="outside"&&(_*=2);var U=(o+_+(H+le))/o,Z=(u+_+(H+le))/u,J=o*U,se=u*Z,xe=s.nodeShapes[ie].points,de;if(v){var be=Q(J,se,ie,xe);de=be.path}if(ie==="ellipse")s.drawEllipsePath(de||t,we.x,we.y,J,se);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ie)){var Se=0,Me=0,Ke=0;ie==="round-diamond"?Se=(_+le+H)*1.4:ie==="round-heptagon"?(Se=(_+le+H)*1.075,Ke=-(_/2+le+H)/35):ie==="round-hexagon"?Se=(_+le+H)*1.12:ie==="round-pentagon"?(Se=(_+le+H)*1.13,Ke=-(_/2+le+H)/15):ie==="round-tag"?(Se=(_+le+H)*1.12,Me=(_/2+H+le)*.07):ie==="round-triangle"&&(Se=(_+le+H)*(Math.PI/2),Ke=-(_+le/2+H)/Math.PI),Se!==0&&(U=(o+Se)/o,J=o*U,["round-hexagon","round-tag"].includes(ie)||(Z=(u+Se)/u,se=u*Z)),fe=fe==="auto"?sw(J,se):fe;for(var oe=J/2,Ne=se/2,Ze=fe+(_+H+le)/2,ze=new Array(xe.length/2),Tt=new Array(xe.length/2),mt=0;mt<xe.length/2;mt++)ze[mt]={x:we.x+Me+oe*xe[mt*2],y:we.y+Ke+Ne*xe[mt*2+1]};var Wt,vt,Ot,rt,jt=ze.length;for(vt=ze[jt-1],Wt=0;Wt<jt;Wt++)Ot=ze[Wt%jt],rt=ze[(Wt+1)%jt],Tt[Wt]=Yp(vt,Ot,rt,Ze),vt=Ot,Ot=rt;s.drawRoundPolygonPath(de||t,we.x+Me,we.y+Ke,o*U,u*Z,xe,Tt)}else if(["roundrectangle","round-rectangle"].includes(ie))fe=fe==="auto"?Ra(J,se):fe,s.drawRoundRectanglePath(de||t,we.x,we.y,J,se,fe+(_+H+le)/2);else if(["cutrectangle","cut-rectangle"].includes(ie))fe=fe==="auto"?zp():fe,s.drawCutRectanglePath(de||t,we.x,we.y,J,se,null,fe+(_+H+le)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ie))fe=fe==="auto"?Ra(J,se):fe,s.drawBottomRoundRectanglePath(de||t,we.x,we.y,J,se,fe+(_+H+le)/2);else if(ie==="barrel")s.drawBarrelPath(de||t,we.x,we.y,J,se);else if(ie.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ie)){var wr=(_+H+le)/o;xe=sc(oc(xe,wr)),s.drawPolygonPath(de||t,we.x,we.y,o,u,xe)}else{var Nt=(_+H+le)/o;xe=sc(oc(xe,-Nt)),s.drawPolygonPath(de||t,we.x,we.y,o,u,xe)}if(v?t.stroke(de):t.stroke(),re==="double"){t.lineWidth=_/3;var Kr=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",v?t.stroke(de):t.stroke(),t.globalCompositeOperation=Kr}t.setLineDash&&t.setLineDash([])}},Pe=function(){a&&s.drawNodeOverlay(t,e,d,o,u)},Ue=function(){a&&s.drawNodeUnderlay(t,e,d,o,u)},Re=function(){s.drawElementText(t,e,null,n)},He=e.pstyle("ghost").value==="yes";if(He){var Qe=e.pstyle("ghost-offset-x").pfValue,Ye=e.pstyle("ghost-offset-y").pfValue,nt=e.pstyle("ghost-opacity").value,at=nt*f;t.translate(Qe,Ye),G(),ke(),me(nt*L),Te(),Be(at,!0),ue(nt*W),ye(),$e(D!==0||M!==0),Ie(D!==0||M!==0),Be(at,!1),De(at),t.translate(-Qe,-Ye)}v&&t.translate(-d.x,-d.y),Ue(),v&&t.translate(d.x,d.y),G(),ke(),me(),Te(),Be(f,!0),ue(),ye(),$e(D!==0||M!==0),Ie(D!==0||M!==0),Be(f,!1),De(),v&&t.translate(-d.x,-d.y),Re(),Pe(),r&&t.translate(g.x1,g.y1)}};var f2=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,s){var o=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,d=n.pstyle("".concat(e,"-shape")).value,f=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(a=a||n.position(),i==null||s==null){var v=n.padding();i=n.width()+2*v,s=n.height()+2*v}o.colorFillStyle(r,c[0],c[1],c[2],l),o.nodeShapes[d].draw(r,a.x,a.y,i+u*2,s+u*2,f),r.fill()}}}};Wa.drawNodeOverlay=f2("overlay");Wa.drawNodeUnderlay=f2("underlay");Wa.hasPie=function(t){return t=t[0],t._private.hasPie};Wa.hasStripe=function(t){return t=t[0],t._private.hasStripe};Wa.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),o=e.pstyle("pie-start-angle").pfValue,u=n.x,l=n.y,c=e.width(),d=e.height(),f=Math.min(c,d)/2,v,h=0,y=this.usePaths();if(y&&(u=0,l=0),i.units==="%"?f=f*i.pfValue:i.pfValue!==void 0&&(f=i.pfValue/2),s.units==="%"?v=f*s.pfValue:s.pfValue!==void 0&&(v=s.pfValue/2),!(v>=f))for(var b=1;b<=a.pieBackgroundN;b++){var g=e.pstyle("pie-"+b+"-background-size").value,p=e.pstyle("pie-"+b+"-background-color").value,w=e.pstyle("pie-"+b+"-background-opacity").value*r,E=g/100;E+h>1&&(E=1-h);var k=1.5*Math.PI+2*Math.PI*h;k+=o;var N=2*Math.PI*E,C=k+N;g===0||h>=1||h+E>1||(v===0?(t.beginPath(),t.moveTo(u,l),t.arc(u,l,f,k,C),t.closePath()):(t.beginPath(),t.arc(u,l,f,k,C),t.arc(u,l,v,C,k,!0),t.closePath()),this.colorFillStyle(t,p[0],p[1],p[2],w),t.fill(),h+=E)}};Wa.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=n.x,s=n.y,o=e.width(),u=e.height(),l=0,c=this.usePaths();t.save();var d=e.pstyle("stripe-direction").value,f=e.pstyle("stripe-size");switch(d){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var v=o,h=u;f.units==="%"?(v=v*f.pfValue,h=h*f.pfValue):f.pfValue!==void 0&&(v=f.pfValue,h=f.pfValue),c&&(i=0,s=0),s-=v/2,i-=h/2;for(var y=1;y<=a.stripeBackgroundN;y++){var b=e.pstyle("stripe-"+y+"-background-size").value,g=e.pstyle("stripe-"+y+"-background-color").value,p=e.pstyle("stripe-"+y+"-background-opacity").value*r,w=b/100;w+l>1&&(w=1-l),!(b===0||l>=1||l+w>1)&&(t.beginPath(),t.rect(i,s+h*l,v,h*w),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],p),t.fill(),l+=w)}t.restore()};var Ar={},hD=100;Ar.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Ar.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Ar.createGradientStyleFor=function(t,e,r,n,a){var i,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),c=r.targetEndpoint(),d=r.midpoint(),f=gi(l,d),v=gi(c,d);i=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(f,v))}else{var h=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();i=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(y,b))}else if(r.isEdge()){var g=r.sourceEndpoint(),p=r.targetEndpoint();i=t.createLinearGradient(g.x,g.y,p.x,p.y)}else{var w=s?{x:0,y:0}:r.position(),E=r.paddedWidth(),k=r.paddedHeight(),N=E/2,C=k/2,A=r.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":i=t.createLinearGradient(w.x,w.y-C,w.x,w.y+C);break;case"to-top":i=t.createLinearGradient(w.x,w.y+C,w.x,w.y-C);break;case"to-left":i=t.createLinearGradient(w.x+N,w.y,w.x-N,w.y);break;case"to-right":i=t.createLinearGradient(w.x-N,w.y,w.x+N,w.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(w.x-N,w.y-C,w.x+N,w.y+C);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(w.x-N,w.y+C,w.x+N,w.y-C);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(w.x+N,w.y-C,w.x-N,w.y+C);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(w.x+N,w.y+C,w.x-N,w.y-C);break}}if(!i)return null;for(var B=u.length===o.length,P=o.length,D=0;D<P;D++)i.addColorStop(B?u[D]:D/(P-1),"rgba("+o[D][0]+","+o[D][1]+","+o[D][2]+","+a+")");return i};Ar.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};Ar.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};Ar.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};Ar.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};Ar.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};Ar.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};Ar.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var u=a*s,l=i*s,c;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var d=r.canvasContainer;d.style.width=a+"px",d.style.height=i+"px";for(var f=0;f<e.CANVAS_LAYERS;f++)c=r.canvases[f],c.width=u,c.height=l,c.style.width=a+"px",c.style.height=i+"px";for(var f=0;f<e.BUFFER_COUNT;f++)c=r.bufferCanvases[f],c.width=u,c.height=l,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,s<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l,e.pixelRatio=s}};Ar.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Ar.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};Ar.render=function(t){var e=this;t=t||ew();var r=e.cy,n=t.forcedContext,a=t.drawAllLayers,i=t.drawOnlyNodeLayer,s=t.forcedZoom,o=t.forcedPan,u=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=e.data,c=l.canvasNeedsRedraw,d=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),f=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,v=e.motionBlurPxRatio,h=r.hasCompoundNodes(),y=e.hoverData.draggingEles,b=!!(e.hoverData.selecting||e.touchData.selecting);f=f&&!n&&e.motionBlurEnabled&&!b;var g=f;n||(e.prevPxRatio!==u&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=u),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),f&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(g=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!d&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var p=r.style(),w=r.zoom(),E=s!==void 0?s:w,k=r.pan(),N={x:k.x,y:k.y},C={zoom:w,pan:{x:k.x,y:k.y}},A=e.prevViewport,B=A===void 0||C.zoom!==A.zoom||C.pan.x!==A.pan.x||C.pan.y!==A.pan.y;!B&&!(y&&!h)&&(e.motionBlurPxRatio=1),o&&(N=o),E*=u,N.x*=u,N.y*=u;var P=e.getCachedZSortedEles();function D(ue,G,Q,X,ae){var pe=ue.globalCompositeOperation;ue.globalCompositeOperation="destination-out",e.colorFillStyle(ue,255,255,255,e.motionBlurTransparency),ue.fillRect(G,Q,X,ae),ue.globalCompositeOperation=pe}function M(ue,G){var Q,X,ae,pe;!e.clearingMotionBlur&&(ue===l.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ue===l.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(Q={x:k.x*v,y:k.y*v},X=w*v,ae=e.canvasWidth*v,pe=e.canvasHeight*v):(Q=N,X=E,ae=e.canvasWidth,pe=e.canvasHeight),ue.setTransform(1,0,0,1,0,0),G==="motionBlur"?D(ue,0,0,ae,pe):!n&&(G===void 0||G)&&ue.clearRect(0,0,ae,pe),a||(ue.translate(Q.x,Q.y),ue.scale(X,X)),o&&ue.translate(o.x,o.y),s&&ue.scale(s,s)}if(d||(e.textureDrawLastFrame=!1),d){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var L=e.data.bufferContexts[e.TEXTURE_BUFFER];L.setTransform(1,0,0,1,0,0),L.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:L,drawOnlyNodeLayer:!0,forcedPxRatio:u*e.textureMult});var C=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var I=l.contexts[e.NODE],z=e.textureCache.texture,C=e.textureCache.viewport;I.setTransform(1,0,0,1,0,0),f?D(I,0,0,C.width,C.height):I.clearRect(0,0,C.width,C.height);var F=p.core("outside-texture-bg-color").value,j=p.core("outside-texture-bg-opacity").value;e.colorFillStyle(I,F[0],F[1],F[2],j),I.fillRect(0,0,C.width,C.height);var w=r.zoom();M(I,!1),I.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/u,C.height/C.zoom/u),I.drawImage(z,C.mpan.x,C.mpan.y,C.width/C.zoom/u,C.height/C.zoom/u)}else e.textureOnViewport&&!n&&(e.textureCache=null);var O=r.extent(),V=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),$=e.hideEdgesOnViewport&&V,W=[];if(W[e.NODE]=!c[e.NODE]&&f&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,W[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),W[e.DRAG]=!c[e.DRAG]&&f&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,W[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||a||i||W[e.NODE]){var H=f&&!W[e.NODE]&&v!==1,I=n||(H?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:l.contexts[e.NODE]),ee=f&&!H?"motionBlur":void 0;M(I,ee),$?e.drawCachedNodes(I,P.nondrag,u,O):e.drawLayeredElements(I,P.nondrag,u,O),e.debug&&e.drawDebugPoints(I,P.nondrag),!a&&!f&&(c[e.NODE]=!1)}if(!i&&(c[e.DRAG]||a||W[e.DRAG])){var H=f&&!W[e.DRAG]&&v!==1,I=n||(H?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:l.contexts[e.DRAG]);M(I,f&&!H?"motionBlur":void 0),$?e.drawCachedNodes(I,P.drag,u,O):e.drawCachedElements(I,P.drag,u,O),e.debug&&e.drawDebugPoints(I,P.drag),!a&&!f&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,M),f&&v!==1){var re=l.contexts[e.NODE],te=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],le=l.contexts[e.DRAG],fe=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],me=function(G,Q,X){G.setTransform(1,0,0,1,0,0),X||!g?G.clearRect(0,0,e.canvasWidth,e.canvasHeight):D(G,0,0,e.canvasWidth,e.canvasHeight);var ae=v;G.drawImage(Q,0,0,e.canvasWidth*ae,e.canvasHeight*ae,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||W[e.NODE])&&(me(re,te,W[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||W[e.DRAG])&&(me(le,fe,W[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=C,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),f&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!d,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},hD)),n||r.emit("render")};var ro;Ar.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,a=r.data,i=n.style(),s=t.drawOnlyNodeLayer,o=t.drawAllLayers,u=a.canvasNeedsRedraw,l=t.forcedContext;if(r.showFps||!s&&u[r.SELECT_BOX]&&!o){var c=l||a.contexts[r.SELECT_BOX];if(e(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var d=r.cy.zoom(),f=i.core("selection-box-border-width").value/d;c.lineWidth=f,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),f>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var d=r.cy.zoom(),v=a.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(v.x,v.y,i.core("active-bg-size").pfValue/d,0,2*Math.PI),c.fill()}var h=r.lastRedrawTime;if(r.showFps&&h){h=Math.round(h);var y=Math.round(1e3/h),b="1 frame = "+h+" ms = "+y+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!ro){var g=c.measureText(b);ro=g.actualBoundingBoxAscent}c.fillText(b,0,ro);var p=60;c.strokeRect(0,ro+10,250,20),c.fillRect(0,ro+10,250*Math.min(y/p,1),20)}o||(u[r.SELECT_BOX]=!1)}};function Y0(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function vD(t,e,r){var n=Y0(t,t.VERTEX_SHADER,e),a=Y0(t,t.FRAGMENT_SHADER,r),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function pD(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function Jp(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function gD(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function mD(t,e,r,n,a){var i=n*r+e.x,s=a*r+e.y;return s=Math.round(t.canvasHeight-s),[i,s]}function yD(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function xD(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ya(t,e,r){var n=t[0]/255,a=t[1]/255,i=t[2]/255,s=e,o=r||new Array(4);return o[0]=n*s,o[1]=a*s,o[2]=i*s,o[3]=s,o}function ji(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function bD(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function wD(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function h2(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function v2(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function SD(t,e,r,n,a,i){switch(e){case t.FLOAT:return new Float32Array(r.buffer,i*n,a);case t.INT:return new Int32Array(r.buffer,i*n,a)}}function ED(t,e,r,n){var a=h2(t,e),i=Ft(a,2),s=i[0],o=i[1],u=v2(t,o,n),l=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,u,t.STATIC_DRAW),o===t.FLOAT?t.vertexAttribPointer(r,s,o,!1,0,0):o===t.INT&&t.vertexAttribIPointer(r,s,o,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),l}function Cn(t,e,r,n){var a=h2(t,r),i=Ft(a,3),s=i[0],o=i[1],u=i[2],l=v2(t,o,e*s),c=s*u,d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),o===t.FLOAT?t.vertexAttribPointer(n,s,o,!1,c,0):o===t.INT&&t.vertexAttribIPointer(n,s,o,c,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var f=new Array(e),v=0;v<e;v++)f[v]=SD(t,o,l,c,s,v);return d.dataArray=l,d.stride=c,d.size=s,d.getView=function(h){return f[h]},d.setPoint=function(h,y,b){var g=f[h];g[0]=y,g[1]=b},d.bufferSubData=function(h){t.bindBuffer(t.ARRAY_BUFFER,d),h?t.bufferSubData(t.ARRAY_BUFFER,0,l,0,h*s):t.bufferSubData(t.ARRAY_BUFFER,0,l)},d}function CD(t,e,r){for(var n=9,a=new Float32Array(e*n),i=new Array(e),s=0;s<e;s++){var o=s*n*4;i[s]=new Float32Array(a.buffer,o,n)}var u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,a.byteLength,t.DYNAMIC_DRAW);for(var l=0;l<3;l++){var c=r+l;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,3*12,l*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),u.getMatrixView=function(d){return i[d]},u.setData=function(d,f){i[f].set(d,0)},u.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferSubData(t.ARRAY_BUFFER,0,a)},u}function kD(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,a){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,a,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var X0=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function vh(){var t=new X0(9);return X0!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Z0(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function TD(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=r[0],v=r[1],h=r[2],y=r[3],b=r[4],g=r[5],p=r[6],w=r[7],E=r[8];return t[0]=f*n+v*s+h*l,t[1]=f*a+v*o+h*c,t[2]=f*i+v*u+h*d,t[3]=y*n+b*s+g*l,t[4]=y*a+b*o+g*c,t[5]=y*i+b*u+g*d,t[6]=p*n+w*s+E*l,t[7]=p*a+w*o+E*c,t[8]=p*i+w*u+E*d,t}function Du(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=r[0],v=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=u,t[6]=f*n+v*s+l,t[7]=f*a+v*o+c,t[8]=f*i+v*u+d,t}function J0(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=Math.sin(r),v=Math.cos(r);return t[0]=v*n+f*s,t[1]=v*a+f*o,t[2]=v*i+f*u,t[3]=v*s-f*n,t[4]=v*o-f*a,t[5]=v*u-f*i,t[6]=l,t[7]=c,t[8]=d,t}function Pv(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ND(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var AD=function(){function t(e,r,n,a){Fa(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(e,r,r),this.scratch=a(e,r,this.texHeight,"scratch")}return qa(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,s=this.texSize,o=i/a,u=n*o,l=a*o;return u>s&&(o=s/n,u=n*o,l=a*o),{scale:o,texW:u,texH:l}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,o=this.texRows,u=this.texHeight,l=this.getScale(n),c=l.scale,d=l.texW,f=l.texH,v=function(w,E){if(a&&E){var k=E.context,N=w.x,C=w.row,A=N,B=u*C;k.save(),k.translate(A,B),k.scale(c,c),a(k,n),k.restore()}},h=[null,null],y=function(){v(i.freePointer,i.canvas),h[0]={x:i.freePointer.x,y:i.freePointer.row*u,w:d,h:f},h[1]={x:i.freePointer.x+d,y:i.freePointer.row*u,w:0,h:f},i.freePointer.x+=d,i.freePointer.x==s&&(i.freePointer.x=0,i.freePointer.row++)},b=function(){var w=i.scratch,E=i.canvas;w.clear(),v({x:0,row:0},w);var k=s-i.freePointer.x,N=d-k,C=u;{var A=i.freePointer.x,B=i.freePointer.row*u,P=k;E.context.drawImage(w,0,0,P,C,A,B,P,C),h[0]={x:A,y:B,w:P,h:f}}{var D=k,M=(i.freePointer.row+1)*u,L=N;E&&E.context.drawImage(w,D,0,L,C,0,M,L,C),h[1]={x:0,y:M,w:L,h:f}}i.freePointer.x=N,i.freePointer.row++},g=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+d<=s)y();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===s?(g(),y()):this.enableWrapping?b():(g(),y())}return this.keyToLocation.set(r,h),this.needsBuffer=!0,h}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),s=i.texW;return this.freePointer.x+s>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=wD(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),PD=function(){function t(e,r,n,a){Fa(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return qa(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new AD(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,s=Math.floor(n/a);this.scratch=i(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,s=null,o=Or(this.atlases),u;try{var l=function(){var d=u.value,f=d.getKeys(),v=BD(n,f);if(v.size===0)return a.push(d),f.forEach(function(k){return i.set(k,d)}),1;s||(s=r._createAtlas(),a.push(s));var h=Or(f),y;try{for(h.s();!(y=h.n()).done;){var b=y.value;if(!v.has(b)){var g=d.getOffsets(b),p=Ft(g,2),w=p[0],E=p[1];s.canFit({w:w.w+E.w,h:w.h})||(s.lock(),s=r._createAtlas(),a.push(s)),d.canvas&&(r._copyTextureToNewAtlas(b,d,s),i.set(b,s))}}}catch(k){h.e(k)}finally{h.f()}d.dispose()};for(o.s();!(u=o.n()).done;)l()}catch(c){o.e(c)}finally{o.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),s=Ft(i,2),o=s[0],u=s[1];if(u.w===0)a.draw(r,o,function(f){f.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var l=this._getScratchCanvas();l.clear(),l.context.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),l.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,o.w,0,u.w,u.h);var c=o.w+u.w,d=o.h;a.draw(r,{w:c,h:d},function(f){f.drawImage(l,0,0,c,d,0,0,c,d)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function BD(t,e){return t.intersection?t.intersection(e):new Set(rc(t).filter(function(r){return e.has(r)}))}var DD=function(){function t(e,r){Fa(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return qa(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,s=a.createTextureCanvas,o=n.texRows,u=this._cacheScratchCanvas(s),l=new PD(this.r,i,o,u);this.collections.set(r,l)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),s=je({type:r,atlasCollection:i},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(s,o,u,l){return l?((!i||o!=n||u!=a)&&(n=o,a=u,i=r(s,o,u)),i):r(s,o,u)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,s=i===void 0?!1:i,o=a.filterEle,u=o===void 0?function(){return!0}:o,l=a.filterType,c=l===void 0?function(){return!0}:l,d=!1,f=!1,v=Or(r),h;try{for(v.s();!(h=v.n()).done;){var y=h.value;if(u(y)){var b=Or(this.renderTypes.values()),g;try{var p=function(){var E=g.value,k=E.type;if(c(k)){var N=n.collections.get(E.collection),C=E.getKey(y),A=Array.isArray(C)?C:[C];if(s)A.forEach(function(M){return N.markKeyForGC(M)}),f=!0;else{var B=E.getID?E.getID(y):y.id(),P=n._key(k,B),D=n.typeAndIdToKey.get(P);D!==void 0&&!xD(A,D)&&(d=!0,n.typeAndIdToKey.delete(P),D.forEach(function(M){return N.markKeyForGC(M)}))}}};for(b.s();!(g=b.n()).done;)p()}catch(w){b.e(w)}finally{b.f()}}}}catch(w){v.e(w)}finally{v.f()}return f&&(this.gc(),d=!1),d}},{key:"gc",value:function(){var r=Or(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a,i){var s=this.renderTypes.get(n),o=this.collections.get(s.collection),u=!1,l=o.draw(i,a,function(f){s.drawClipped?(f.save(),f.beginPath(),f.rect(0,0,a.w,a.h),f.clip(),s.drawElement(f,r,a,!0,!0),f.restore()):s.drawElement(f,r,a,!0,!0),u=!0});if(u){var c=s.getID?s.getID(r):r.id(),d=this._key(n,c);this.typeAndIdToKey.has(d)?this.typeAndIdToKey.get(d).push(i):this.typeAndIdToKey.set(d,[i])}return l}},{key:"getAtlasInfo",value:function(r,n){var a=this,i=this.renderTypes.get(n),s=i.getKey(r),o=Array.isArray(s)?s:[s];return o.map(function(u){var l=i.getBoundingBox(r,u),c=a.getOrCreateAtlas(r,n,l,u),d=c.getOffsets(u),f=Ft(d,2),v=f[0],h=f[1];return{atlas:c,tex:v,tex1:v,tex2:h,bb:l}})}},{key:"getDebugInfo",value:function(){var r=[],n=Or(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=Ft(a.value,2),s=i[0],o=i[1],u=o.getCounts(),l=u.keyCount,c=u.atlasCount;r.push({type:s,keyCount:l,atlasCount:c})}}catch(d){n.e(d)}finally{n.f()}return r}}])}(),RD=function(){function t(e){Fa(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return qa(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])}(),LD=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,_D=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,MD=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,OD=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Co={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},vc={IGNORE:1,USE_BB:2},ph=0,ex=1,tx=2,gh=3,zi=4,ou=5,no=6,ao=7,ID=function(){function t(e,r,n){Fa(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=pD,this.atlasManager=new DD(e,n),this.batchManager=new RD(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Co.SCREEN),this.pickingProgram=this._createShaderProgram(Co.PICKING),this.vao=this._createVAO()}return qa(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(o){return o===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(ph,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(zi," || aVertType == ").concat(ao,` 
             || aVertType == `).concat(ou," || aVertType == ").concat(no,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(ex,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(tx,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(gh,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(l){return"uniform sampler2D uTexture".concat(l,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(LD,`
      `).concat(_D,`
      `).concat(MD,`
      `).concat(OD,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(ph,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(l){return"if(vAtlasId == ".concat(l,") outColor = texture(uTexture").concat(l,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(gh,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(zi,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(zi," || vVertType == ").concat(ao,` 
          || vVertType == `).concat(ou," || vVertType == ").concat(no,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(zi,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(ao,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(ao,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=vD(n,a,s);o.aPosition=n.getAttribLocation(o,"aPosition"),o.aIndex=n.getAttribLocation(o,"aIndex"),o.aVertType=n.getAttribLocation(o,"aVertType"),o.aTransform=n.getAttribLocation(o,"aTransform"),o.aAtlasId=n.getAttribLocation(o,"aAtlasId"),o.aTex=n.getAttribLocation(o,"aTex"),o.aPointAPointB=n.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=n.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=n.getAttribLocation(o,"aLineWidth"),o.aColor=n.getAttribLocation(o,"aColor"),o.aCornerRadius=n.getAttribLocation(o,"aCornerRadius"),o.aBorderColor=n.getAttribLocation(o,"aBorderColor"),o.uPanZoomMatrix=n.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=n.getUniformLocation(o,"uAtlasSize"),o.uBGColor=n.getUniformLocation(o,"uBGColor"),o.uZoom=n.getUniformLocation(o,"uZoom"),o.uTextures=[];for(var u=0;u<this.batchManager.getMaxAtlasesPerBatch();u++)o.uTextures.push(n.getUniformLocation(o,"uTexture".concat(u)));return o}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,s=a.createVertexArray();return a.bindVertexArray(s),ED(a,"vec2",i.aPosition,r),this.transformBuffer=CD(a,n,i.aTransform),this.indexBuffer=Cn(a,n,"vec4",i.aIndex),this.vertTypeBuffer=Cn(a,n,"int",i.aVertType),this.atlasIdBuffer=Cn(a,n,"int",i.aAtlasId),this.texBuffer=Cn(a,n,"vec4",i.aTex),this.pointAPointBBuffer=Cn(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=Cn(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=Cn(a,n,"vec2",i.aLineWidth),this.colorBuffer=Cn(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=Cn(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=Cn(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return pa(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Co.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager,s=this.batchManager,o=i.getRenderTypeOpts(a);if(this._isVisible(r,o)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&o.getTexPickingMode){var u=o.getTexPickingMode(r);if(u===vc.IGNORE)return;if(u==vc.USE_BB){this.drawPickingRectangle(r,n,a);return}}var l=i.getAtlasInfo(r,a),c=Or(l),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,v=f.atlas,h=f.tex1,y=f.tex2;s.canAddToCurrentBatch(v)||this.endBatch();for(var b=s.getAtlasIndexForBatch(v),g=0,p=[[h,!0],[y,!1]];g<p.length;g++){var w=Ft(p[g],2),E=w[0],k=w[1];if(E.w!=0){var N=this.instanceCount;this.vertTypeBuffer.getView(N)[0]=ph;var C=this.indexBuffer.getView(N);ji(n,C);var A=this.atlasIdBuffer.getView(N);A[0]=b;var B=this.texBuffer.getView(N);B[0]=E.x,B[1]=E.y,B[2]=E.w,B[3]=E.h;var P=this.transformBuffer.getMatrixView(N);this.setTransformMatrix(r,P,o,f,k),this.instanceCount++,k||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(D){c.e(D)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=0;if(a.shapeProps&&a.shapeProps.padding&&(o=r.pstyle(a.shapeProps.padding).pfValue),i){var u=i.bb,l=i.tex1,c=i.tex2,d=l.w/(l.w+c.w);s||(d=1-d);var f=this._getAdjustedBB(u,o,s,d);this._applyTransformMatrix(n,f,a,r)}else{var v=a.getBoundingBox(r),h=this._getAdjustedBB(v,o,!0,1);this._applyTransformMatrix(n,h,a,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var s,o;Z0(r);var u=a.getRotation?a.getRotation(i):0;if(u!==0){var l=a.getRotationPoint(i),c=l.x,d=l.y;Du(r,r,[c,d]),J0(r,r,u);var f=a.getRotationOffset(i);s=f.x+(n.xOffset||0),o=f.y+(n.yOffset||0)}else s=n.x1,o=n.y1;Du(r,r,[s,o]),Pv(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,a,i){var s=r.x1,o=r.y1,u=r.w,l=r.h,c=r.yOffset;n&&(s-=n,o-=n,u+=2*n,l+=2*n);var d=0,f=u*i;return a&&i<1?u=f:!a&&i<1&&(d=u-f,s+=d,u=f),{x1:s,y1:o,w:u,h:l,xOffset:d,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,a){var i=this.atlasManager.getRenderTypeOpts(a),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=zi;var o=this.indexBuffer.getView(s);ji(n,o);var u=this.colorBuffer.getView(s);Ya([0,0,0],1,u);var l=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,l,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(r,i)){var s=i.shapeProps,o=this._getVertTypeForShape(r,s.shape);if(o===void 0||i.isSimple&&!i.isSimple(r)){this.drawTexture(r,n,a);return}var u=this.instanceCount;if(this.vertTypeBuffer.getView(u)[0]=o,o===ou||o===no){var l=i.getBoundingBox(r),c=this._getCornerRadius(r,s.radius,l),d=this.cornerRadiusBuffer.getView(u);d[0]=c,d[1]=c,d[2]=c,d[3]=c,o===no&&(d[0]=0,d[2]=0)}var f=this.indexBuffer.getView(u);ji(n,f);var v=r.pstyle(s.color).value,h=r.pstyle(s.opacity).value,y=this.colorBuffer.getView(u);Ya(v,h,y);var b=this.lineWidthBuffer.getView(u);if(b[0]=0,b[1]=0,s.border){var g=r.pstyle("border-width").value;if(g>0){var p=r.pstyle("border-color").value,w=r.pstyle("border-opacity").value,E=this.borderColorBuffer.getView(u);Ya(p,w,E);var k=r.pstyle("border-position").value;if(k==="inside")b[0]=0,b[1]=-g;else if(k==="outside")b[0]=g,b[1]=0;else{var N=g/2;b[0]=N,b[1]=-N}}}var C=this.transformBuffer.getMatrixView(u);this.setTransformMatrix(r,C,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var a=r.pstyle(n).value;switch(a){case"rectangle":return zi;case"ellipse":return ao;case"roundrectangle":case"round-rectangle":return ou;case"bottom-round-rectangle":return no;default:return}}},{key:"_getCornerRadius",value:function(r,n,a){var i=a.w,s=a.h;if(r.pstyle(n).value==="auto")return Ra(i,s);var o=r.pstyle(n).pfValue,u=i/2,l=s/2;return Math.min(o,l,u)}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,s,o,u;if(a==="source"?(s=i.arrowStartX,o=i.arrowStartY,u=i.srcArrowAngle):(s=i.arrowEndX,o=i.arrowEndY,u=i.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(o)||o==null||isNaN(u)||u==null)){var l=r.pstyle(a+"-arrow-shape").value;if(l!=="none"){var c=r.pstyle(a+"-arrow-color").value,d=r.pstyle("opacity").value,f=r.pstyle("line-opacity").value,v=d*f,h=r.pstyle("width").pfValue,y=r.pstyle("arrow-scale").value,b=this.r.getArrowWidth(h,y),g=this.instanceCount,p=this.transformBuffer.getMatrixView(g);Z0(p),Du(p,p,[s,o]),Pv(p,p,[b,b]),J0(p,p,u),this.vertTypeBuffer.getView(g)[0]=gh;var w=this.indexBuffer.getView(g);ji(n,w);var E=this.colorBuffer.getView(g);Ya(c,v,E),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this._getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,o=r.pstyle("width").pfValue,u=r.pstyle("line-color").value,l=i*s;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=ex;var d=this.indexBuffer.getView(c);ji(n,d);var f=this.colorBuffer.getView(c);Ya(u,l,f);var v=this.lineWidthBuffer.getView(c);v[0]=o;var h=this.pointAPointBBuffer.getView(c);h[0]=a[0],h[1]=a[1],h[2]=a[2],h[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<a.length-2;y+=2){var b=this.instanceCount;this.vertTypeBuffer.getView(b)[0]=tx;var g=this.indexBuffer.getView(b);ji(n,g);var p=this.colorBuffer.getView(b);Ya(u,l,p);var w=this.lineWidthBuffer.getView(b);w[0]=o;var E=a[y-2],k=a[y-1],N=a[y],C=a[y+1],A=a[y+2],B=a[y+3],P=a[y+4],D=a[y+5];y==0&&(E=2*N-A+.001,k=2*C-B+.001),y==a.length-4&&(P=2*A-N+.001,D=2*B-C+.001);var M=this.pointAPointBBuffer.getView(b);M[0]=E,M[1]=k,M[2]=N,M[3]=C;var L=this.pointCPointDBuffer.getView(b);L[0]=A,L[1]=B,L[2]=P,L[3]=D,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(r);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var s=i/n;this._setCurvePoint(r,s,a,i*2)}return a}},{key:"_setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var s=Array(r.length-2),o=0;o<s.length;o+=2){var u=(1-n)*r[o]+n*r[o+2],l=(1-n)*r[o+1]+n*r[o+3];s[o]=u,s[o+1]=l}return this._setCurvePoint(s,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var o=Or(this.buffers),u;try{for(o.s();!(u=o.n()).done;){var l=u.value;l.bufferSubData(i)}}catch(h){o.e(h)}finally{o.f()}for(var c=this.batchManager.getAtlases(),d=0;d<c.length;d++)c[d].bufferIfNeeded(r);for(var f=0;f<c.length;f++)r.activeTexture(r.TEXTURE0+f),r.bindTexture(r.TEXTURE_2D,c[f].texture),r.uniform1i(s.uTextures[f],f);r.uniform1f(s.uZoom,gD(this.r)),r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var v=Ya(this.bgColor,1);r.uniform4fv(s.uBGColor,v),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,o){return s+o.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(s,o){return s+o.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])}(),p2={};p2.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=jD(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=kD(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new ID(r,n,t);var a=function(d){return function(f){return r.getTextAngle(f,d)}},i=function(d){return function(f){var v=f.pstyle(d);return v&&v.value}},s=function(d){return function(f){return f.pstyle("".concat(d,"-opacity")).value>0}},o=function(d){var f=d.pstyle("text-events").strValue==="yes";return f?vc.USE_BB:vc.IGNORE},u=function(d){var f=d.position(),v=f.x,h=f.y,y=d.outerWidth(),b=d.outerHeight();return{w:y,h:b,x1:v-y/2,y1:h-b/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:yD,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:mh(e.getLabelKey,null),getBoundingBox:yh(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:a(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:i("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:mh(e.getSourceLabelKey,"source"),getBoundingBox:yh(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:a("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:i("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:mh(e.getTargetLabelKey,"target"),getBoundingBox:yh(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:a("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:i("target-label")});var l=hl(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,d){var f=!1;d&&d.length>0&&(f|=r.drawing.invalidate(d)),f&&l()}),zD(r)};function jD(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return Wb(r)}function g2(t,e){var r=t._private.rscratch;return Lr(r,"labelWrapCachedLines",e)||[]}var mh=function(e,r){return function(n){var a=e(n),i=g2(n,r);return i.length>1?i.map(function(s,o){return"".concat(a,"_").concat(o)}):a}},yh=function(e,r){return function(n,a){var i=e(n);if(typeof a=="string"){var s=a.indexOf("_");if(s>0){var o=Number(a.substring(s+1)),u=g2(n,r),l=i.h/u.length,c=l*o,d=i.y1+c;return{x1:i.x1,w:i.w,y1:d,h:l,yOffset:c}}}return i}};function zD(t){{var e=t.render;t.render=function(i){i=i||{};var s=t.cy;t.webgl&&(s.zoom()>l2?(FD(t),e.call(t,i)):(qD(t),y2(t,i,Co.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(i){r.call(t,i),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(i,s,o,u){return GD(t,i,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var a=t.notify;t.notify=function(i,s){a.call(t,i,s),i==="viewport"||i==="bounds"?t.pickingFrameBuffer.needsDraw=!0:i==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function FD(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function qD(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function VD(t){var e=t.canvasWidth,r=t.canvasHeight,n=Jp(t),a=n.pan,i=n.zoom,s=vh();Du(s,s,[a.x,a.y]),Pv(s,s,[i,i]);var o=vh();ND(o,e,r);var u=vh();return TD(u,o,s),u}function m2(t,e){var r=t.canvasWidth,n=t.canvasHeight,a=Jp(t),i=a.pan,s=a.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(i.x,i.y),e.scale(s,s)}function WD(t,e){t.drawSelectionRectangle(e,function(r){return m2(t,r)})}function $D(t){var e=t.data.contexts[t.NODE];e.save(),m2(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function UD(t){var e=function(a,i,s){for(var o=a.atlasManager.getAtlasCollection(i),u=t.data.contexts[t.NODE],l=o.atlases,c=0;c<l.length;c++){var d=l[c],f=d.canvas;if(f){var v=f.width,h=f.height,y=v*c,b=f.height*s,g=.4;u.save(),u.scale(g,g),u.drawImage(f,y,b),u.strokeStyle="black",u.rect(y,b,v,h),u.stroke(),u.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function HD(t,e,r,n,a){var i,s,o,u,l=Jp(t),c=l.pan,d=l.zoom;{var f=mD(t,c,d,e,r),v=Ft(f,2),h=v[0],y=v[1],b=6;i=h-b/2,s=y-b/2,o=b,u=b}if(o===0||u===0)return[];var g=t.data.contexts[t.WEBGL];g.bindFramebuffer(g.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(g.viewport(0,0,g.canvas.width,g.canvas.height),y2(t,null,Co.PICKING),t.pickingFrameBuffer.needsDraw=!1);var p=o*u,w=new Uint8Array(p*4);g.readPixels(i,s,o,u,g.RGBA,g.UNSIGNED_BYTE,w),g.bindFramebuffer(g.FRAMEBUFFER,null);for(var E=new Set,k=0;k<p;k++){var N=w.slice(k*4,k*4+4),C=bD(N)-1;C>=0&&E.add(C)}return E}function GD(t,e,r){var n=HD(t,e,r),a=t.getCachedZSortedEles(),i,s,o=Or(n),u;try{for(o.s();!(u=o.n()).done;){var l=u.value,c=a[l];if(!i&&c.isNode()&&(i=c),!s&&c.isEdge()&&(s=c),i&&s)break}}catch(d){o.e(d)}finally{o.f()}return[i,s].filter(Boolean)}function xh(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function y2(t,e,r){var n;t.webglDebug&&(n=performance.now());var a=t.drawing,i=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&WD(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=VD(t),u=t.getCachedZSortedEles();if(i=u.length,a.startFrame(o,r),r.screen){for(var l=0;l<u.nondrag.length;l++)xh(t,l,u.nondrag[l]);for(var c=0;c<u.drag.length;c++)xh(t,c,u.drag[c])}else if(r.picking)for(var d=0;d<u.length;d++)xh(t,d,u[d]);a.endFrame(),r.screen&&t.webglDebugShowAtlases&&($D(t),UD(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var f=performance.now(),v=!1,h=Math.ceil(f-n),y=a.getDebugInfo(),b=["".concat(i," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.simpleCount," simple shapes")].join(", ");if(v)console.log("WebGL (".concat(r.name,") - time ").concat(h,"ms, ").concat(b));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(h,"ms")),console.log("Totals:"),console.log("  ".concat(b)),console.log("Texture Atlases Used:");var g=y.atlasInfo,p=Or(g),w;try{for(p.s();!(w=p.n()).done;){var E=w.value;console.log("  ".concat(E.type,": ").concat(E.keyCount," keys, ").concat(E.atlasCount," atlases"))}}catch(k){p.e(k)}finally{p.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,a.gc())}var $a={};$a.drawPolygonPath=function(t,e,r,n,a,i){var s=n/2,o=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*i[0],r+o*i[1]);for(var u=1;u<i.length/2;u++)t.lineTo(e+s*i[u*2],r+o*i[u*2+1]);t.closePath()};$a.drawRoundPolygonPath=function(t,e,r,n,a,i,s){s.forEach(function(o){return Jw(t,o)}),t.closePath()};$a.drawRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,u=i==="auto"?Ra(n,a):Math.min(i,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,u),t.arcTo(e+s,r+o,e,r+o,u),t.arcTo(e-s,r+o,e-s,r,u),t.arcTo(e-s,r-o,e,r-o,u),t.lineTo(e,r-o),t.closePath()};$a.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,u=i==="auto"?Ra(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,u),t.arcTo(e-s,r+o,e-s,r,u),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};$a.drawCutRectanglePath=function(t,e,r,n,a,i,s){var o=n/2,u=a/2,l=s==="auto"?zp():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+l,r-u),t.lineTo(e+o-l,r-u),t.lineTo(e+o,r-u+l),t.lineTo(e+o,r+u-l),t.lineTo(e+o-l,r+u),t.lineTo(e-o+l,r+u),t.lineTo(e-o,r+u-l),t.lineTo(e-o,r-u+l),t.closePath()};$a.drawBarrelPath=function(t,e,r,n,a){var i=n/2,s=a/2,o=e-i,u=e+i,l=r-s,c=r+s,d=pv(n,a),f=d.widthOffset,v=d.heightOffset,h=d.ctrlPtOffsetPct*f;t.beginPath&&t.beginPath(),t.moveTo(o,l+v),t.lineTo(o,c-v),t.quadraticCurveTo(o+h,c,o+f,c),t.lineTo(u-f,c),t.quadraticCurveTo(u-h,c,u,c-v),t.lineTo(u,l+v),t.quadraticCurveTo(u-h,l,u-f,l),t.lineTo(o+f,l),t.quadraticCurveTo(o+h,l,o,l+v),t.closePath()};var rx=Math.sin(0),nx=Math.cos(0),Bv={},Dv={},x2=Math.PI/40;for(var Fi=0*Math.PI;Fi<2*Math.PI;Fi+=x2)Bv[Fi]=Math.sin(Fi),Dv[Fi]=Math.cos(Fi);$a.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,s,o=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=x2)i=e-o*Bv[l]*rx+o*Dv[l]*nx,s=r+u*Dv[l]*rx+u*Bv[l]*nx,l===0?t.moveTo(i,s):t.lineTo(i,s);t.closePath()};var xl={};xl.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};xl.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],s=t.full?Math.ceil(n.h):a[3],o=ge(t.maxWidth)||ge(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)i*=t.scale,s*=t.scale,l=t.scale;else if(o){var c=1/0,d=1/0;ge(t.maxWidth)&&(c=l*t.maxWidth/i),ge(t.maxHeight)&&(d=l*t.maxHeight/s),l=Math.min(c,d),i*=l,s*=l}o||(i*=u,s*=u,l*=u);var f=document.createElement("canvas");f.width=i,f.height=s,f.style.width=i+"px",f.style.height=s+"px";var v=f.getContext("2d");if(i>0&&s>0){v.clearRect(0,0,i,s),v.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(t.full)v.translate(-n.x1*l,-n.y1*l),v.scale(l,l),this.drawElements(v,h),v.scale(1/l,1/l),v.translate(n.x1*l,n.y1*l);else{var y=e.pan(),b={x:y.x*l,y:y.y*l};l*=e.zoom(),v.translate(b.x,b.y),v.scale(l,l),this.drawElements(v,h),v.scale(1/l,1/l),v.translate(-b.x,-b.y)}t.bg&&(v.globalCompositeOperation="destination-over",v.fillStyle=t.bg,v.rect(0,0,i,s),v.fill())}return f};function KD(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function ax(t){var e=t.indexOf(",");return t.substr(e+1)}function b2(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Ds(function(a,i){try{e.toBlob(function(s){s!=null?a(s):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){i(s)}});case"blob":return KD(ax(n()),r);case"base64":return ax(n());case"base64uri":default:return n()}}xl.png=function(t){return b2(t,this.bufferCanvasImage(t),"image/png")};xl.jpg=function(t){return b2(t,this.bufferCanvasImage(t),"image/jpeg")};var w2={};w2.nodeShapeImpl=function(t,e,r,n,a,i,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,o);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var QD=S2,Je=S2.prototype;Je.CANVAS_LAYERS=3;Je.SELECT_BOX=0;Je.DRAG=1;Je.NODE=2;Je.WEBGL=3;Je.CANVAS_TYPES=["2d","2d","2d","webgl2"];Je.BUFFER_COUNT=3;Je.TEXTURE_BUFFER=0;Je.MOTIONBLUR_BUFFER_NODE=1;Je.MOTIONBLUR_BUFFER_DRAG=2;function S2(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Je.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Je.CANVAS_LAYERS),contexts:new Array(Je.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Je.CANVAS_LAYERS),bufferCanvases:new Array(Je.BUFFER_COUNT),bufferContexts:new Array(Je.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};WT()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<Je.CANVAS_LAYERS;l++){var c=e.data.canvases[l]=n.createElement("canvas"),d=Je.CANVAS_TYPES[l];e.data.contexts[l]=c.getContext(d),e.data.contexts[l]||kt("Could not create canvas of type "+d),Object.keys(u).forEach(function(ue){c.style[ue]=u[ue]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(Je.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Je.NODE].setAttribute("data-id","layer"+Je.NODE+"-node"),e.data.canvases[Je.SELECT_BOX].setAttribute("data-id","layer"+Je.SELECT_BOX+"-selectbox"),e.data.canvases[Je.DRAG].setAttribute("data-id","layer"+Je.DRAG+"-drag"),e.data.canvases[Je.WEBGL]&&e.data.canvases[Je.WEBGL].setAttribute("data-id","layer"+Je.WEBGL+"-webgl");for(var l=0;l<Je.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=n.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var f=kr(),v=function(G){return{x:(G.x1+G.x2)/2,y:(G.y1+G.y2)/2}},h=function(G){return{x:-G.w/2,y:-G.h/2}},y=function(G){var Q=G[0]._private,X=Q.oldBackgroundTimestamp===Q.backgroundTimestamp;return!X},b=function(G){return G[0]._private.nodeKey},g=function(G){return G[0]._private.labelStyleKey},p=function(G){return G[0]._private.sourceLabelStyleKey},w=function(G){return G[0]._private.targetLabelStyleKey},E=function(G,Q,X,ae,pe){return e.drawElement(G,Q,X,!1,!1,pe)},k=function(G,Q,X,ae,pe){return e.drawElementText(G,Q,X,ae,"main",pe)},N=function(G,Q,X,ae,pe){return e.drawElementText(G,Q,X,ae,"source",pe)},C=function(G,Q,X,ae,pe){return e.drawElementText(G,Q,X,ae,"target",pe)},A=function(G){return G.boundingBox(),G[0]._private.bodyBounds},B=function(G){return G.boundingBox(),G[0]._private.labelBounds.main||f},P=function(G){return G.boundingBox(),G[0]._private.labelBounds.source||f},D=function(G){return G.boundingBox(),G[0]._private.labelBounds.target||f},M=function(G,Q){return Q},L=function(G){return v(A(G))},I=function(G,Q,X){var ae=G?G+"-":"";return{x:Q.x+X.pstyle(ae+"text-margin-x").pfValue,y:Q.y+X.pstyle(ae+"text-margin-y").pfValue}},z=function(G,Q,X){var ae=G[0]._private.rscratch;return{x:ae[Q],y:ae[X]}},F=function(G){return I("",z(G,"labelX","labelY"),G)},j=function(G){return I("source",z(G,"sourceLabelX","sourceLabelY"),G)},O=function(G){return I("target",z(G,"targetLabelX","targetLabelY"),G)},V=function(G){return h(A(G))},$=function(G){return h(P(G))},W=function(G){return h(D(G))},H=function(G){var Q=B(G),X=h(B(G));if(G.isNode()){switch(G.pstyle("text-halign").value){case"left":X.x=-Q.w-(Q.leftPad||0);break;case"right":X.x=-(Q.rightPad||0);break}switch(G.pstyle("text-valign").value){case"top":X.y=-Q.h-(Q.topPad||0);break;case"bottom":X.y=-(Q.botPad||0);break}}return X},ee=e.data.eleTxrCache=new fo(e,{getKey:b,doesEleInvalidateKey:y,drawElement:E,getBoundingBox:A,getRotationPoint:L,getRotationOffset:V,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),re=e.data.lblTxrCache=new fo(e,{getKey:g,drawElement:k,getBoundingBox:B,getRotationPoint:F,getRotationOffset:H,isVisible:M}),te=e.data.slbTxrCache=new fo(e,{getKey:p,drawElement:N,getBoundingBox:P,getRotationPoint:j,getRotationOffset:$,isVisible:M}),le=e.data.tlbTxrCache=new fo(e,{getKey:w,drawElement:C,getBoundingBox:D,getRotationPoint:O,getRotationOffset:W,isVisible:M}),fe=e.data.lyrTxrCache=new u2(e);e.onUpdateEleCalcs(function(G,Q){ee.invalidateElements(Q),re.invalidateElements(Q),te.invalidateElements(Q),le.invalidateElements(Q),fe.invalidateElements(Q);for(var X=0;X<Q.length;X++){var ae=Q[X]._private;ae.oldBackgroundTimestamp=ae.backgroundTimestamp}});var me=function(G){for(var Q=0;Q<G.length;Q++)fe.enqueueElementRefinement(G[Q].ele)};ee.onDequeue(me),re.onDequeue(me),te.onDequeue(me),le.onDequeue(me),t.webgl&&e.initWebgl(t,{getStyleKey:b,getLabelKey:g,getSourceLabelKey:p,getTargetLabelKey:w,drawElement:E,drawLabel:k,drawSourceLabel:N,drawTargetLabel:C,getElementBox:A,getLabelBox:B,getSourceLabelBox:P,getTargetLabelBox:D,getElementRotationPoint:L,getElementRotationOffset:V,getLabelRotationPoint:F,getSourceLabelRotationPoint:j,getTargetLabelRotationPoint:O,getLabelRotationOffset:H,getSourceLabelRotationOffset:$,getTargetLabelRotationOffset:W})}Je.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Je.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Je.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Je.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var YD=typeof Path2D<"u";Je.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Je.usePaths=function(){return YD&&this.pathsEnabled};Je.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Je.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Je.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Qt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[c2,Mn,ta,Zp,Ti,Wa,Ar,p2,$a,xl,w2].forEach(function(t){je(Je,t)});var XD=[{name:"null",impl:Yw},{name:"base",impl:s2},{name:"canvas",impl:QD}],ZD=[{type:"layout",extensions:EB},{type:"renderer",extensions:XD}],E2={},C2={};function k2(t,e,r){var n=r,a=function(A){dt("Can not register `"+e+"` for `"+t+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Xo.prototype[e])return a(e);Xo.prototype[e]=r}else if(t==="collection"){if(cr.prototype[e])return a(e);cr.prototype[e]=r}else if(t==="layout"){for(var i=function(A){this.options=A,r.call(this,A),ot(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},s=i.prototype=Object.create(r.prototype),o=[],u=0;u<o.length;u++){var l=o[u];s[l]=s[l]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=r.prototype.stop;s.stop=function(){var C=this.options;if(C&&C.animate){var A=this.animations;if(A)for(var B=0;B<A.length;B++)A[B].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var d=function(A){return A._private.cy},f={addEventFields:function(A,B){B.layout=A,B.cy=d(A),B.target=A},bubble:function(){return!0},parent:function(A){return d(A)}};je(s,{createEmitter:function(){return this._private.emitter=new Uc(f,this),this},emitter:function(){return this._private.emitter},on:function(A,B){return this.emitter().on(A,B),this},one:function(A,B){return this.emitter().one(A,B),this},once:function(A,B){return this.emitter().one(A,B),this},removeListener:function(A,B){return this.emitter().removeListener(A,B),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,B){return this.emitter().emit(A,B),this}}),ct.eventAliasesOn(s),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var v=T2("renderer","base"),h=v.prototype,y=r,b=r.prototype,g=function(){v.apply(this,arguments),y.apply(this,arguments)},p=g.prototype;for(var w in h){var E=h[w],k=b[w]!=null;if(k)return a(w);p[w]=E}for(var N in b)p[N]=b[N];h.clientFunctions.forEach(function(C){p[C]=p[C]||function(){kt("Renderer does not implement `renderer."+C+"()` on its prototype")}}),n=g}else if(t==="__proto__"||t==="constructor"||t==="prototype")return kt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return $b({map:E2,keys:[t,e],value:n})}function T2(t,e){return Ub({map:E2,keys:[t,e]})}function JD(t,e,r,n,a){return $b({map:C2,keys:[t,e,r,n],value:a})}function e3(t,e,r,n){return Ub({map:C2,keys:[t,e,r,n]})}var Rv=function(){if(arguments.length===2)return T2.apply(null,arguments);if(arguments.length===3)return k2.apply(null,arguments);if(arguments.length===4)return e3.apply(null,arguments);if(arguments.length===5)return JD.apply(null,arguments);kt("Invalid extension access syntax")};Xo.prototype.extension=Rv;ZD.forEach(function(t){t.extensions.forEach(function(e){k2(t.type,e.name,e.impl)})});var pc=function(){if(!(this instanceof pc))return new pc;this.length=0},xi=pc.prototype;xi.instanceString=function(){return"stylesheet"};xi.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};xi.css=function(t,e){var r=this.length-1;if(_e(t))this[r].properties.push({name:t,value:e});else if(ot(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var s=a[i],o=n[s];if(o!=null){var u=nr.properties[s]||nr.properties[Mc(s)];if(u!=null){var l=u.name,c=o;this[r].properties.push({name:l,value:c})}}}return this};xi.style=xi.css;xi.generateStyle=function(t){var e=new nr(t);return this.appendToStyle(e)};xi.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var s=a[i];t.css(s.name,s.value)}}return t};var t3="3.33.1",bi=function(e){if(e===void 0&&(e={}),ot(e))return new Xo(e);if(_e(e))return Rv.apply(Rv,arguments)};bi.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(bi),t.apply(null,e),this};bi.warnings=function(t){return Zb(t)};bi.version=t3;bi.stylesheet=bi.Stylesheet=pc;const r3=[{selector:"node",style:{"background-color":"#3b82f6",label:"data(label)",color:"#fff","text-valign":"center","text-halign":"center","font-size":"14px","font-weight":"bold",width:50,height:50,"border-width":3,"border-color":"#2563eb","text-wrap":"wrap","text-max-width":"80px"}},{selector:"node.drop-zone",style:{"background-color":"#e5e7eb","border-color":"#9ca3af","border-style":"dashed",color:"#6b7280"}},{selector:"node.draggable",style:{"background-color":"#8b5cf6","border-color":"#7c3aed"}},{selector:"node.selected",style:{"background-color":"#f59e0b","border-color":"#d97706","border-width":4}},{selector:"node.correct",style:{"background-color":"#10b981","border-color":"#059669"}},{selector:"node.incorrect",style:{"background-color":"#ef4444","border-color":"#dc2626"}},{selector:"node.highlighted",style:{"background-color":"#f59e0b","border-color":"#d97706"}},{selector:"node.visited",style:{"background-color":"#10b981","border-color":"#059669"}},{selector:"node.missing-value",style:{"background-color":"#fbbf24","border-color":"#f59e0b","border-style":"dashed"}},{selector:"edge",style:{width:3,"line-color":"#6b7280","target-arrow-color":"#6b7280","target-arrow-shape":"triangle","curve-style":"bezier","arrow-scale":1.2}},{selector:"edge.dashed",style:{"line-style":"dashed","line-color":"#9ca3af","target-arrow-color":"#9ca3af"}},{selector:"edge.highlighted",style:{"line-color":"#f59e0b","target-arrow-color":"#f59e0b",width:4}},{selector:"edge.correct",style:{"line-color":"#10b981","target-arrow-color":"#10b981"}},{selector:"edge.user-created",style:{"line-color":"#8b5cf6","target-arrow-color":"#8b5cf6"}}];function Jc({nodes:t,edges:e,onNodeClick:r,onNodeDrop:n,onEdgeCreate:a,selectedNodes:i=[],highlightedPath:s=[],edgeCreationMode:o=!1,draggableNodeIds:u=[],className:l=""}){const c=ce.useRef(null),d=ce.useRef(null),f=ce.useRef(null);ce.useEffect(()=>{if(!c.current)return;const y=bi({container:c.current,elements:[...t.map(b=>({group:"nodes",...b})),...e.map(b=>({group:"edges",...b}))],style:r3,layout:{name:"preset"},userZoomingEnabled:!1,userPanningEnabled:!1,boxSelectionEnabled:!1,autoungrabify:!1});return d.current=y,y.nodes().forEach(b=>{const g=b.id();u.includes(g)?b.grabify():b.ungrabify()}),()=>{y.destroy()}},[t,e,u]);const v=ce.useCallback(y=>{var p;const b=y.target,g=b.id();o&&a?f.current===null?(f.current=g,b.addClass("selected")):(f.current!==g&&a(f.current,g),(p=d.current)==null||p.nodes().removeClass("selected"),f.current=null):r&&r(g)},[o,a,r]),h=ce.useCallback(y=>{const b=y.target,g=b.id(),p=b.position();n&&u.includes(g)&&n(g,{x:p.x,y:p.y})},[n,u]);return ce.useEffect(()=>{const y=d.current;if(y)return y.on("tap","node",v),y.on("dragfree","node",h),()=>{y.off("tap","node",v),y.off("dragfree","node",h)}},[v,h]),ce.useEffect(()=>{const y=d.current;y&&(y.nodes().removeClass("selected"),i.forEach(b=>{y.getElementById(b).addClass("selected")}))},[i]),ce.useEffect(()=>{const y=d.current;y&&(y.nodes().removeClass("visited"),y.edges().removeClass("highlighted"),s.forEach((b,g)=>{if(y.getElementById(b).addClass("visited"),g<s.length-1){const p=s[g+1];y.edges().forEach(w=>{(w.source().id()===b&&w.target().id()===p||w.source().id()===p&&w.target().id()===b)&&w.addClass("highlighted")})}}))},[s]),x.jsx("div",{ref:c,className:`w-full h-[400px] bg-gray-50 border-2 border-gray-200 rounded-xl ${l}`})}function n3({challenge:t}){const{placedNodes:e,showResult:r,isCorrect:n,placeNode:a,resetPlacedNodes:i}=sl(),s=ce.useCallback((f,v)=>{r||a(f,v)},[r,a]),o=ce.useMemo(()=>{var f;return((f=t.draggableNodes)==null?void 0:f.map(v=>v.data.id))||[]},[t.draggableNodes]),u=ce.useMemo(()=>{const f=[...t.initialNodes];if(t.draggableNodes)for(const v of t.draggableNodes){const h=e[v.data.id];let y=v.classes||"";if(r){const b=v.data.correctPosition;if(b&&h){const g=Math.sqrt(Math.pow(h.x-b.x,2)+Math.pow(h.y-b.y,2));y+=g<=50?" correct":" incorrect"}}f.push({...v,position:h||v.position,classes:y})}return f},[t.initialNodes,t.draggableNodes,e,r]),l=ce.useMemo(()=>t.initialEdges,[t.initialEdges]),c=Object.keys(e).length,d=o.length;return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg text-purple-800 text-sm",children:[x.jsx("strong",{children:"Tip:"})," Drag the purple nodes to the correct drop zones (marked with ?)."]}),x.jsx(Jc,{nodes:u,edges:l,onNodeDrop:s,draggableNodeIds:o}),x.jsxs("div",{className:"flex flex-wrap gap-4 p-3 bg-gray-50 rounded-lg text-sm",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-500 border-2 border-purple-700"}),x.jsx("span",{className:"text-gray-600",children:"Draggable nodes"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-300 border-2 border-dashed border-gray-400"}),x.jsx("span",{className:"text-gray-600",children:"Drop zones"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 border-2 border-blue-700"}),x.jsx("span",{className:"text-gray-600",children:"Fixed nodes"})]})]}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsxs("span",{className:"text-sm text-gray-600",children:["Nodes placed: ",c," / ",d]}),!r&&x.jsx(We,{variant:"ghost",size:"sm",onClick:i,disabled:c===0,leftIcon:x.jsx(za,{size:14}),children:"Reset Positions"})]}),r&&x.jsxs("div",{className:`p-4 rounded-lg ${n?"bg-green-50":"bg-orange-50"}`,children:[x.jsx("h4",{className:"font-medium mb-2",children:n?" All nodes placed correctly!":" Some nodes are misplaced"}),!n&&x.jsx("p",{className:"text-sm text-orange-700",children:"Green nodes are correctly placed. Red nodes need to be moved to the dashed drop zones."})]})]})}function a3({challenge:t}){const{filledValues:e,showResult:r,fillValue:n,resetFilledValues:a}=sl(),[i,s]=ce.useState(null),[o,u]=ce.useState(""),l=ce.useMemo(()=>{var p;return((p=t.missingValues)==null?void 0:p.map(w=>w.nodeId))||[]},[t.missingValues]),c=ce.useCallback(p=>{r||l.includes(p)&&(s(p),u(String(e[p]??"")))},[r,l,e]),d=()=>{if(i&&o.trim()){const p=Number(o.trim());n(i,isNaN(p)?o.trim():p),s(null),u("")}},f=p=>{p.key==="Enter"?d():p.key==="Escape"&&(s(null),u(""))},v=ce.useMemo(()=>t.initialNodes.map(p=>{var C,A;const w=p.data.id,E=l.includes(w),k=e[w];let N=p.classes||"";if(E){if(N+=" missing-value",r){const B=(A=(C=t.missingValues)==null?void 0:C.find(D=>D.nodeId===w))==null?void 0:A.correctValue,P=String(k)===String(B);return N+=P?" correct":" incorrect",{...p,data:{...p.data,label:P?String(B):`${k??"?"}  ${B}`},classes:N}}return{...p,data:{...p.data,label:k!==void 0?String(k):"?"},classes:N}}return p}),[t.initialNodes,t.missingValues,l,e,r]),h=ce.useMemo(()=>t.initialEdges,[t.initialEdges]),y=Object.keys(e).length,b=l.length,g=y===b;return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-800 text-sm",children:[x.jsx("strong",{children:"Tip:"}),' Click on a node with "?" to enter its value. Yellow nodes need values.']}),x.jsx(Jc,{nodes:v,edges:h,onNodeClick:c,selectedNodes:i?[i]:[]}),i&&!r&&x.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[x.jsxs("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:["Enter value for node ",i,":"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:o,onChange:p=>u(p.target.value),onKeyDown:f,className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter value...",autoFocus:!0}),x.jsx(We,{variant:"primary",onClick:d,disabled:!o.trim(),children:"Set"}),x.jsx(We,{variant:"ghost",onClick:()=>{s(null),u("")},children:"Cancel"})]})]}),x.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[x.jsxs("span",{className:"text-sm text-gray-600",children:["Values filled: ",y," / ",b]}),!r&&x.jsx(We,{variant:"ghost",size:"sm",onClick:a,disabled:y===0,leftIcon:x.jsx(za,{size:14}),children:"Reset"})]}),y>0&&x.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Your values:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(e).map(([p,w])=>{var k,N;let E="bg-blue-100 text-blue-800";if(r){const C=(N=(k=t.missingValues)==null?void 0:k.find(A=>A.nodeId===p))==null?void 0:N.correctValue;E=String(w)===String(C)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}return x.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${E}`,children:[p," = ",String(w)]},p)})})]}),!r&&g&&x.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-800 text-sm",children:'All values filled! Click "Check Answer" to verify.'})]})}function i3({challenge:t}){var v,h;const{traversalSelection:e,showResult:r,isCorrect:n,selectTraversalNode:a,undoTraversalSelection:i,resetTraversalSelection:s}=sl(),o=ce.useCallback(y=>{r||a(y)},[r,a]),u=ce.useMemo(()=>t.initialNodes.map(y=>{const b=e.indexOf(y.data.id);let g=y.classes||"";if(b!==-1)return g+=" visited",{...y,data:{...y.data,label:`${y.data.label}
(${b+1})`},classes:g};if(r&&t.correctTraversalOrder){const p=t.correctTraversalOrder.indexOf(y.data.id);if(p!==-1)return{...y,data:{...y.data,label:`${y.data.label}
[${p+1}]`},classes:g+(n?" correct":"")}}return y}),[t.initialNodes,t.correctTraversalOrder,e,r,n]),l=ce.useMemo(()=>t.initialEdges,[t.initialEdges]),c=()=>{switch(t.traversalType){case"preorder":return"Root  Left  Right";case"inorder":return"Left  Root  Right";case"postorder":return"Left  Right  Root";case"levelorder":return"Level by Level (BFS)";default:return""}},d=((v=t.correctTraversalOrder)==null?void 0:v.length)||0,f=e.length===d;return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[x.jsx(or,{variant:"info",size:"md",children:(h=t.traversalType)==null?void 0:h.toUpperCase()}),x.jsx("span",{className:"text-purple-800 font-medium",children:c()})]}),x.jsx(Jc,{nodes:u,edges:l,onNodeClick:o,highlightedPath:e}),x.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Selection:"}),x.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," / ",d," nodes"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2 min-h-[40px]",children:e.length===0?x.jsx("span",{className:"text-gray-400 text-sm",children:"Click nodes in the correct order..."}):e.map((y,b)=>x.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:[x.jsxs("span",{className:"text-purple-500 text-xs",children:[b+1,"."]}),y]},b))})]}),!r&&x.jsxs("div",{className:"flex gap-2",children:[x.jsx(We,{variant:"secondary",onClick:i,disabled:e.length===0,leftIcon:x.jsx(Cb,{size:16}),children:"Undo"}),x.jsx(We,{variant:"ghost",onClick:s,disabled:e.length===0,leftIcon:x.jsx(za,{size:16}),children:"Reset"})]}),!r&&f&&x.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-800 text-sm",children:'All nodes selected! Click "Check Answer" to verify.'}),r&&t.correctTraversalOrder&&x.jsxs("div",{className:`p-4 rounded-lg ${n?"bg-green-50":"bg-orange-50"}`,children:[x.jsx("h4",{className:"font-medium mb-2",children:n?" Correct!":" Correct order:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.correctTraversalOrder.map((y,b)=>x.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white rounded-full text-sm font-medium shadow-sm",children:[x.jsxs("span",{className:"text-gray-400 text-xs",children:[b+1,"."]}),y]},b))})]})]})}function s3({challenge:t}){var v;const{connectedEdges:e,showResult:r,isCorrect:n,addEdge:a,resetEdges:i}=sl(),[s,o]=ce.useState(!1),u=ce.useCallback((h,y)=>{r||a(h,y)},[r,a]),l=ce.useMemo(()=>t.initialNodes.map(h=>{let y=h.classes||"";return s&&!r&&(y+=" selectable"),{...h,classes:y}}),[t.initialNodes,s,r]),c=ce.useMemo(()=>{const h=[...t.initialEdges];return e.forEach((y,b)=>{let g="user-created";if(r&&t.requiredEdges){const p=t.requiredEdges.some(w=>w.source===y.source&&w.target===y.target||w.source===y.target&&w.target===y.source);g+=p?" correct":" incorrect"}h.push({data:{id:`user-edge-${b}`,source:y.source,target:y.target},classes:g})}),h},[t.initialEdges,t.requiredEdges,e,r]),d=e.length,f=((v=t.requiredEdges)==null?void 0:v.length)||0;return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-800 text-sm",children:[x.jsx("strong",{children:"Mode:"})," ",s?"Click on a source node, then click on a target node to create an edge.":'Click "Create Edge" to start connecting nodes.']}),!r&&x.jsxs("div",{className:"flex gap-2",children:[x.jsx(We,{variant:s?"primary":"secondary",onClick:()=>o(!s),leftIcon:x.jsx($C,{size:16}),children:s?"Creating Edges...":"Create Edge"}),x.jsx(We,{variant:"ghost",onClick:i,disabled:d===0,leftIcon:x.jsx(za,{size:14}),children:"Reset Edges"})]}),x.jsx(Jc,{nodes:l,edges:c,onEdgeCreate:u,edgeCreationMode:s&&!r}),x.jsxs("div",{className:"flex flex-wrap gap-4 p-3 bg-gray-50 rounded-lg text-sm",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-1 bg-gray-500"}),x.jsx("span",{className:"text-gray-600",children:"Existing edges"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-1 bg-purple-500"}),x.jsx("span",{className:"text-gray-600",children:"Your edges"})]}),r&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-1 bg-green-500"}),x.jsx("span",{className:"text-gray-600",children:"Correct"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-1 bg-red-500"}),x.jsx("span",{className:"text-gray-600",children:"Incorrect"})]})]})]}),x.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("span",{className:"text-sm text-gray-600",children:["Edges created: ",d," / ",f," required"]})}),d>0&&x.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.map((h,y)=>{let b="bg-purple-100 text-purple-800";return r&&t.requiredEdges&&(b=t.requiredEdges.some(p=>p.source===h.source&&p.target===h.target||p.source===h.target&&p.target===h.source)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),x.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${b}`,children:[h.source,"  ",h.target]},y)})})]}),!r&&d===f&&x.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-800 text-sm",children:'All edges created! Click "Check Answer" to verify.'}),r&&x.jsxs("div",{className:`p-4 rounded-lg ${n?"bg-green-50":"bg-orange-50"}`,children:[x.jsx("h4",{className:"font-medium mb-2",children:n?" All edges correct!":" Some edges are incorrect"}),!n&&t.requiredEdges&&x.jsxs("div",{className:"text-sm",children:[x.jsx("p",{className:"mb-2",children:"Required edges:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.requiredEdges.map((h,y)=>x.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-white rounded-full text-sm font-medium shadow-sm",children:[h.source,"  ",h.target]},y))})]})]})]})}function o3({onBack:t}){const{challenges:e,currentIndex:r,currentChallenge:n,score:a,timeSpent:i,streak:s,isComplete:o,showResult:u,isCorrect:l,initializeChallenges:c,nextChallenge:d,submitChallenge:f,resetChallenge:v,incrementTime:h}=sl(),{practiceMode:y,updateModuleScore:b}=Ei();ce.useEffect(()=>{c()},[c]),ce.useEffect(()=>{if(o)return;const C=setInterval(()=>{h()},1e3);return()=>clearInterval(C)},[o,h]),ce.useEffect(()=>{o&&!y&&b("diagrams",a.correct,a.total,a.points,i)},[o,y,a,i,b]);const g=ce.useCallback(()=>{f()},[f]),p=ce.useCallback(()=>{d()},[d]),w=ce.useCallback(()=>{v()},[v]),E=ce.useCallback(()=>{c()},[c]);if(o){const C=Ci(a.correct,a.total),A=Ps(a.correct,a.total),B=il(C);return x.jsx("div",{className:"max-w-2xl mx-auto animate-fade-in",children:x.jsxs(Rn,{padding:"none",children:[x.jsxs("div",{className:`p-8 text-white text-center ${A?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-orange-500 to-red-500"}`,children:[x.jsx("div",{className:"text-6xl mb-3",children:A?"":""}),x.jsx("h2",{className:"text-2xl font-bold mb-1",children:B.label}),x.jsx("p",{className:"opacity-90",children:y?"Practice Complete":"Diagram Challenge Complete"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[C,"%"]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Accuracy"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[a.correct,"/",a.total]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Correct"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsx("div",{className:"text-3xl font-bold text-purple-600",children:Dn(i)}),x.jsx("div",{className:"text-sm text-gray-500",children:"Time"})]})]}),x.jsx("div",{className:"text-center mb-6",children:x.jsx("span",{className:`inline-block text-6xl font-bold ${B.colorClass}`,children:B.grade})}),!y&&x.jsxs("div",{className:"text-center mb-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[x.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[a.points," pts"]}),x.jsx("div",{className:"text-sm text-yellow-700",children:"Total Points Earned"})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsx(We,{variant:"secondary",onClick:t,fullWidth:!0,children:"Back to Menu"}),x.jsx(We,{variant:"primary",onClick:E,fullWidth:!0,children:"Try Again"})]})]})]})})}if(!n)return x.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),x.jsx("p",{className:"text-gray-600",children:"Loading challenges..."})]})});const k=()=>{switch(n.type){case"node-placement":return x.jsx(n3,{challenge:n});case"value-fill":return x.jsx(a3,{challenge:n});case"traversal-order":return x.jsx(i3,{challenge:n});case"edge-connection":return x.jsx(s3,{challenge:n});default:return x.jsx("p",{children:"Unknown challenge type"})}},N=()=>{switch(n.difficulty){case"easy":return x.jsx(or,{variant:"success",children:n.difficulty});case"medium":return x.jsx(or,{variant:"warning",children:n.difficulty});case"hard":return x.jsx(or,{variant:"error",children:n.difficulty});default:return null}};return x.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx(We,{variant:"ghost",onClick:t,leftIcon:x.jsx(bs,{size:20}),children:"Back"}),x.jsxs("div",{className:"flex items-center gap-3",children:[s>=2&&x.jsxs(or,{variant:"warning",className:"animate-pulse",children:[" ",s," streak!"]}),x.jsx("span",{className:"text-gray-600 font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:Dn(i)})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Challenge ",r+1," of ",e.length]}),x.jsxs("span",{className:"text-sm font-medium text-green-600",children:[a.correct," correct"]})]}),x.jsx(ol,{value:r+1,max:e.length,color:"green",animated:!0})]}),x.jsxs(Rn,{padding:"none",className:"mb-4",children:[x.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-gray-800",children:n.title}),x.jsx("p",{className:"text-sm text-gray-500",children:n.category})]}),N()]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("p",{className:"text-gray-700 mb-2",children:n.description}),x.jsx("p",{className:"text-sm text-blue-600 font-medium",children:n.instruction})]}),k()]}),u&&x.jsx("div",{className:`p-6 border-t ${l?"bg-green-50":"bg-orange-50"}`,children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"text-2xl",children:l?"":""}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-1",children:l?"Excellent!":"Explanation"}),x.jsx("p",{className:"text-sm opacity-90",children:n.explanation})]})]})})]}),x.jsx("div",{className:"flex gap-3",children:u?x.jsx(We,{variant:"primary",onClick:p,fullWidth:!0,rightIcon:x.jsx(Rc,{size:18}),children:r<e.length-1?"Next Challenge":"See Results"}):x.jsxs(x.Fragment,{children:[x.jsx(We,{variant:"secondary",onClick:w,children:"Reset"}),x.jsx(We,{variant:"primary",onClick:g,fullWidth:!0,leftIcon:x.jsx(wb,{size:18}),children:"Check Answer"})]})}),!u&&x.jsxs("details",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[x.jsx("summary",{className:"cursor-pointer text-yellow-800 font-medium",children:" Need a hint?"}),x.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:n.hint})]}),y&&x.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:x.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full",children:"Practice Mode - scores not saved"})})]})}function l3({nodes:t,edges:e,selectedNodes:r,onNodeClick:n,disabled:a=!1,showOrder:i=!0,correctOrder:s=[],showResult:o=!1}){const[u,l]=ce.useState(null),c=ce.useMemo(()=>{const v={};return t.forEach(h=>{const y=r.indexOf(h.id),b=y!==-1;let g;o&&b&&(g=s.indexOf(h.id)===y),v[h.id]={selected:b,order:b?y+1:0,isCorrect:g}}),v},[t,r,s,o]),d=v=>{const h=c[v],y=u===v;if(o&&h){if(h.isCorrect===!0)return{fill:"#10b981",stroke:"#059669",glow:"rgba(16, 185, 129, 0.4)"};if(h.isCorrect===!1)return{fill:"#ef4444",stroke:"#dc2626",glow:"rgba(239, 68, 68, 0.4)"}}return h!=null&&h.selected?{fill:"#8b5cf6",stroke:"#7c3aed",glow:"rgba(139, 92, 246, 0.5)"}:y&&!a?{fill:"#60a5fa",stroke:"#3b82f6",glow:"rgba(96, 165, 250, 0.4)"}:{fill:"#3b82f6",stroke:"#2563eb",glow:"transparent"}},f=ce.useMemo(()=>{if(t.length===0)return"0 0 600 400";const v=60,h=Math.min(...t.map(p=>p.x))-v,y=Math.max(...t.map(p=>p.x))+v,b=Math.min(...t.map(p=>p.y))-v,g=Math.max(...t.map(p=>p.y))+v;return`${h} ${b} ${y-h} ${g-b}`},[t]);return x.jsx("div",{className:"relative w-full bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 rounded-xl overflow-hidden shadow-inner",children:x.jsxs("svg",{viewBox:f,className:"w-full h-[350px]",preserveAspectRatio:"xMidYMid meet",children:[x.jsxs("defs",{children:[x.jsxs("filter",{id:"glow-purple",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[x.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),x.jsxs("feMerge",{children:[x.jsx("feMergeNode",{in:"blur"}),x.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),x.jsxs("filter",{id:"glow-green",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[x.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),x.jsxs("feMerge",{children:[x.jsx("feMergeNode",{in:"blur"}),x.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),x.jsxs("filter",{id:"glow-red",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[x.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),x.jsxs("feMerge",{children:[x.jsx("feMergeNode",{in:"blur"}),x.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),x.jsxs("linearGradient",{id:"edge-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[x.jsx("stop",{offset:"0%",stopColor:"#d1d5db"}),x.jsx("stop",{offset:"100%",stopColor:"#9ca3af"})]})]}),e.map(v=>{const h=t.find(w=>w.id===v.source),y=t.find(w=>w.id===v.target);if(!h||!y)return null;const b=c[v.source],g=c[v.target],p=(b==null?void 0:b.selected)||(g==null?void 0:g.selected);return x.jsxs("g",{children:[x.jsx("line",{x1:h.x,y1:h.y,x2:y.x,y2:y.y,stroke:p?"#8b5cf6":"#9ca3af",strokeWidth:p?4:3,strokeLinecap:"round",className:"transition-all duration-300",opacity:p?1:.7}),x.jsx("text",{x:(h.x+y.x)/2+(v.type==="left"?-14:14),y:(h.y+y.y)/2,className:"text-xs font-semibold pointer-events-none select-none",textAnchor:"middle",fill:p?"#7c3aed":"#9ca3af",children:v.type==="left"?"L":"R"})]},v.id)}),t.map(v=>{const h=c[v.id],y=!a&&!o,b=d(v.id),g=(h==null?void 0:h.selected)&&!o;return x.jsxs("g",{onClick:()=>y&&n(v.id),onMouseEnter:()=>y&&l(v.id),onMouseLeave:()=>l(null),className:`${y?"cursor-pointer":""} transition-transform duration-150`,style:{transform:u===v.id&&y?"scale(1.05)":"scale(1)",transformOrigin:`${v.x}px ${v.y}px`},children:[((h==null?void 0:h.selected)||o)&&x.jsx("circle",{cx:v.x,cy:v.y,r:"30",fill:b.glow,className:g?"animate-pulse-soft":""}),x.jsx("circle",{cx:v.x,cy:v.y,r:"26",fill:b.fill,stroke:b.stroke,strokeWidth:3,className:"transition-all duration-200"}),x.jsx("circle",{cx:v.x,cy:v.y-6,r:"16",fill:"white",opacity:.15}),x.jsx("text",{x:v.x,y:v.y,dy:"0.35em",textAnchor:"middle",className:"text-white font-bold text-base pointer-events-none select-none",style:{fill:"white",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:v.label}),i&&(h==null?void 0:h.selected)&&x.jsxs("g",{className:"animate-scale-in",children:[x.jsx("circle",{cx:v.x+20,cy:v.y-20,r:"14",fill:o?h.isCorrect?"#10b981":"#ef4444":"#f59e0b",stroke:"white",strokeWidth:"2",className:"drop-shadow-md"}),x.jsx("text",{x:v.x+20,y:v.y-20,dy:"0.35em",textAnchor:"middle",className:"text-white font-bold text-xs pointer-events-none",style:{fill:"white"},children:h.order})]})]},v.id)})]})})}const N2={preorder:{type:"preorder",name:"Pre-order Traversal",description:"Visit the root first, then left subtree, then right subtree.",pseudocode:["function preorder(node):","  if node is null: return","  visit(node)        // Process current node","  preorder(node.left)  // Traverse left subtree","  preorder(node.right) // Traverse right subtree"],visitOrder:"Root  Left  Right"},inorder:{type:"inorder",name:"In-order Traversal",description:"Visit the left subtree first, then root, then right subtree.",pseudocode:["function inorder(node):","  if node is null: return","  inorder(node.left)   // Traverse left subtree","  visit(node)          // Process current node","  inorder(node.right)  // Traverse right subtree"],visitOrder:"Left  Root  Right"},postorder:{type:"postorder",name:"Post-order Traversal",description:"Visit the left subtree first, then right subtree, then root.",pseudocode:["function postorder(node):","  if node is null: return","  postorder(node.left)  // Traverse left subtree","  postorder(node.right) // Traverse right subtree","  visit(node)           // Process current node"],visitOrder:"Left  Right  Root"},levelorder:{type:"levelorder",name:"Level-order Traversal",description:"Visit nodes level by level, from left to right.",pseudocode:["function levelorder(root):","  queue = [root]","  while queue is not empty:","    node = queue.dequeue()","    visit(node)","    if node.left: queue.enqueue(node.left)","    if node.right: queue.enqueue(node.right)"],visitOrder:"Level by level, left to right"}};function u3({traversalType:t,isOpen:e,onToggle:r}){const n=N2[t];return x.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[x.jsxs("button",{onClick:r,className:"w-full px-4 py-3 flex items-center justify-between text-white hover:bg-gray-700 transition-colors",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-lg",children:""}),x.jsx("span",{className:"font-medium",children:n.name})]}),e?x.jsx(qC,{size:20}):x.jsx(FC,{size:20})]}),e&&x.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[x.jsx("div",{className:"text-gray-300 text-sm",children:n.description}),x.jsxs("div",{className:"bg-purple-900/50 rounded-lg px-3 py-2",children:[x.jsx("span",{className:"text-purple-300 text-sm font-medium",children:"Order: "}),x.jsx("span",{className:"text-white font-mono",children:n.visitOrder})]}),x.jsx("div",{className:"bg-gray-900 rounded-lg p-3 font-mono text-sm",children:n.pseudocode.map((a,i)=>x.jsx("div",{className:`${a.startsWith("  ")?"text-gray-400":"text-green-400"}`,children:a},i))}),x.jsxs("div",{className:"text-xs text-gray-400",children:[t==="preorder"&&x.jsx("p",{children:" Pre-order is used for copying trees and creating prefix expressions."}),t==="inorder"&&x.jsx("p",{children:" In-order on a BST gives you sorted output!"}),t==="postorder"&&x.jsx("p",{children:" Post-order is used for deleting trees and evaluating expressions."}),t==="levelorder"&&x.jsx("p",{children:" Level-order uses a queue (BFS) and is great for finding shortest paths."})]})]})]})}function c3({onBack:t}){const{challenges:e,currentIndex:r,currentChallenge:n,selectedNodes:a,isAnimating:i,score:s,timeSpent:o,streak:u,isComplete:l,showResult:c,isCorrect:d,showAlgorithm:f,initializeChallenges:v,selectNode:h,undoSelection:y,resetSelection:b,startAnimation:g,stopAnimation:p,nextAnimationStep:w,submitTraversal:E,nextChallenge:k,toggleAlgorithm:N,incrementTime:C,resetChallenge:A}=Uk(),{practiceMode:B,updateModuleScore:P}=Ei();ce.useEffect(()=>{v()},[v]),ce.useEffect(()=>{if(l)return;const F=setInterval(()=>{C()},1e3);return()=>clearInterval(F)},[l,C]),ce.useEffect(()=>{if(!i)return;const F=setInterval(()=>{w()},800);return()=>clearInterval(F)},[i,w]),ce.useEffect(()=>{l&&!B&&P("traversals",s.correct,s.total,s.points,o)},[l,B,s,o,P]);const D=ce.useCallback(()=>{E()},[E]),M=ce.useCallback(()=>{k()},[k]),L=ce.useCallback(()=>{v()},[v]),I=n?a.length===n.correctOrder.length:!1;if(l){const F=Ci(s.correct,s.total),j=Ps(s.correct,s.total),O=il(F);return x.jsx("div",{className:"max-w-2xl mx-auto animate-fade-in",children:x.jsxs(Rn,{padding:"none",children:[x.jsxs("div",{className:`p-8 text-white text-center ${j?"bg-gradient-to-r from-purple-500 to-indigo-600":"bg-gradient-to-r from-orange-500 to-red-500"}`,children:[x.jsx("div",{className:"text-6xl mb-3",children:j?"":""}),x.jsx("h2",{className:"text-2xl font-bold mb-1",children:O.label}),x.jsx("p",{className:"opacity-90",children:B?"Practice Complete":"Traversal Game Complete"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[F,"%"]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Accuracy"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[s.correct,"/",s.total]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Correct"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsx("div",{className:"text-3xl font-bold text-purple-600",children:Dn(o)}),x.jsx("div",{className:"text-sm text-gray-500",children:"Time"})]})]}),x.jsx("div",{className:"text-center mb-6",children:x.jsx("span",{className:`inline-block text-6xl font-bold ${O.colorClass}`,children:O.grade})}),!B&&x.jsxs("div",{className:"text-center mb-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[x.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[s.points," pts"]}),x.jsx("div",{className:"text-sm text-yellow-700",children:"Total Points Earned"})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsx(We,{variant:"secondary",onClick:t,fullWidth:!0,children:"Back to Menu"}),x.jsx(We,{variant:"primary",onClick:L,fullWidth:!0,children:"Play Again"})]})]})]})})}if(!n)return x.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),x.jsx("p",{className:"text-gray-600",children:"Loading challenges..."})]})});const z=N2[n.traversalType];return x.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx(We,{variant:"ghost",onClick:t,leftIcon:x.jsx(bs,{size:20}),children:"Back"}),x.jsxs("div",{className:"flex items-center gap-3",children:[u>=2&&x.jsxs(or,{variant:"warning",className:"animate-pulse",children:[" ",u," streak!"]}),x.jsx("span",{className:"text-gray-600 font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:Dn(o)})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Challenge ",r+1," of ",e.length]}),x.jsxs("span",{className:"text-sm font-medium text-green-600",children:[s.correct," correct"]})]}),x.jsx(ol,{value:r+1,max:e.length,color:"purple",animated:!0})]}),x.jsxs(Rn,{padding:"none",className:"mb-4",children:[x.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-lg",children:n.title}),x.jsx("p",{className:"text-purple-200 text-sm",children:z.name})]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(or,{variant:n.difficulty==="easy"?"success":n.difficulty==="medium"?"warning":"error",children:n.difficulty})})]})}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("p",{className:"text-gray-700 mb-2",children:n.description}),x.jsxs("div",{className:"flex items-center gap-2 text-purple-600 font-medium",children:[x.jsx("span",{className:"text-lg",children:""}),x.jsxs("span",{children:["Click nodes in ",z.visitOrder," order"]})]})]}),x.jsx(l3,{nodes:n.nodes,edges:n.edges,selectedNodes:a,onNodeClick:h,disabled:c||i,showOrder:!0,correctOrder:n.correctOrder,showResult:c}),x.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your Traversal:"}),x.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," / ",n.correctOrder.length," nodes"]})]}),a.length>0?x.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((F,j)=>{let O="bg-purple-100 text-purple-800";return c&&(O=n.correctOrder[j]===F?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),x.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${O}`,children:[x.jsxs("span",{className:"text-xs opacity-60",children:[j+1,"."]}),F]},j)})}):x.jsx("p",{className:"text-gray-400 text-sm italic",children:"Click on nodes to build your traversal"})]}),!c&&x.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.jsx(We,{variant:"ghost",size:"sm",onClick:y,disabled:a.length===0||i,leftIcon:x.jsx(Cb,{size:16}),children:"Undo"}),x.jsx(We,{variant:"ghost",size:"sm",onClick:b,disabled:a.length===0||i,leftIcon:x.jsx(za,{size:16}),children:"Reset"}),x.jsx("div",{className:"flex-1"}),i?x.jsx(We,{variant:"secondary",size:"sm",onClick:p,leftIcon:x.jsx(UC,{size:16}),children:"Stop"}):x.jsx(We,{variant:"secondary",size:"sm",onClick:g,leftIcon:x.jsx(Sb,{size:16}),children:"Show Solution"})]})]}),c&&x.jsx("div",{className:`p-6 border-t ${d?"bg-green-50":"bg-orange-50"}`,children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"text-2xl",children:d?"":""}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-1",children:d?"Excellent!":"Explanation"}),x.jsx("p",{className:"text-sm opacity-90 mb-3",children:n.explanation}),!d&&x.jsxs("div",{className:"bg-white/50 rounded-lg p-3",children:[x.jsx("span",{className:"text-sm font-medium",children:"Correct order: "}),x.jsx("span",{className:"font-mono text-sm",children:n.correctOrder.join("  ")})]})]})]})})]}),x.jsx("div",{className:"flex gap-3 mb-4",children:c?x.jsx(We,{variant:"primary",onClick:M,fullWidth:!0,rightIcon:x.jsx(Rc,{size:18}),children:r<e.length-1?"Next Challenge":"See Results"}):x.jsxs(x.Fragment,{children:[x.jsx(We,{variant:"secondary",onClick:A,children:"Reset"}),x.jsx(We,{variant:"primary",onClick:D,fullWidth:!0,disabled:!I,children:I?"Check Answer":`Select ${n.correctOrder.length-a.length} more`})]})}),x.jsx(u3,{traversalType:n.traversalType,isOpen:f,onToggle:N}),!c&&x.jsxs("details",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[x.jsx("summary",{className:"cursor-pointer text-yellow-800 font-medium",children:" Need a hint?"}),x.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:n.hint})]}),B&&x.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:x.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full",children:"Practice Mode - scores not saved"})})]})}function d3({structure:t,isSelected:e,isMatched:r,isCorrect:n,showResult:a,onClick:i,disabled:s}){const o=()=>a&&r?n?"bg-green-100 border-green-500 ring-2 ring-green-300":"bg-red-100 border-red-500 ring-2 ring-red-300":r?"bg-purple-100 border-purple-500 opacity-60":e?"bg-orange-100 border-orange-500 ring-2 ring-orange-300":"bg-white border-gray-200 hover:border-blue-400 hover:shadow-md";return x.jsxs("button",{onClick:i,disabled:s||r,className:`
        w-full p-4 rounded-xl border-2 transition-all duration-200
        ${o()}
        ${s||r?"cursor-not-allowed":"cursor-pointer"}
      `,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-3xl",children:t.icon}),x.jsxs("div",{className:"text-left",children:[x.jsx("h3",{className:"font-semibold text-gray-800",children:t.name}),x.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:t.description})]})]}),r&&x.jsx("div",{className:"mt-2 text-xs font-medium text-purple-600",children:" Matched"})]})}function f3({application:t,isSelected:e,isMatched:r,matchedStructureName:n,isCorrect:a,showResult:i,onClick:s,onRemoveMatch:o,disabled:u}){const l=()=>i&&r?a?"bg-green-100 border-green-500":"bg-red-100 border-red-500":r?"bg-purple-100 border-purple-500":e?"bg-orange-100 border-orange-500 ring-2 ring-orange-300":"bg-white border-gray-200 hover:border-blue-400 hover:shadow-md";return x.jsxs("div",{className:`
        relative p-4 rounded-xl border-2 transition-all duration-200
        ${l()}
        ${u||r?"":"cursor-pointer"}
      `,children:[x.jsx("button",{onClick:s,disabled:u||r,className:"w-full text-left",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"text-2xl",children:t.icon}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold text-gray-800",children:t.title}),x.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]})}),r&&x.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:`text-sm font-medium ${i?a?"text-green-700":"text-red-700":"text-purple-700"}`,children:[i&&(a?" ":" "),"Matched with: ",n]}),!i&&o&&x.jsx("button",{onClick:c=>{c.stopPropagation(),o()},className:"text-xs text-gray-500 hover:text-red-600 transition-colors",children:"Remove"})]})})]})}function h3({onBack:t}){const{challenges:e,currentIndex:r,currentChallenge:n,matches:a,selectedStructure:i,selectedApplication:s,validatedMatches:o,score:u,timeSpent:l,streak:c,isComplete:d,showResult:f,initializeChallenges:v,selectStructure:h,selectApplication:y,removeMatch:b,resetMatches:g,submitMatches:p,nextChallenge:w,incrementTime:E,resetChallenge:k}=Kk(),{practiceMode:N,updateModuleScore:C}=Ei();ce.useEffect(()=>{v()},[v]),ce.useEffect(()=>{if(d)return;const z=setInterval(()=>{E()},1e3);return()=>clearInterval(z)},[d,E]),ce.useEffect(()=>{d&&!N&&C("realWorld",u.correct,u.total,u.points,l)},[d,N,u,l,C]);const A=ce.useCallback(()=>{p()},[p]),B=ce.useCallback(()=>{w()},[w]),P=ce.useCallback(()=>{v()},[v]),D=ce.useMemo(()=>new Set(a.map(z=>z.structureId)),[a]),M=ce.useMemo(()=>new Set(a.map(z=>z.applicationId)),[a]),L=n?a.length===n.applications.length:!1,I=ce.useMemo(()=>f?Object.values(o).every(z=>z):!1,[f,o]);if(d){const z=Ci(u.correct,u.total),F=Ps(u.correct,u.total),j=il(z);return x.jsx("div",{className:"max-w-2xl mx-auto animate-fade-in",children:x.jsxs(Rn,{padding:"none",children:[x.jsxs("div",{className:`p-8 text-white text-center ${F?"bg-gradient-to-r from-orange-500 to-amber-600":"bg-gradient-to-r from-orange-500 to-red-500"}`,children:[x.jsx("div",{className:"text-6xl mb-3",children:F?"":""}),x.jsx("h2",{className:"text-2xl font-bold mb-1",children:j.label}),x.jsx("p",{className:"opacity-90",children:N?"Practice Complete":"Real-World Match Complete"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[z,"%"]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Accuracy"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[u.correct,"/",u.total]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Correct"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsx("div",{className:"text-3xl font-bold text-purple-600",children:Dn(l)}),x.jsx("div",{className:"text-sm text-gray-500",children:"Time"})]})]}),x.jsx("div",{className:"text-center mb-6",children:x.jsx("span",{className:`inline-block text-6xl font-bold ${j.colorClass}`,children:j.grade})}),!N&&x.jsxs("div",{className:"text-center mb-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[x.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[u.points," pts"]}),x.jsx("div",{className:"text-sm text-yellow-700",children:"Total Points Earned"})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsx(We,{variant:"secondary",onClick:t,fullWidth:!0,children:"Back to Menu"}),x.jsx(We,{variant:"primary",onClick:P,fullWidth:!0,children:"Play Again"})]})]})]})})}return n?x.jsxs("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx(We,{variant:"ghost",onClick:t,leftIcon:x.jsx(bs,{size:20}),children:"Back"}),x.jsxs("div",{className:"flex items-center gap-3",children:[c>=2&&x.jsxs(or,{variant:"warning",className:"animate-pulse",children:[" ",c," streak!"]}),x.jsx("span",{className:"text-gray-600 font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:Dn(l)})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Challenge ",r+1," of ",e.length]}),x.jsxs("span",{className:"text-sm font-medium text-green-600",children:[u.correct," correct"]})]}),x.jsx(ol,{value:r+1,max:e.length,color:"orange",animated:!0})]}),x.jsxs(Rn,{padding:"none",className:"mb-4",children:[x.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-orange-500 to-amber-600 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-lg",children:n.title}),x.jsx("p",{className:"text-orange-200 text-sm",children:n.category})]}),x.jsx(or,{variant:n.difficulty==="easy"?"success":n.difficulty==="medium"?"warning":"error",children:n.difficulty})]})}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("p",{className:"text-gray-700 mb-2",children:n.description}),x.jsx("p",{className:"text-sm text-orange-600 font-medium",children:" Click a data structure, then click its matching application"})]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[x.jsx("span",{className:"text-lg",children:""})," Data Structures"]}),x.jsx("div",{className:"space-y-3",children:n.structures.map(z=>{const F=D.has(z.id),j=a.find(V=>V.structureId===z.id),O=j?o[j.applicationId]:void 0;return x.jsx(d3,{structure:z,isSelected:i===z.id,isMatched:F,isCorrect:O,showResult:f,onClick:()=>h(z.id),disabled:f},z.id)})})]}),x.jsxs("div",{children:[x.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[x.jsx("span",{className:"text-lg",children:""})," Real-World Applications"]}),x.jsx("div",{className:"space-y-3",children:n.applications.map(z=>{const F=M.has(z.id),j=a.find($=>$.applicationId===z.id),O=j?n.structures.find($=>$.id===j.structureId):void 0,V=o[z.id];return x.jsx(f3,{application:z,isSelected:s===z.id,isMatched:F,matchedStructureName:O==null?void 0:O.name,isCorrect:V,showResult:f,onClick:()=>y(z.id),onRemoveMatch:()=>b(z.id),disabled:f},z.id)})})]})]}),x.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:"text-sm text-gray-600",children:["Matches: ",a.length," / ",n.applications.length]}),!f&&x.jsx(We,{variant:"ghost",size:"sm",onClick:g,disabled:a.length===0,leftIcon:x.jsx(za,{size:14}),children:"Reset All"})]})})]}),f&&x.jsxs("div",{className:`p-6 border-t ${I?"bg-green-50":"bg-orange-50"}`,children:[x.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[x.jsx("span",{className:"text-2xl",children:I?"":""}),x.jsx("div",{children:x.jsx("h3",{className:"font-semibold mb-1",children:I?"Perfect Match!":"Here's why each match works:"})})]}),x.jsx("div",{className:"space-y-3",children:n.structures.map(z=>x.jsxs("div",{className:"p-3 bg-white/50 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx("span",{children:z.icon}),x.jsx("span",{className:"font-medium",children:z.name})]}),x.jsx("p",{className:"text-sm text-gray-600",children:n.explanations[z.id]})]},z.id))})]})]}),x.jsx("div",{className:"flex gap-3 mb-4",children:f?x.jsx(We,{variant:"primary",onClick:B,fullWidth:!0,rightIcon:x.jsx(Rc,{size:18}),children:r<e.length-1?"Next Challenge":"See Results"}):x.jsxs(x.Fragment,{children:[x.jsx(We,{variant:"secondary",onClick:k,children:"Reset"}),x.jsx(We,{variant:"primary",onClick:A,fullWidth:!0,disabled:!L,children:L?"Check Matches":`Match ${n.applications.length-a.length} more`})]})}),!f&&x.jsxs("details",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[x.jsx("summary",{className:"cursor-pointer text-yellow-800 font-medium",children:" Need a hint?"}),x.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:n.hint})]}),N&&x.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:x.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full",children:"Practice Mode - scores not saved"})})]}):x.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),x.jsx("p",{className:"text-gray-600",children:"Loading challenges..."})]})})}function v3({challenge:t,blankAnswers:e,validatedBlanks:r,activeBlank:n,showResult:a,onBlankClick:i,onBlankChange:s}){const o=ce.useMemo(()=>t.codeTemplate.split(`
`).map((c,d)=>{const f=/___([A-Z0-9]+)___/g,v=[];let h=0,y;for(;(y=f.exec(c))!==null;)y.index>h&&v.push(c.substring(h,y.index)),v.push({blankId:y[1],index:y.index}),h=y.index+y[0].length;return h<c.length&&v.push(c.substring(h)),v.length===0&&v.push(c),{lineNumber:d+1,parts:v}}),[t.codeTemplate]),u=l=>{if(a){const c=r[l];if(c===!0)return"bg-green-200 border-green-500 text-green-800";if(c===!1)return"bg-red-200 border-red-500 text-red-800"}return n===l?"bg-yellow-100 border-yellow-500 ring-2 ring-yellow-300":"bg-white border-gray-300 hover:border-blue-400"};return x.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"bg-gray-800 px-4 py-2 flex items-center gap-2",children:[x.jsxs("div",{className:"flex gap-1.5",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),x.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),x.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),x.jsx("span",{className:"text-gray-400 text-sm ml-2",children:t.algorithm}),x.jsxs("span",{className:"text-gray-600 text-xs",children:["(",t.language,")"]})]}),x.jsx("div",{className:"p-4 overflow-x-auto",children:x.jsx("pre",{className:"font-mono text-sm",children:o.map(({lineNumber:l,parts:c})=>x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"text-gray-600 select-none w-8 text-right pr-4 flex-shrink-0",children:l}),x.jsx("code",{className:"text-gray-100 flex-1",children:c.map((d,f)=>{if(typeof d=="string")return x.jsx("span",{children:p3(d)},f);{const v=t.blanks.find(b=>b.id===d.blankId),h=e[d.blankId]||"",y=r[d.blankId];return x.jsxs("span",{className:"inline-block mx-1",children:[x.jsx("input",{type:"text",value:h,onChange:b=>s(d.blankId,b.target.value),onClick:()=>i(d.blankId),disabled:a,placeholder:(v==null?void 0:v.hint)||"???",className:`
                            px-2 py-0.5 rounded border font-mono text-sm
                            min-w-[80px] max-w-[150px]
                            focus:outline-none transition-all
                            ${u(d.blankId)}
                            ${a?"cursor-default":"cursor-text"}
                          `,style:{width:`${Math.max(80,(h.length||8)*8)}px`}}),a&&y===!1&&v&&x.jsxs("span",{className:"text-green-400 text-xs ml-1",children:["(",v.correctAnswer,")"]})]},f)}})})]},l))})})]})}function p3(t){const e=["function","if","else","while","for","return","class","new","null","true","false","AND","OR","NOT","in","not","to","each"],r=[];return t.split(/(\s+|[(){}[\]:,.<>=+\-*/])/).forEach((a,i)=>{e.includes(a)?r.push(x.jsx("span",{className:"text-purple-400",children:a},i)):/^\/\/.*/.test(a)?r.push(x.jsx("span",{className:"text-gray-500",children:a},i)):/^['"].*['"]$/.test(a)?r.push(x.jsx("span",{className:"text-green-400",children:a},i)):/^\d+$/.test(a)?r.push(x.jsx("span",{className:"text-orange-400",children:a},i)):r.push(x.jsx("span",{children:a},i))}),r}function g3({questions:t,answers:e,validatedAnswers:r,showResult:n,onSelect:a}){const i=(s,o)=>{const u=e[s]===o,l=r[s],c=t.find(f=>f.id===s),d=(c==null?void 0:c.correctAnswer)===o;return n?d?"bg-green-100 border-green-500 text-green-800":u&&!l?"bg-red-100 border-red-500 text-red-800":"bg-gray-50 border-gray-200 text-gray-400":u?"bg-pink-100 border-pink-500 text-pink-800":"bg-white border-gray-200 hover:border-pink-400 hover:bg-pink-50"};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("h3",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[x.jsx("span",{className:"text-lg",children:""}),"Complexity Analysis"]}),t.map(s=>x.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[x.jsx("p",{className:"font-medium text-gray-700 mb-3",children:s.question}),x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:s.options.map(o=>x.jsxs("button",{onClick:()=>!n&&a(s.id,o),disabled:n,className:`
                  px-3 py-2 rounded-lg border-2 font-mono text-sm font-medium
                  transition-all duration-150
                  ${i(s.id,o)}
                  ${n?"cursor-default":"cursor-pointer"}
                `,children:[o,n&&s.correctAnswer===o&&x.jsx("span",{className:"ml-1",children:""})]},o))}),n&&r[s.id]===!1&&x.jsxs("p",{className:"mt-2 text-sm text-red-600",children:["Correct answer: ",x.jsx("span",{className:"font-mono font-bold",children:s.correctAnswer})]})]},s.id))]})}function m3({onBack:t}){const{challenges:e,currentIndex:r,currentChallenge:n,blankAnswers:a,complexityAnswers:i,validatedBlanks:s,validatedComplexity:o,activeBlank:u,score:l,timeSpent:c,streak:d,isComplete:f,showResult:v,initializeChallenges:h,setBlankAnswer:y,setComplexityAnswer:b,setActiveBlank:g,resetAnswers:p,submitAnswers:w,nextChallenge:E,incrementTime:k,resetChallenge:N}=Xk(),{practiceMode:C,updateModuleScore:A}=Ei();ce.useEffect(()=>{h()},[h]),ce.useEffect(()=>{if(f)return;const F=setInterval(()=>{k()},1e3);return()=>clearInterval(F)},[f,k]),ce.useEffect(()=>{f&&!C&&A("codeCompletion",l.correct,l.total,l.points,c)},[f,C,l,c,A]);const B=ce.useCallback(()=>{w()},[w]),P=ce.useCallback(()=>{E()},[E]),D=ce.useCallback(()=>{h()},[h]),M=ce.useMemo(()=>{if(!n)return!1;const F=n.blanks.every(O=>{var V;return(V=a[O.id])==null?void 0:V.trim()}),j=n.complexityQuestions?n.complexityQuestions.every(O=>i[O.id]):!0;return F&&j},[n,a,i]),L=ce.useMemo(()=>{var V;if(!n)return{answered:0,total:0};const F=n.blanks.filter($=>{var W;return(W=a[$.id])==null?void 0:W.trim()}).length,j=n.complexityQuestions?n.complexityQuestions.filter($=>i[$.id]).length:0,O=n.blanks.length+(((V=n.complexityQuestions)==null?void 0:V.length)||0);return{answered:F+j,total:O}},[n,a,i]),I=ce.useMemo(()=>{if(!v)return!1;const F=Object.values(s).every(Boolean),j=Object.values(o).every(Boolean);return F&&j},[v,s,o]);if(f){const F=Ci(l.correct,l.total),j=Ps(l.correct,l.total),O=il(F);return x.jsx("div",{className:"max-w-2xl mx-auto animate-fade-in",children:x.jsxs(Rn,{padding:"none",children:[x.jsxs("div",{className:`p-8 text-white text-center ${j?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-pink-500 to-red-500"}`,children:[x.jsx("div",{className:"text-6xl mb-3",children:j?"":""}),x.jsx("h2",{className:"text-2xl font-bold mb-1",children:O.label}),x.jsx("p",{className:"opacity-90",children:C?"Practice Complete":"Code Completion Complete"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[F,"%"]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Accuracy"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[l.correct,"/",l.total]}),x.jsx("div",{className:"text-sm text-gray-500",children:"Correct"})]}),x.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[x.jsx("div",{className:"text-3xl font-bold text-purple-600",children:Dn(c)}),x.jsx("div",{className:"text-sm text-gray-500",children:"Time"})]})]}),x.jsx("div",{className:"text-center mb-6",children:x.jsx("span",{className:`inline-block text-6xl font-bold ${O.colorClass}`,children:O.grade})}),!C&&x.jsxs("div",{className:"text-center mb-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[x.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[l.points," pts"]}),x.jsx("div",{className:"text-sm text-yellow-700",children:"Total Points Earned"})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsx(We,{variant:"secondary",onClick:t,fullWidth:!0,children:"Back to Menu"}),x.jsx(We,{variant:"primary",onClick:D,fullWidth:!0,children:"Play Again"})]})]})]})})}if(!n)return x.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),x.jsx("p",{className:"text-gray-600",children:"Loading challenges..."})]})});const z=n.complexityQuestions&&n.complexityQuestions.length>0;return x.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx(We,{variant:"ghost",onClick:t,leftIcon:x.jsx(bs,{size:20}),children:"Back"}),x.jsxs("div",{className:"flex items-center gap-3",children:[d>=2&&x.jsxs(or,{variant:"warning",className:"animate-pulse",children:[" ",d," streak!"]}),x.jsx("span",{className:"text-gray-600 font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:Dn(c)})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Challenge ",r+1," of ",e.length]}),x.jsxs("span",{className:"text-sm font-medium text-green-600",children:[l.correct," correct"]})]}),x.jsx(ol,{value:r+1,max:e.length,color:"pink",animated:!0})]}),x.jsxs(Rn,{padding:"none",className:"mb-4",children:[x.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-pink-500 to-rose-600 text-white",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"font-semibold text-lg",children:n.title}),x.jsx("p",{className:"text-pink-200 text-sm",children:n.category})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(or,{variant:n.difficulty==="easy"?"success":n.difficulty==="medium"?"warning":"error",children:n.difficulty}),x.jsx(or,{variant:"default",children:n.type})]})]})}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("p",{className:"text-gray-700 mb-2",children:n.description}),x.jsx("p",{className:"text-sm text-pink-600 font-medium",children:" Fill in the blanks to complete the algorithm"})]}),x.jsx(v3,{challenge:n,blankAnswers:a,validatedBlanks:s,activeBlank:u,showResult:v,onBlankClick:g,onBlankChange:y}),z&&x.jsx("div",{className:"mt-6",children:x.jsx(g3,{questions:n.complexityQuestions,answers:i,validatedAnswers:o,showResult:v,onSelect:b})}),x.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[x.jsxs("span",{className:"text-sm text-gray-600",children:["Answered: ",L.answered," / ",L.total]}),!v&&x.jsx(We,{variant:"ghost",size:"sm",onClick:p,disabled:L.answered===0,leftIcon:x.jsx(za,{size:14}),children:"Reset All"})]})]}),v&&x.jsx("div",{className:`p-6 border-t ${I?"bg-green-50":"bg-pink-50"}`,children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"text-2xl",children:I?"":""}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-1",children:I?"Perfect!":"Explanation"}),x.jsx("p",{className:"text-sm opacity-90",children:n.explanation})]})]})})]}),x.jsx("div",{className:"flex gap-3 mb-4",children:v?x.jsx(We,{variant:"primary",onClick:P,fullWidth:!0,rightIcon:x.jsx(Rc,{size:18}),children:r<e.length-1?"Next Challenge":"See Results"}):x.jsxs(x.Fragment,{children:[x.jsx(We,{variant:"secondary",onClick:N,children:"Reset"}),x.jsx(We,{variant:"primary",onClick:B,fullWidth:!0,disabled:!M,children:M?"Check Answers":`Answer ${L.total-L.answered} more`})]})}),!v&&x.jsxs("details",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[x.jsx("summary",{className:"cursor-pointer text-yellow-800 font-medium",children:" Need a hint?"}),x.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:n.hint})]}),C&&x.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:x.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-full",children:"Practice Mode - scores not saved"})})]})}const ix="dsa-game-welcome-shown";function y3({forceShow:t=!1,onClose:e}){const[r,n]=ce.useState(!1),[a,i]=ce.useState(0);ce.useEffect(()=>{if(t){n(!0);return}localStorage.getItem(ix)||n(!0)},[t]);const s=()=>{localStorage.setItem(ix,"true"),n(!1),e==null||e()},o=()=>{a<u.length-1?i(a+1):s()},u=[{icon:x.jsx(Eb,{className:"w-12 h-12 text-accent-500"}),title:"Welcome to DSA Learning Game!",description:"Master Data Structures and Algorithms through interactive challenges and games.",color:"from-primary-500 to-accent-500"},{icon:x.jsx(bb,{className:"w-12 h-12 text-primary-500"}),title:"Learn by Doing",description:"Complete quizzes, solve traversal challenges, match real-world applications, and fill in code blanks.",color:"from-primary-500 to-blue-500"},{icon:x.jsx(HC,{className:"w-12 h-12 text-amber-500"}),title:"Track Your Progress",description:"Earn points, build streaks, and achieve a passing score of 70% in each module.",color:"from-amber-500 to-coral-500"},{icon:x.jsx(GC,{className:"w-12 h-12 text-mint-500"}),title:"Let's Get Started!",description:"Choose a module from the menu and begin your learning journey.",color:"from-mint-500 to-success-500"}],l=u[a];return x.jsx(mT,{isOpen:r,onClose:s,size:"md",showCloseButton:!1,closeOnBackdrop:!1,variant:"celebration",children:x.jsxs("div",{className:"text-center py-4",children:[x.jsx("div",{className:"flex justify-center gap-2 mb-6",children:u.map((c,d)=>x.jsx("div",{className:`
                w-2 h-2 rounded-full transition-all duration-300
                ${d===a?"w-6 bg-gradient-to-r "+l.color:d<a?"bg-gray-400":"bg-gray-200"}
              `},d))}),x.jsx("div",{className:"flex justify-center mb-4 animate-bounce-in",children:x.jsx("div",{className:`p-4 rounded-2xl bg-gradient-to-br ${l.color} bg-opacity-10`,children:l.icon})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3 animate-fade-in",children:l.title}),x.jsx("p",{className:"text-gray-600 mb-8 animate-fade-in",children:l.description}),x.jsxs("div",{className:"flex gap-3",children:[a>0&&x.jsx(We,{variant:"ghost",onClick:()=>i(a-1),className:"flex-1",children:"Back"}),x.jsx(We,{variant:"gradient",onClick:o,className:a===0?"w-full":"flex-1",bounce:!0,children:a===u.length-1?"Let's Go!":"Next"})]}),a<u.length-1&&x.jsx("button",{onClick:s,className:"mt-4 text-sm text-gray-400 hover:text-gray-600 transition-colors",children:"Skip intro"})]})})}function x3(){const[t,e]=ce.useState("menu"),[r,n]=ce.useState(!0),[a,i]=ce.useState(null),{setDbInitialized:s,loadScores:o,refreshOverallProgress:u}=Ei();ce.useEffect(()=>{(async()=>{try{await _b(),s(!0),await o(),await u()}catch(v){console.error("Failed to initialize database:",v),i("Failed to initialize database. Please refresh the page.")}finally{n(!1)}})()},[s,o,u]);const l=ce.useCallback(f=>{e(f)},[]),c=ce.useCallback(()=>{e("menu")},[]);if(r)return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center",children:x.jsxs("div",{className:"text-center animate-fade-in",children:[x.jsxs("div",{className:"relative mb-6",children:[x.jsx(uT,{size:"xl",color:"gradient"}),x.jsx("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-3xl",children:""})]}),x.jsx("h2",{className:"text-xl font-semibold gradient-text mb-2",children:"Loading DSA Game"}),x.jsx("p",{className:"text-gray-500",children:"Initializing your learning experience..."})]})});if(a)return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 flex items-center justify-center p-4",children:x.jsx(fv,{title:"Connection Error",message:a,variant:"playful",onRetry:()=>window.location.reload()})});const d=()=>{switch(t){case"theory":return x.jsx(kT,{onBack:c});case"diagrams":return x.jsx(o3,{onBack:c});case"traversals":return x.jsx(c3,{onBack:c});case"realWorld":return x.jsx(h3,{onBack:c});case"codeCompletion":return x.jsx(m3,{onBack:c});default:return x.jsx(bT,{onSelectModule:l})}};return x.jsx(pT,{position:"bottom-right",children:x.jsx(yT,{fallback:x.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:x.jsx(fv,{title:"Something went wrong",message:"The application encountered an unexpected error.",onRetry:()=>window.location.reload(),onGoHome:c})}),children:x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100",children:[x.jsx(y3,{}),x.jsx("header",{className:"bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-100 sticky top-0 z-40",children:x.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-gray-700 hover:text-primary-600 transition-colors group",children:[x.jsx("span",{className:"text-2xl group-hover:animate-wiggle",children:""}),x.jsxs("span",{className:"font-semibold hidden sm:inline",children:[x.jsx("span",{className:"gradient-text",children:"DSA"})," Learning Game"]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-sm text-gray-500",children:[x.jsx(Eb,{size:14,className:"text-accent-400"}),x.jsx("span",{children:"CSC 731"})]}),x.jsx("a",{href:"https://github.com/oilmonegov/dsa-game",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-100 rounded-lg","aria-label":"GitHub",children:x.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})})]})]})})}),x.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:x.jsx("div",{className:t!=="menu"?"animate-fade-in":"",children:d()})}),x.jsx("footer",{className:"bg-white/60 backdrop-blur-sm border-t border-gray-100 mt-auto",children:x.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:x.jsx("div",{className:"text-center text-sm text-gray-500",children:x.jsxs("p",{children:["Built for ",x.jsx("span",{className:"font-medium text-gray-600",children:"CSC 731"})," - Data Structures & Algorithms "," ",x.jsx("a",{href:"/docs/CSC731_Complete_Study_Guide.html",className:"text-primary-500 hover:text-primary-600 hover:underline transition-colors",children:"View Study Guide"})]})})})})]})})})}const A2=document.getElementById("root");if(!A2)throw new Error("Root element not found");yb(A2).render(x.jsx(ce.StrictMode,{children:x.jsx(x3,{})}));</script>
    <style rel="stylesheet" crossorigin>*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,system-ui,sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:JetBrains Mono,Menlo,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}html{scroll-behavior:smooth}body{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops));--tw-gradient-from: #f8fafc var(--tw-gradient-from-position);--tw-gradient-to: rgb(248 250 252 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #fff var(--tw-gradient-via-position), var(--tw-gradient-to);--tw-gradient-to: #f1f5f9 var(--tw-gradient-to-position);--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1));-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-feature-settings:"cv02","cv03","cv04","cv11";min-height:100vh}*:focus-visible{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}::-moz-selection{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}::selection{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.glass{border-width:1px;border-color:#fff3;background-color:#ffffffb3;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(12px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.gradient-text{background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: rgb(139 92 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #8b5cf6 var(--tw-gradient-via-position), var(--tw-gradient-to);--tw-gradient-to: #ec4899 var(--tw-gradient-to-position);-webkit-background-clip:text;background-clip:text;color:transparent}.card-glow{position:relative;overflow:hidden}.card-glow:before{content:"";position:absolute;top:-.125rem;right:-.125rem;bottom:-.125rem;left:-.125rem;border-radius:1rem;background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: rgb(139 92 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #8b5cf6 var(--tw-gradient-via-position), var(--tw-gradient-to);--tw-gradient-to: #ec4899 var(--tw-gradient-to-position);opacity:0;--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.card-glow:hover:before{opacity:.3}.card-glow>*{position:relative}.card-interactive{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s;transition-timing-function:cubic-bezier(0,0,.2,1)}.card-interactive:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.card-interactive:active{--tw-translate-y: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.progress-stripes{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:40px 40px}.shimmer{position:relative;overflow:hidden}.shimmer:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:shimmer 2s infinite}.toast{display:flex;align-items:center;gap:.75rem;border-radius:.75rem;padding:.75rem 1rem;--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);animation:slideInRight .3s ease-out}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-top-5{top:-1.25rem}.bottom-0{bottom:0}.bottom-4{bottom:1rem}.bottom-full{bottom:100%}.left-0{left:0}.left-1\/2{left:50%}.left-4{left:1rem}.left-full{left:100%}.right-0{right:0}.right-4{right:1rem}.right-full{right:100%}.top-0{top:0}.top-1\/2{top:50%}.top-4{top:1rem}.top-full{top:100%}.z-40{z-index:40}.z-50{z-index:50}.z-\[100\]{z-index:100}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-1\.5{margin-bottom:.375rem}.mb-10{margin-bottom:2.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-1\.5{margin-left:.375rem}.ml-2{margin-left:.5rem}.mr-2{margin-right:.5rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mt-auto{margin-top:auto}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-0{height:0px}.h-1{height:.25rem}.h-1\.5{height:.375rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\.5{height:.625rem}.h-3{height:.75rem}.h-4{height:1rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-\[350px\]{height:350px}.h-\[400px\]{height:400px}.h-full{height:100%}.max-h-0{max-height:0px}.max-h-96{max-height:24rem}.max-h-\[500px\]{max-height:500px}.max-h-\[70vh\]{max-height:70vh}.min-h-\[400px\]{min-height:400px}.min-h-\[40px\]{min-height:40px}.min-h-screen{min-height:100vh}.w-0{width:0px}.w-1{width:.25rem}.w-1\.5{width:.375rem}.w-1\/2{width:50%}.w-1\/3{width:33.333333%}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\.5{width:.625rem}.w-20{width:5rem}.w-24{width:6rem}.w-3{width:.75rem}.w-3\/4{width:75%}.w-32{width:8rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-\[80px\]{min-width:80px}.max-w-2xl{max-width:42rem}.max-w-4xl{max-width:56rem}.max-w-5xl{max-width:64rem}.max-w-6xl{max-width:72rem}.max-w-\[150px\]{max-width:150px}.max-w-lg{max-width:32rem}.max-w-md{max-width:28rem}.max-w-sm{max-width:24rem}.max-w-xl{max-width:36rem}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.grow{flex-grow:1}.-translate-x-1\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-full{--tw-translate-x: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-105{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.animate-bounce{animation:bounce 1s infinite}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.animate-bounce-in{animation:bounceIn .5s cubic-bezier(.68,-.55,.265,1.55)}@keyframes confetti{0%{transform:translateY(0) rotate(0);opacity:1}to{transform:translateY(100px) rotate(720deg);opacity:0}}.animate-confetti{animation:confetti 1s ease-out forwards}.animate-fade-in{animation:fadeIn .3s ease-in-out}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.animate-float{animation:float 3s ease-in-out infinite}@keyframes ping{75%,to{transform:scale(2);opacity:0}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes pop{0%{transform:scale(.95)}40%{transform:scale(1.02)}to{transform:scale(1)}}.animate-pop{animation:pop .3s cubic-bezier(.68,-.55,.265,1.55)}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes pulseSoft{0%,to{opacity:1}50%{opacity:.7}}.animate-pulse-soft{animation:pulseSoft 2s ease-in-out infinite}.animate-pulse-success{animation:pulseSuccess .5s ease-in-out}@keyframes scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.animate-scale-in{animation:scaleIn .2s ease-out}.animate-shake{animation:shake .5s ease-in-out}.animate-slide-up{animation:slideUp .3s ease-out}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}@keyframes stripeSlide{0%{background-position:0 0}to{background-position:40px 0}}.animate-stripe-slide{animation:stripeSlide 1s linear infinite}.animate-wiggle{animation:wiggle .5s ease-in-out}.cursor-default{cursor:default}.cursor-help{cursor:help}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.cursor-text{cursor:text}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize{resize:both}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-visible{overflow:visible}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.text-wrap{text-wrap:wrap}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-xl{border-radius:.75rem}.rounded-b-2xl{border-bottom-right-radius:1rem;border-bottom-left-radius:1rem}.border{border-width:1px}.border-2{border-width:2px}.border-\[6px\]{border-width:6px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-amber-200{--tw-border-opacity: 1;border-color:rgb(253 230 138 / var(--tw-border-opacity, 1))}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-300{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-blue-700{--tw-border-opacity: 1;border-color:rgb(29 78 216 / var(--tw-border-opacity, 1))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-green-500{--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-lavender-200{--tw-border-opacity: 1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.border-mint-200{--tw-border-opacity: 1;border-color:rgb(153 246 228 / var(--tw-border-opacity, 1))}.border-orange-200{--tw-border-opacity: 1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-orange-500{--tw-border-opacity: 1;border-color:rgb(249 115 22 / var(--tw-border-opacity, 1))}.border-pink-500{--tw-border-opacity: 1;border-color:rgb(236 72 153 / var(--tw-border-opacity, 1))}.border-primary-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-purple-200{--tw-border-opacity: 1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.border-purple-500{--tw-border-opacity: 1;border-color:rgb(168 85 247 / var(--tw-border-opacity, 1))}.border-purple-700{--tw-border-opacity: 1;border-color:rgb(126 34 206 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-red-500{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.border-yellow-500{--tw-border-opacity: 1;border-color:rgb(234 179 8 / var(--tw-border-opacity, 1))}.border-b-gray-800{--tw-border-opacity: 1;border-bottom-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-b-transparent{border-bottom-color:transparent}.border-l-gray-800{--tw-border-opacity: 1;border-left-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-l-transparent{border-left-color:transparent}.border-r-gray-800{--tw-border-opacity: 1;border-right-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-r-transparent{border-right-color:transparent}.border-t-gray-800{--tw-border-opacity: 1;border-top-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-t-transparent{border-top-color:transparent}.bg-amber-50{--tw-bg-opacity: 1;background-color:rgb(255 251 235 / var(--tw-bg-opacity, 1))}.bg-amber-500{--tw-bg-opacity: 1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.bg-black\/10{background-color:#0000001a}.bg-black\/50{background-color:#00000080}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-coral-50{--tw-bg-opacity: 1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-emerald-500{--tw-bg-opacity: 1;background-color:rgb(16 185 129 / var(--tw-bg-opacity, 1))}.bg-emerald-600{--tw-bg-opacity: 1;background-color:rgb(5 150 105 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-100\/80{background-color:#f3f4f6cc}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-50\/80{background-color:#f9fafbcc}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-200{--tw-bg-opacity: 1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-lavender-100{--tw-bg-opacity: 1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-lavender-500{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}.bg-mint-100{--tw-bg-opacity: 1;background-color:rgb(204 251 241 / var(--tw-bg-opacity, 1))}.bg-mint-50{--tw-bg-opacity: 1;background-color:rgb(240 253 250 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-orange-50{--tw-bg-opacity: 1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-orange-500{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-pink-100{--tw-bg-opacity: 1;background-color:rgb(252 231 243 / var(--tw-bg-opacity, 1))}.bg-pink-50{--tw-bg-opacity: 1;background-color:rgb(253 242 248 / var(--tw-bg-opacity, 1))}.bg-pink-500{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity, 1))}.bg-primary-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-primary-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity: 1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-purple-50{--tw-bg-opacity: 1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-purple-500{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}.bg-purple-900\/50{background-color:#581c8780}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-200{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-success-500{--tw-bg-opacity: 1;background-color:rgb(16 185 129 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/20{background-color:#fff3}.bg-white\/40{background-color:#fff6}.bg-white\/50{background-color:#ffffff80}.bg-white\/60{background-color:#fff9}.bg-white\/80{background-color:#fffc}.bg-white\/90{background-color:#ffffffe6}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-opacity-10{--tw-bg-opacity: .1}.bg-opacity-60{--tw-bg-opacity: .6}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-amber-100{--tw-gradient-from: #fef3c7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 243 199 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-amber-50{--tw-gradient-from: #fffbeb var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 251 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-amber-500{--tw-gradient-from: #f59e0b var(--tw-gradient-from-position);--tw-gradient-to: rgb(245 158 11 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-candy-400{--tw-gradient-from: #f472b6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(244 114 182 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-candy-50{--tw-gradient-from: #fdf2f8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(253 242 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-candy-500{--tw-gradient-from: #ec4899 var(--tw-gradient-from-position);--tw-gradient-to: rgb(236 72 153 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-coral-400{--tw-gradient-from: #fb923c var(--tw-gradient-from-position);--tw-gradient-to: rgb(251 146 60 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-coral-500{--tw-gradient-from: #f97316 var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 115 22 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-gray-200{--tw-gradient-from: #e5e7eb var(--tw-gradient-from-position);--tw-gradient-to: rgb(229 231 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-gray-50{--tw-gradient-from: #f9fafb var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 250 251 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-500{--tw-gradient-from: #22c55e var(--tw-gradient-from-position);--tw-gradient-to: rgb(34 197 94 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-lavender-100{--tw-gradient-from: #f3e8ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(243 232 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-lavender-400{--tw-gradient-from: #c084fc var(--tw-gradient-from-position);--tw-gradient-to: rgb(192 132 252 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-lavender-500{--tw-gradient-from: #a855f7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-mint-100{--tw-gradient-from: #ccfbf1 var(--tw-gradient-from-position);--tw-gradient-to: rgb(204 251 241 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-mint-400{--tw-gradient-from: #2dd4bf var(--tw-gradient-from-position);--tw-gradient-to: rgb(45 212 191 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-mint-50{--tw-gradient-from: #f0fdfa var(--tw-gradient-from-position);--tw-gradient-to: rgb(240 253 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-mint-500{--tw-gradient-from: #14b8a6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(20 184 166 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-500{--tw-gradient-from: #f97316 var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 115 22 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-pink-500{--tw-gradient-from: #ec4899 var(--tw-gradient-from-position);--tw-gradient-to: rgb(236 72 153 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary-100{--tw-gradient-from: #dbeafe var(--tw-gradient-from-position);--tw-gradient-to: rgb(219 234 254 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary-400{--tw-gradient-from: #60a5fa var(--tw-gradient-from-position);--tw-gradient-to: rgb(96 165 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary-500{--tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-500{--tw-gradient-from: #a855f7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-600{--tw-gradient-from: #9333ea var(--tw-gradient-from-position);--tw-gradient-to: rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-100{--tw-gradient-from: #fee2e2 var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 226 226 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-50{--tw-gradient-from: #fef2f2 var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 242 242 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-500{--tw-gradient-from: #ef4444 var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 68 68 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-slate-50{--tw-gradient-from: #f8fafc var(--tw-gradient-from-position);--tw-gradient-to: rgb(248 250 252 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-white{--tw-gradient-from: #fff var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-accent-500{--tw-gradient-to: rgb(139 92 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #8b5cf6 var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-white{--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #fff var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-accent-500{--tw-gradient-to: #8b5cf6 var(--tw-gradient-to-position)}.to-accent-600{--tw-gradient-to: #7c3aed var(--tw-gradient-to-position)}.to-amber-500{--tw-gradient-to: #f59e0b var(--tw-gradient-to-position)}.to-amber-600{--tw-gradient-to: #d97706 var(--tw-gradient-to-position)}.to-blue-100{--tw-gradient-to: #dbeafe var(--tw-gradient-to-position)}.to-blue-50{--tw-gradient-to: #eff6ff var(--tw-gradient-to-position)}.to-blue-500{--tw-gradient-to: #3b82f6 var(--tw-gradient-to-position)}.to-blue-600{--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.to-candy-500{--tw-gradient-to: #ec4899 var(--tw-gradient-to-position)}.to-coral-500{--tw-gradient-to: #f97316 var(--tw-gradient-to-position)}.to-emerald-600{--tw-gradient-to: #059669 var(--tw-gradient-to-position)}.to-gray-300{--tw-gradient-to: #d1d5db var(--tw-gradient-to-position)}.to-gray-50{--tw-gradient-to: #f9fafb var(--tw-gradient-to-position)}.to-indigo-600{--tw-gradient-to: #4f46e5 var(--tw-gradient-to-position)}.to-orange-100{--tw-gradient-to: #ffedd5 var(--tw-gradient-to-position)}.to-orange-50{--tw-gradient-to: #fff7ed var(--tw-gradient-to-position)}.to-primary-600{--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.to-purple-100{--tw-gradient-to: #f3e8ff var(--tw-gradient-to-position)}.to-red-500{--tw-gradient-to: #ef4444 var(--tw-gradient-to-position)}.to-rose-100{--tw-gradient-to: #ffe4e6 var(--tw-gradient-to-position)}.to-rose-50{--tw-gradient-to: #fff1f2 var(--tw-gradient-to-position)}.to-rose-500{--tw-gradient-to: #f43f5e var(--tw-gradient-to-position)}.to-rose-600{--tw-gradient-to: #e11d48 var(--tw-gradient-to-position)}.to-slate-100{--tw-gradient-to: #f1f5f9 var(--tw-gradient-to-position)}.to-success-100{--tw-gradient-to: #d1fae5 var(--tw-gradient-to-position)}.to-success-50{--tw-gradient-to: #ecfdf5 var(--tw-gradient-to-position)}.to-success-500{--tw-gradient-to: #10b981 var(--tw-gradient-to-position)}.to-success-600{--tw-gradient-to: #059669 var(--tw-gradient-to-position)}.to-white{--tw-gradient-to: #fff var(--tw-gradient-to-position)}.to-yellow-50{--tw-gradient-to: #fefce8 var(--tw-gradient-to-position)}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-4{padding-bottom:1rem}.pr-4{padding-right:1rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:JetBrains Mono,Menlo,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-2xs{font-size:.625rem;line-height:.75rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.text-6xl{font-size:3.75rem;line-height:1}.text-7xl{font-size:4.5rem;line-height:1}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.italic{font-style:italic}.leading-relaxed{line-height:1.625}.text-accent-400{--tw-text-opacity: 1;color:rgb(192 132 252 / var(--tw-text-opacity, 1))}.text-accent-500{--tw-text-opacity: 1;color:rgb(139 92 246 / var(--tw-text-opacity, 1))}.text-accent-600{--tw-text-opacity: 1;color:rgb(124 58 237 / var(--tw-text-opacity, 1))}.text-amber-500{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-amber-600{--tw-text-opacity: 1;color:rgb(217 119 6 / var(--tw-text-opacity, 1))}.text-amber-700{--tw-text-opacity: 1;color:rgb(180 83 9 / var(--tw-text-opacity, 1))}.text-amber-800{--tw-text-opacity: 1;color:rgb(146 64 14 / var(--tw-text-opacity, 1))}.text-blue-100{--tw-text-opacity: 1;color:rgb(219 234 254 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-candy-600{--tw-text-opacity: 1;color:rgb(219 39 119 / var(--tw-text-opacity, 1))}.text-coral-500{--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-coral-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-coral-700{--tw-text-opacity: 1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-emerald-600{--tw-text-opacity: 1;color:rgb(5 150 105 / var(--tw-text-opacity, 1))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-lavender-700{--tw-text-opacity: 1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.text-lavender-800{--tw-text-opacity: 1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-mint-500{--tw-text-opacity: 1;color:rgb(20 184 166 / var(--tw-text-opacity, 1))}.text-mint-800{--tw-text-opacity: 1;color:rgb(17 94 89 / var(--tw-text-opacity, 1))}.text-orange-200{--tw-text-opacity: 1;color:rgb(254 215 170 / var(--tw-text-opacity, 1))}.text-orange-400{--tw-text-opacity: 1;color:rgb(251 146 60 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity: 1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-orange-800{--tw-text-opacity: 1;color:rgb(154 52 18 / var(--tw-text-opacity, 1))}.text-pink-200{--tw-text-opacity: 1;color:rgb(251 207 232 / var(--tw-text-opacity, 1))}.text-pink-600{--tw-text-opacity: 1;color:rgb(219 39 119 / var(--tw-text-opacity, 1))}.text-pink-800{--tw-text-opacity: 1;color:rgb(157 23 77 / var(--tw-text-opacity, 1))}.text-primary-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-primary-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-primary-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-primary-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-purple-200{--tw-text-opacity: 1;color:rgb(233 213 255 / var(--tw-text-opacity, 1))}.text-purple-300{--tw-text-opacity: 1;color:rgb(216 180 254 / var(--tw-text-opacity, 1))}.text-purple-400{--tw-text-opacity: 1;color:rgb(192 132 252 / var(--tw-text-opacity, 1))}.text-purple-500{--tw-text-opacity: 1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-purple-700{--tw-text-opacity: 1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.text-purple-800{--tw-text-opacity: 1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-success-500{--tw-text-opacity: 1;color:rgb(16 185 129 / var(--tw-text-opacity, 1))}.text-success-600{--tw-text-opacity: 1;color:rgb(5 150 105 / var(--tw-text-opacity, 1))}.text-success-700{--tw-text-opacity: 1;color:rgb(4 120 87 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\/80{color:#fffc}.text-yellow-600{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.text-yellow-700{--tw-text-opacity: 1;color:rgb(161 98 7 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-25{opacity:.25}.opacity-60{opacity:.6}.opacity-75{opacity:.75}.opacity-90{opacity:.9}.shadow-glow-blue{--tw-shadow: 0 0 20px rgba(59, 130, 246, .4);--tw-shadow-colored: 0 0 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-glow-green{--tw-shadow: 0 0 20px rgba(16, 185, 129, .4);--tw-shadow-colored: 0 0 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-glow-orange{--tw-shadow: 0 0 20px rgba(249, 115, 22, .4);--tw-shadow-colored: 0 0 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-glow-pink{--tw-shadow: 0 0 20px rgba(236, 72, 153, .4);--tw-shadow-colored: 0 0 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-glow-purple{--tw-shadow: 0 0 20px rgba(139, 92, 246, .4);--tw-shadow-colored: 0 0 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-inner{--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / .05);--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-playful-lg{--tw-shadow: 0 10px 40px -10px rgba(0, 0, 0, .2), 0 0 0 1px rgba(0, 0, 0, .05);--tw-shadow-colored: 0 10px 40px -10px var(--tw-shadow-color), 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.ring-2{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-green-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(134 239 172 / var(--tw-ring-opacity, 1))}.ring-orange-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(253 186 116 / var(--tw-ring-opacity, 1))}.ring-red-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(252 165 165 / var(--tw-ring-opacity, 1))}.ring-yellow-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(253 224 71 / var(--tw-ring-opacity, 1))}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow-md{--tw-drop-shadow: drop-shadow(0 4px 3px rgb(0 0 0 / .07)) drop-shadow(0 2px 2px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-md{--tw-backdrop-blur: blur(12px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-saturate-150{--tw-backdrop-saturate: saturate(1.5);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.duration-75{transition-duration:75ms}.ease-linear{transition-timing-function:linear}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.scrollbar-thin{scrollbar-width:thin;scrollbar-color:#d1d5db transparent}.scrollbar-thin::-webkit-scrollbar{width:6px;height:6px}.scrollbar-thin::-webkit-scrollbar-track{background:transparent}.scrollbar-thin::-webkit-scrollbar-thumb{background-color:#d1d5db;border-radius:3px}.scrollbar-thin::-webkit-scrollbar-thumb:hover{background-color:#9ca3af}.text-shadow{text-shadow:0 2px 4px rgba(0,0,0,.1)}.backdrop-saturate-150{-webkit-backdrop-filter:saturate(150%);backdrop-filter:saturate(150%)}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}@keyframes pulseSuccess{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes shimmer{to{transform:translate(100%)}}@keyframes badgePulse{0%,to{transform:scale(1);opacity:.4}50%{transform:scale(1.5);opacity:0}}@keyframes celebrate{0%{transform:scale(1) rotate(0)}25%{transform:scale(1.1) rotate(-5deg)}50%{transform:scale(1.2) rotate(5deg)}75%{transform:scale(1.1) rotate(-3deg)}to{transform:scale(1) rotate(0)}}#cy{width:100%;height:400px;border:2px solid #e5e7eb;border-radius:.75rem;background:linear-gradient(135deg,#f9fafb,#fff);box-shadow:inset 0 2px 4px #0000000d}.react-toast-container{position:fixed;bottom:1rem;right:1rem;z-index:50;display:flex;flex-direction:column;gap:.5rem}.stagger-children>*{opacity:0;animation:fadeIn .4s ease-out forwards}.stagger-children>*:nth-child(1){animation-delay:0ms}.stagger-children>*:nth-child(2){animation-delay:50ms}.stagger-children>*:nth-child(3){animation-delay:.1s}.stagger-children>*:nth-child(4){animation-delay:.15s}.stagger-children>*:nth-child(5){animation-delay:.2s}.stagger-children>*:nth-child(6){animation-delay:.25s}.stagger-children>*:nth-child(7){animation-delay:.3s}.stagger-children>*:nth-child(8){animation-delay:.35s}.stagger-children>*:nth-child(9){animation-delay:.4s}.stagger-children>*:nth-child(10){animation-delay:.45s}.hover\:-translate-y-1:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:scale-105:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-blue-300:hover{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1))}.hover\:border-blue-400:hover{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.hover\:border-gray-300:hover{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.hover\:border-pink-400:hover{--tw-border-opacity: 1;border-color:rgb(244 114 182 / var(--tw-border-opacity, 1))}.hover\:bg-black\/5:hover{background-color:#0000000d}.hover\:bg-blue-50:hover{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-emerald-700:hover{--tw-bg-opacity: 1;background-color:rgb(4 120 87 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-100\/80:hover{background-color:#f3f4f6cc}.hover\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-300:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-pink-50:hover{--tw-bg-opacity: 1;background-color:rgb(253 242 248 / var(--tw-bg-opacity, 1))}.hover\:bg-red-700:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\:bg-white\/20:hover{background-color:#fff3}.hover\:bg-white\/30:hover{background-color:#ffffff4d}.hover\:from-purple-700:hover{--tw-gradient-from: #7e22ce var(--tw-gradient-from-position);--tw-gradient-to: rgb(126 34 206 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:to-blue-700:hover{--tw-gradient-to: #1d4ed8 var(--tw-gradient-to-position)}.hover\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.hover\:text-primary-600:hover{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.hover\:text-red-600:hover{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.hover\:underline:hover{text-decoration-line:underline}.hover\:shadow-md:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.focus\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\:ring-emerald-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(16 185 129 / var(--tw-ring-opacity, 1))}.focus\:ring-gray-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(156 163 175 / var(--tw-ring-opacity, 1))}.focus\:ring-purple-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(168 85 247 / var(--tw-ring-opacity, 1))}.focus\:ring-red-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1))}.focus\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.active\:scale-95:active{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}@keyframes wiggle{0%,to{transform:rotate(-3deg)}50%{transform:rotate(3deg)}}.group:hover .group-hover\:animate-wiggle{animation:wiggle .5s ease-in-out}@media (min-width: 640px){.sm\:inline{display:inline}.sm\:flex{display:flex}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.sm\:flex-row{flex-direction:row}}@media (min-width: 768px){.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 1024px){.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
